var t={nickname:"",fav_server:"",hidh_score:0,snakercv:-1,custom_bg:null,instant_gameover:!1,snakey_rotate:!0,fps_limiter:"auto",skin_quality:"Normal",skin_texture:"Default",background:0,brightness:5,boost_glow:!1,snake_shadow:!1,dying_animation:!1,show_score:!0,show_nick:!0,nick_colored:!0,nick_size:16,invisible_my_snake:!1,food_glow_effect:!1,small_food:!0,shake_food:!1,food_shadow:!1,legacy_food:!1,custom_food:!1,custom_food_default_color:!0,custom_food_color:"#FF0000",custom_food_shape:"Circle",custom_food_size:10,custom_food_filled:!1,border_color:"#1221B5",border_outside_color:"#000215",zoom_smooth:!0,zoom_sensitivity:10,save_last_pos:!0,map_dot:0,visualize:!1,follow_circle_length:2e3,peek_true_skin:!0,peek_big_food:!0,peek_own_skin:!0,peek_own_nick:!0,peek_key_owner:!0,asst_lazer_color:"#FF0000",asst_go_skinless:!0,asst_show_spine:!0,asst_lazer_on_top:!0,asst_hide_food:!0,asst_hide_tag_cosme:!0,custom_skin:[],credentials:[],publicTag:0,publicCosmetic:0},e=Array.isArray,s=Array.prototype.indexOf,n=Array.from,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyDescriptors,a=Object.prototype,l=Array.prototype,c=Object.getPrototypeOf,d=Object.isExtensible;function u(t){return"function"==typeof t}var h=()=>{};function p(t){return t()}function f(t){for(var e=0;e<t.length;e++)t[e]()}var g=256,v=1024,m=2048,y=4096,b=8192,w=16384,x=65536,k=1<<21,_=Symbol("$state"),M=Symbol("legacy props"),A=Symbol("");function $(t){return t===this.v}function S(t,e){return t!=t?e==e:t!==e||null!==t&&"object"==typeof t||"function"==typeof t}function P(t){return!S(t,this.v)}function C(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function I(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function E(t){throw new Error("https://svelte.dev/e/effect_orphan")}function F(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function T(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function N(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function O(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function R(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var z=!1,D=Symbol();function L(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var B=null;function V(t){B=t}function j(t){return K().get(t)}function U(t,e){return K().set(t,e),e}function W(t,e=!1,s){var n=B={p:B,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};z&&!e&&(B.l={s:null,u:null,r1:[],r2:ct(!1)}),$t((()=>{n.d=!0}))}function H(t){const e=B;if(null!==e){const t=e.e;if(null!==t){var s=ce,n=ie;e.e=null;try{for(var r=0;r<t.length;r++){var o=t[r];de(o.effect),le(o.reaction),Et(o.fn)}}finally{de(s),le(n)}}B=e.p,e.m=!0}return{}}function q(){return!z||null!==B&&null===B.l}function K(t){return null===B&&L(),B.c??=new Map(X(B)||void 0)}function X(t){let e=t.p;for(;null!==e;){const t=e.c;if(null!==t)return t;e=e.p}return null}function Y(t){if("object"!=typeof t||null===t||_ in t)return t;const s=c(t);if(s!==a&&s!==l)return t;var n=new Map,r=e(t),i=dt(0),d=ie,u=t=>{var e=ie;le(d);var s=t();return le(e),s};return r&&n.set("length",dt(t.length)),new Proxy(t,{defineProperty(t,e,s){"value"in s&&!1!==s.configurable&&!1!==s.enumerable&&!1!==s.writable||N();var r=n.get(e);return void 0===r?(r=u((()=>dt(s.value))),n.set(e,r)):pt(r,u((()=>Y(s.value)))),!0},deleteProperty(t,e){var s=n.get(e);if(void 0===s)e in t&&(n.set(e,u((()=>dt(D)))),G(i));else{if(r&&"string"==typeof e){var o=n.get("length"),a=Number(e);Number.isInteger(a)&&a<o.v&&pt(o,a)}pt(s,D),G(i)}return!0},get(e,s,r){if(s===_)return t;var i=n.get(s),a=s in e;if(void 0!==i||a&&!o(e,s)?.writable||(i=u((()=>dt(Y(a?e[s]:D)))),n.set(s,i)),void 0!==i){var l=ze(i);return l===D?void 0:l}return Reflect.get(e,s,r)},getOwnPropertyDescriptor(t,e){var s=Reflect.getOwnPropertyDescriptor(t,e);if(s&&"value"in s){var r=n.get(e);r&&(s.value=ze(r))}else if(void 0===s){var o=n.get(e),i=o?.v;if(void 0!==o&&i!==D)return{enumerable:!0,configurable:!0,value:i,writable:!0}}return s},has(t,e){if(e===_)return!0;var s=n.get(e),r=void 0!==s&&s.v!==D||Reflect.has(t,e);return!((void 0!==s||null!==ce&&(!r||o(t,e)?.writable))&&(void 0===s&&(s=u((()=>dt(r?Y(t[e]):D))),n.set(e,s)),ze(s)===D))&&r},set(t,e,s,a){var l=n.get(e),c=e in t;if(r&&"length"===e)for(var d=s;d<l.v;d+=1){var h=n.get(d+"");void 0!==h?pt(h,D):d in t&&(h=u((()=>dt(D))),n.set(d+"",h))}void 0===l?c&&!o(t,e)?.writable||(pt(l=u((()=>dt(void 0))),u((()=>Y(s)))),n.set(e,l)):(c=l.v!==D,pt(l,u((()=>Y(s)))));var p=Reflect.getOwnPropertyDescriptor(t,e);if(p?.set&&p.set.call(a,s),!c){if(r&&"string"==typeof e){var f=n.get("length"),g=Number(e);Number.isInteger(g)&&g>=f.v&&pt(f,g+1)}G(i)}return!0},ownKeys(t){ze(i);var e=Reflect.ownKeys(t).filter((t=>{var e=n.get(t);return void 0===e||e.v!==D}));for(var[s,r]of n)r.v===D||s in t||e.push(s);return e},setPrototypeOf(){O()}})}function G(t,e=1){pt(t,t.v+e)}function J(t){var e=2050,s=null!==ie&&2&ie.f?ie:null;return null===ce||null!==s&&0!==(s.f&g)?e|=g:ce.f|=1048576,{ctx:B,deps:null,effects:null,equals:$,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:s??ce}}function Z(t){const e=J(t);return he(e),e}function Q(t){const e=J(t);return e.equals=P,e}function tt(t){var e=t.effects;if(null!==e){t.effects=null;for(var s=0;s<e.length;s+=1)Bt(e[s])}}function et(t){for(var e=t.parent;null!==e;){if(!(2&e.f))return e;e=e.parent}return null}function st(t){var e,s=ce;de(et(t));try{tt(t),e=$e(t)}finally{de(s)}return e}function nt(t){var e=st(t);Be(t,!be&&0===(t.f&g)||null===t.deps?v:y),t.equals(e)||(t.v=e,t.wv=we())}var rt,ot,it,at,lt=new Map;function ct(t,e){return{f:0,v:t,reactions:null,equals:$,rv:0,wv:0}}function dt(t,e){const s=ct(t);return he(s),s}function ut(t,e=!1){const s=ct(t);return e||(s.equals=P),z&&null!==B&&null!==B.l&&(B.l.s??=[]).push(s),s}function ht(t,e){return pt(t,De((()=>ze(t)))),e}function pt(t,e,s=!1){return null!==ie&&!ae&&q()&&18&ie.f&&!ue?.includes(t)&&R(),ft(t,s?Y(e):e)}function ft(t,e){if(!t.equals(e)){var s=t.v;ne?lt.set(t,e):lt.set(t,s),t.v=e,2&t.f&&(0!==(t.f&m)&&st(t),Be(t,0===(t.f&g)?v:y)),t.wv=we(),gt(t,m),!q()||null===ce||0===(ce.f&v)||96&ce.f||(null===ge?ve([t]):ge.push(t))}return e}function gt(t,e){var s=t.reactions;if(null!==s)for(var n=q(),r=s.length,o=0;o<r;o++){var i=s[o],a=i.f;0===(a&m)&&(n||i!==ce)&&(Be(i,e),1280&a&&(2&a?gt(i,y):Te(i)))}}function vt(){if(void 0===rt){rt=window,ot=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,s=Text.prototype;it=o(e,"firstChild").get,at=o(e,"nextSibling").get,d(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),d(s)&&(s.__t=void 0)}}function mt(t=""){return document.createTextNode(t)}function yt(t){return it.call(t)}function bt(t){return at.call(t)}function wt(t,e){return yt(t)}function xt(t,e){var s=yt(t);return s instanceof Comment&&""===s.data?bt(s):s}function kt(t,e=1,s=!1){let n=t;for(;e--;)n=bt(n);return n}function _t(t){null===ce&&null===ie&&E(),null!==ie&&0!==(ie.f&g)&&null===ce&&I(),ne&&C()}function Mt(t,e){var s=e.last;null===s?e.last=e.first=t:(s.next=t,t.prev=s,e.last=t)}function At(t,e,s,n=!0){var r=ce,o={ctx:B,deps:null,nodes_start:null,nodes_end:null,f:t|m,first:null,fn:e,last:null,next:null,parent:r,prev:null,teardown:null,transitions:null,wv:0};if(s)try{Ce(o),o.f|=32768}catch(t){throw Bt(o),t}else null!==e&&Te(o);if((!s||null!==o.deps||null!==o.first||null!==o.nodes_start||null!==o.teardown||1048704&o.f)&&n&&(null!==r&&Mt(o,r),null!==ie&&2&ie.f)){var i=ie;(i.effects??=[]).push(o)}return o}function $t(t){const e=At(8,null,!1);return Be(e,v),e.teardown=t,e}function St(t){if(_t(),!(null!==ce&&32&ce.f&&null!==B)||B.m)return Et(t);var e=B;(e.e??=[]).push({fn:t,effect:ce,reaction:ie})}function Pt(t){return _t(),Tt(t)}function Ct(t){const e=At(64,t,!0);return()=>{Bt(e)}}function It(t){const e=At(64,t,!0);return(t={})=>new Promise((s=>{t.outro?Ut(e,(()=>{Bt(e),s(void 0)})):(Bt(e),s(void 0))}))}function Et(t){return At(4,t,!1)}function Ft(t,e){var s=B,n={effect:null,ran:!1};s.l.r1.push(n),n.effect=Tt((()=>{t(),n.ran||(n.ran=!0,pt(s.l.r2,!0),De(e))}))}function Tt(t){return At(8,t,!0)}function Nt(t,e=[],s=J){const n=e.map(s);return Ot((()=>t(...n.map(ze))))}function Ot(t,e=0){return At(24|e,t,!0)}function Rt(t,e=!0){return At(40,t,!0,e)}function zt(t){var e=t.teardown;if(null!==e){const t=ne,s=ie;re(!0),le(null);try{e.call(null)}finally{re(t),le(s)}}}function Dt(t,e=!1){var s=t.first;for(t.first=t.last=null;null!==s;){var n=s.next;64&s.f?s.parent=null:Bt(s,e),s=n}}function Lt(t){for(var e=t.first;null!==e;){var s=e.next;!(32&e.f)&&Bt(e),e=s}}function Bt(t,e=!0){var s=!1;(e||524288&t.f)&&null!==t.nodes_start&&(Vt(t.nodes_start,t.nodes_end),s=!0),Dt(t,e&&!s),Pe(t,0),Be(t,w);var n=t.transitions;if(null!==n)for(const t of n)t.stop();zt(t);var r=t.parent;null!==r&&null!==r.first&&jt(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Vt(t,e){for(;null!==t;){var s=t===e?null:bt(t);t.remove(),t=s}}function jt(t){var e=t.parent,s=t.prev,n=t.next;null!==s&&(s.next=n),null!==n&&(n.prev=s),null!==e&&(e.first===t&&(e.first=n),e.last===t&&(e.last=s))}function Ut(t,e){var s=[];Ht(t,s,!0),Wt(s,(()=>{Bt(t),e&&e()}))}function Wt(t,e){var s=t.length;if(s>0){var n=()=>--s||e();for(var r of t)r.out(n)}else e()}function Ht(t,e,s){if(0===(t.f&b)){if(t.f^=b,null!==t.transitions)for(const n of t.transitions)(n.is_global||s)&&e.push(n);for(var n=t.first;null!==n;){var r=n.next;Ht(n,e,!!(0!==(n.f&x)||32&n.f)&&s),n=r}}}function qt(t){Kt(t,!0)}function Kt(t,e){if(0!==(t.f&b)){t.f^=b,0===(t.f&v)&&(t.f^=v),xe(t)&&(Be(t,m),Te(t));for(var s=t.first;null!==s;){var n=s.next;Kt(s,!!(0!==(s.f&x)||32&s.f)&&e),s=n}if(null!==t.transitions)for(const s of t.transitions)(s.is_global||e)&&s.in()}}var Xt=[],Yt=[];function Gt(){var t=Xt;Xt=[],f(t)}function Jt(t){0===Xt.length&&queueMicrotask(Gt),Xt.push(t)}function Zt(){var t;Xt.length>0&&Gt(),Yt.length>0&&(t=Yt,Yt=[],f(t))}var Qt=!1,te=!1,ee=null,se=!1,ne=!1;function re(t){ne=t}var oe=[],ie=null,ae=!1;function le(t){ie=t}var ce=null;function de(t){ce=t}var ue=null;function he(t){null!==ie&&ie.f&k&&(null===ue?ue=[t]:ue.push(t))}var pe=null,fe=0,ge=null;function ve(t){ge=t}var me=1,ye=0,be=!1;function we(){return++me}function xe(t){var e=t.f;if(0!==(e&m))return!0;if(0!==(e&y)){var s=t.deps,n=0!==(e&g);if(null!==s){var r,o,i=!!(512&e),a=n&&null!==ce&&!be,l=s.length;if(i||a){var c=t,d=c.parent;for(r=0;r<l;r++)o=s[r],!i&&o?.reactions?.includes(c)||(o.reactions??=[]).push(c);i&&(c.f^=512),a&&null!==d&&0===(d.f&g)&&(c.f^=g)}for(r=0;r<l;r++)if(xe(o=s[r])&&nt(o),o.wv>t.wv)return!0}n&&(null===ce||be)||Be(t,v)}return!1}function ke(t,e){for(var s=e;null!==s;){if(128&s.f)try{return void s.fn(t)}catch{s.f^=128}s=s.parent}throw Qt=!1,t}function _e(t){return!(0!==(t.f&w)||null!==t.parent&&128&t.parent.f)}function Me(t,e,s,n){if(Qt){if(null===s&&(Qt=!1),_e(e))throw t}else if(null!==s&&(Qt=!0),ke(t,e),_e(e))throw t}function Ae(t,e,s=!0){var n=t.reactions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];ue?.includes(t)||(2&o.f?Ae(o,e,!1):e===o&&(s?Be(o,m):0!==(o.f&v)&&Be(o,y),Te(o)))}}function $e(t){var e=pe,s=fe,n=ge,r=ie,o=be,i=ue,a=B,l=ae,c=t.f;pe=null,fe=0,ge=null,be=0!==(c&g)&&(ae||!se||null===ie),ie=96&c?null:t,ue=null,V(t.ctx),ae=!1,ye++,t.f|=k;try{var d=(0,t.fn)(),u=t.deps;if(null!==pe){var h;if(Pe(t,fe),null!==u&&fe>0)for(u.length=fe+pe.length,h=0;h<pe.length;h++)u[fe+h]=pe[h];else t.deps=u=pe;if(!be)for(h=fe;h<u.length;h++)(u[h].reactions??=[]).push(t)}else null!==u&&fe<u.length&&(Pe(t,fe),u.length=fe);if(q()&&null!==ge&&!ae&&null!==u&&!(6146&t.f))for(h=0;h<ge.length;h++)Ae(ge[h],t);return null!==r&&r!==t&&(ye++,null!==ge&&(null===n?n=ge:n.push(...ge))),d}finally{pe=e,fe=s,ge=n,ie=r,be=o,ue=i,V(a),ae=l,t.f^=k}}function Se(t,e){let n=e.reactions;if(null!==n){var r=s.call(n,t);if(-1!==r){var o=n.length-1;0===o?n=e.reactions=null:(n[r]=n[o],n.pop())}}null===n&&2&e.f&&(null===pe||!pe.includes(e))&&(Be(e,y),768&e.f||(e.f^=512),tt(e),Pe(e,0))}function Pe(t,e){var s=t.deps;if(null!==s)for(var n=e;n<s.length;n++)Se(t,s[n])}function Ce(t){var e=t.f;if(0===(e&w)){Be(t,v);var s=ce,n=B,r=se;ce=t,se=!0;try{16&e?Lt(t):Dt(t),zt(t);var o=$e(t);t.teardown="function"==typeof o?o:null,t.wv=me,t.deps}catch(e){Me(e,t,s,n||t.ctx)}finally{se=r,ce=s}}}function Ie(){try{F()}catch(t){if(null===ee)throw t;Me(t,ee,null)}}function Ee(){var t=se;try{var e=0;for(se=!0;oe.length>0;){e++>1e3&&Ie();var s=oe,n=s.length;oe=[];for(var r=0;r<n;r++)Fe(Ne(s[r]));lt.clear()}}finally{te=!1,se=t,ee=null}}function Fe(t){var e=t.length;if(0!==e)for(var s=0;s<e;s++){var n=t[s];if(!(24576&n.f))try{xe(n)&&(Ce(n),null===n.deps&&null===n.first&&null===n.nodes_start&&(null===n.teardown?jt(n):n.fn=null))}catch(t){Me(t,n,null,n.ctx)}}}function Te(t){te||(te=!0,queueMicrotask(Ee));for(var e=ee=t;null!==e.parent;){var s=(e=e.parent).f;if(96&s){if(0===(s&v))return;e.f^=v}}oe.push(e)}function Ne(t){for(var e=[],s=t;null!==s;){var n=s.f,r=!!(96&n);if((!r||0===(n&v))&&0===(n&b)){if(4&n)e.push(s);else if(r)s.f^=v;else try{xe(s)&&Ce(s)}catch(t){Me(t,s,null,s.ctx)}var o=s.first;if(null!==o){s=o;continue}}var i=s.parent;for(s=s.next;null===s&&null!==i;)s=i.next,i=i.parent}return e}function Oe(t){for(Zt();oe.length>0;)te=!0,Ee(),Zt()}async function Re(){await Promise.resolve(),Oe()}function ze(t){var e=!!(2&t.f);if(null===ie||ae){if(e&&null===t.deps&&null===t.effects){var s=t,n=s.parent;null!==n&&0===(n.f&g)&&(s.f^=g)}}else if(!ue?.includes(t)){var r=ie.deps;t.rv<ye&&(t.rv=ye,null===pe&&null!==r&&r[fe]===t?fe++:null===pe?pe=[t]:be&&pe.includes(t)||pe.push(t))}return e&&xe(s=t)&&nt(s),ne&&lt.has(t)?lt.get(t):t.v}function De(t){var e=ae;try{return ae=!0,t()}finally{ae=e}}var Le=-7169;function Be(t,e){t.f=t.f&Le|e}function Ve(t){if("object"==typeof t&&t&&!(t instanceof EventTarget))if(_ in t)je(t);else if(!Array.isArray(t))for(let e in t){const s=t[e];"object"==typeof s&&s&&_ in s&&je(s)}}function je(t,e=new Set){if(!("object"!=typeof t||null===t||t instanceof EventTarget||e.has(t))){e.add(t),t instanceof Date&&t.getTime();for(let s in t)try{je(t[s],e)}catch(t){}const s=c(t);if(s!==Object.prototype&&s!==Array.prototype&&s!==Map.prototype&&s!==Set.prototype&&s!==Date.prototype){const e=i(s);for(let s in e){const n=e[s].get;if(n)try{n.call(t)}catch(t){}}}}}function Ue(t){return t.endsWith("capture")&&"gotpointercapture"!==t&&"lostpointercapture"!==t}var We=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function He(t){return We.includes(t)}var qe={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Ke(t){return t=t.toLowerCase(),qe[t]??t}var Xe=["touchstart","touchmove"];function Ye(t,e){if(e){const e=document.body;t.autofocus=!0,Jt((()=>{document.activeElement===e&&t.focus()}))}}var Ge=!1;function Je(t){var e=ie,s=ce;le(null),de(null);try{return t()}finally{le(e),de(s)}}function Ze(t,e,s,n=s){t.addEventListener(e,(()=>Je(s)));const r=t.__on_r;t.__on_r=r?()=>{r(),n(!0)}:()=>n(!0),Ge||(Ge=!0,document.addEventListener("reset",(t=>{Promise.resolve().then((()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()}))}),{capture:!0}))}var Qe=new Set,ts=new Set;function es(t,e,s,n={}){function r(t){if(n.capture||os.call(e,t),!t.cancelBubble)return Je((()=>s?.call(this,t)))}return t.startsWith("pointer")||t.startsWith("touch")||"wheel"===t?Jt((()=>{e.addEventListener(t,r,n)})):e.addEventListener(t,r,n),r}function ss(t,e,s,n={}){var r=es(e,t,s,n);return()=>{t.removeEventListener(e,r,n)}}function ns(t,e,s,n,r){var o={capture:n,passive:r},i=es(t,e,s,o);e!==document.body&&e!==window&&e!==document||$t((()=>{e.removeEventListener(t,i,o)}))}function rs(t){for(var e=0;e<t.length;e++)Qe.add(t[e]);for(var s of ts)s(t)}function os(t){var s=this,n=s.ownerDocument,o=t.type,i=t.composedPath?.()||[],a=i[0]||t.target,l=0,c=t.__root;if(c){var d=i.indexOf(c);if(-1!==d&&(s===document||s===window))return void(t.__root=s);var u=i.indexOf(s);if(-1===u)return;d<=u&&(l=d)}if((a=i[l]||t.target)!==s){r(t,"currentTarget",{configurable:!0,get:()=>a||n});var h=ie,p=ce;le(null),de(null);try{for(var f,g=[];null!==a;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var m=a["__"+o];if(null!=m&&(!a.disabled||t.target===a))if(e(m)){var[y,...b]=m;y.apply(a,[t,...b])}else m.call(a,t)}catch(t){f?g.push(t):f=t}if(t.cancelBubble||v===s||null===v)break;a=v}if(f){for(let t of g)queueMicrotask((()=>{throw t}));throw f}}finally{t.__root=s,delete t.currentTarget,le(h),de(p)}}}function is(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function as(t,e){var s=ce;null===s.nodes_start&&(s.nodes_start=t,s.nodes_end=e)}function ls(t,e){var s,n=!!(1&e),r=!!(2&e),o=!t.startsWith("<!>");return()=>{void 0===s&&(s=is(o?t:"<!>"+t),n||(s=yt(s)));var e=r||ot?document.importNode(s,!0):s.cloneNode(!0);return n?as(yt(e),e.lastChild):as(e,e),e}}function cs(t,e,s="svg"){var n,r=`<${s}>${t.startsWith("<!>")?"<!>"+t:t}</${s}>`;return()=>{if(!n){var t=is(r);n=yt(yt(t))}var e=n.cloneNode(!0);return as(e,e),e}}function ds(t=""){var e=mt(t+"");return as(e,e),e}function us(){var t=document.createDocumentFragment(),e=document.createComment(""),s=mt();return t.append(e,s),as(e,s),t}function hs(t,e){null!==t&&t.before(e)}var ps=!0;function fs(t){ps=t}function gs(t,e){var s=null==e?"":"object"==typeof e?e+"":e;s!==(t.__t??=t.nodeValue)&&(t.__t=s,t.nodeValue=s+"")}var vs=new Map;var ms=new WeakMap;function ys(t,e,[s,n]=[0,0]){var r=t,o=null,i=null,a=D,l=!1;const c=(t,e=!0)=>{l=!0,d(e,t)},d=(t,e)=>{a!==(a=t)&&(a?(o?qt(o):e&&(o=Rt((()=>e(r)))),i&&Ut(i,(()=>{i=null}))):(i?qt(i):e&&(i=Rt((()=>e(r,[s+1,n])))),o&&Ut(o,(()=>{o=null}))))};Ot((()=>{l=!1,e(c),l||d(null,null)}),s>0?x:0)}function bs(t,e){return e}function ws(t,e,s,n){for(var r=[],o=e.length,i=0;i<o;i++)Ht(e[i].e,r,!0);var a=o>0&&0===r.length&&null!==s;if(a){var l=s.parentNode;l.textContent="",l.append(s),n.clear(),$s(t,e[0].prev,e[o-1].next)}Wt(r,(()=>{for(var s=0;s<o;s++){var r=e[s];a||(n.delete(r.k),$s(t,r.prev,r.next)),Bt(r.e,!a)}}))}function xs(t,s,r,o,i,a=null){var l=t,c={flags:s,items:new Map,first:null};!(4&s)||(l=t.appendChild(mt()));var d=null,u=!1,h=Q((()=>{var t=r();return e(t)?t:null==t?[]:n(t)}));Ot((()=>{var t=ze(h),e=t.length;u&&0===e||(u=0===e,ks(t,c,l,i,s,o,r),null!==a&&(0===e?d?qt(d):d=Rt((()=>a(l))):null!==d&&Ut(d,(()=>{d=null}))),ze(h))}))}function ks(t,e,s,r,o,i,a){var l,c,d,u,h,p,f=!!(8&o),g=!!(3&o),v=t.length,m=e.items,y=e.first,w=null,x=[],k=[];if(f)for(p=0;p<v;p+=1)u=i(d=t[p],p),void 0!==(h=m.get(u))&&(h.a?.measure(),(c??=new Set).add(h));for(p=0;p<v;p+=1)if(u=i(d=t[p],p),void 0!==(h=m.get(u))){if(g&&_s(h,d,p,o),0!==(h.e.f&b)&&(qt(h.e),f&&(h.a?.unfix(),(c??=new Set).delete(h))),h!==y){if(void 0!==l&&l.has(h)){if(x.length<k.length){var _,M=k[0];w=M.prev;var A=x[0],$=x[x.length-1];for(_=0;_<x.length;_+=1)As(x[_],M,s);for(_=0;_<k.length;_+=1)l.delete(k[_]);$s(e,A.prev,$.next),$s(e,w,A),$s(e,$,M),y=M,w=$,p-=1,x=[],k=[]}else l.delete(h),As(h,y,s),$s(e,h.prev,h.next),$s(e,h,null===w?e.first:w.next),$s(e,w,h),w=h;continue}for(x=[],k=[];null!==y&&y.k!==u;)0===(y.e.f&b)&&(l??=new Set).add(y),k.push(y),y=y.next;if(null===y)continue;h=y}x.push(h),w=h,y=h.next}else w=Ms(y?y.e.nodes_start:s,e,w,null===w?e.first:w.next,d,u,p,r,o,a),m.set(u,w),x=[],k=[],y=w.next;if(null!==y||void 0!==l){for(var S=void 0===l?[]:n(l);null!==y;)0===(y.e.f&b)&&S.push(y),y=y.next;var P=S.length;if(P>0){var C=4&o&&0===v?s:null;if(f){for(p=0;p<P;p+=1)S[p].a?.measure();for(p=0;p<P;p+=1)S[p].a?.fix()}ws(e,S,C,m)}}f&&Jt((()=>{if(void 0!==c)for(h of c)h.a?.apply()})),ce.first=e.first&&e.first.e,ce.last=w&&w.e}function _s(t,e,s,n){1&n&&ft(t.v,e),2&n?ft(t.i,s):t.i=s}function Ms(t,e,s,n,r,o,i,a,l,c){var d=1&l?16&l?ct(r):ut(r):r,u=2&l?ct(i):i,h={i:u,v:d,k:o,a:null,e:null,prev:s,next:n};try{return h.e=Rt((()=>a(t,d,u,c)),!1),h.e.prev=s&&s.e,h.e.next=n&&n.e,null===s?e.first=h:(s.next=h,s.e.next=h.e),null!==n&&(n.prev=h,n.e.prev=h.e),h}finally{}}function As(t,e,s){for(var n=t.next?t.next.e.nodes_start:s,r=e?e.e.nodes_start:s,o=t.e.nodes_start;o!==n;){var i=bt(o);r.before(o),o=i}}function $s(t,e,s){null===e?t.first=s:(e.next=s,e.e.next=s&&s.e),null!==s&&(s.prev=e,s.e.prev=e&&e.e)}function Ss(t,e,...s){var n,r=t,o=h;Ot((()=>{o!==(o=e())&&(n&&(Bt(n),n=null),n=Rt((()=>o(r,...s))))}),x)}function Ps(t,e,s){var n,r,o=t;Ot((()=>{n!==(n=e())&&(r&&(Ut(r),r=null),n&&(r=Rt((()=>s(o,n)))))}),x)}function Cs(t,e,s,n,r,o){var i,a,l,c=null,d=t;Ot((()=>{const t=e()||null;t!==i&&(l&&(null===t?Ut(l,(()=>{l=null,a=null})):t===a?qt(l):(Bt(l),fs(!1))),t&&t!==a&&(l=Rt((()=>{if(as(c=document.createElementNS("http://www.w3.org/2000/svg",t),c),n){var e=c.appendChild(mt());n(c,e)}ce.nodes_end=c,d.before(c)}))),(i=t)&&(a=i),fs(!0))}),x)}function Is(t){var e,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(s=Is(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function Es(){for(var t,e,s=0,n="",r=arguments.length;s<r;s++)(t=arguments[s])&&(e=Is(t))&&(n&&(n+=" "),n+=e);return n}var Fs=[..." \t\n\r\f\xa0\v\ufeff"];function Ts(t,e,s){var n=null==t?"":""+t;if(e&&(n=n?n+" "+e:e),s)for(var r in s)if(s[r])n=n?n+" "+r:r;else if(n.length)for(var o=r.length,i=0;(i=n.indexOf(r,i))>=0;){var a=i+o;0!==i&&!Fs.includes(n[i-1])||a!==n.length&&!Fs.includes(n[a])?i=a:n=(0===i?"":n.substring(0,i))+n.substring(a+1)}return""===n?null:n}function Ns(t,e=!1){var s=e?" !important;":";",n="";for(var r in t){var o=t[r];null!=o&&""!==o&&(n+=" "+r+": "+o+s)}return n}function Os(t){return"-"!==t[0]||"-"!==t[1]?t.toLowerCase():t}function Rs(t,e){if(e){var s,n,r="";if(Array.isArray(e)?(s=e[0],n=e[1]):s=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,i=0,a=!1,l=[];s&&l.push(...Object.keys(s).map(Os)),n&&l.push(...Object.keys(n).map(Os));var c=0,d=-1;const e=t.length;for(var u=0;u<e;u++){var h=t[u];if(a?"/"===h&&"*"===t[u-1]&&(a=!1):o?o===h&&(o=!1):"/"===h&&"*"===t[u+1]?a=!0:'"'===h||"'"===h?o=h:"("===h?i++:")"===h&&i--,!a&&!1===o&&0===i)if(":"===h&&-1===d)d=u;else if(";"===h||u===e-1){if(-1!==d){var p=Os(t.substring(c,d).trim());l.includes(p)||(";"!==h&&u++,r+=" "+t.substring(c,u).trim()+";")}c=u+1,d=-1}}}return s&&(r+=Ns(s)),n&&(r+=Ns(n,!0)),""===(r=r.trim())?null:r}return null==t?null:String(t)}function zs(t,e,s,n,r,o){var i=t.__className;if(i!==s||void 0===i){var a=Ts(s,n,o);null==a?t.removeAttribute("class"):e?t.className=a:t.setAttribute("class",a),t.__className=s}else if(o&&r!==o)for(var l in o){var c=!!o[l];null!=r&&c===!!r[l]||t.classList.toggle(l,c)}return o}function Ds(t,e={},s,n){for(var r in s){var o=s[r];e[r]!==o&&(null==s[r]?t.style.removeProperty(r):t.style.setProperty(r,o,n))}}function Ls(t,e,s,n){if(t.__style!==e){var r=Rs(e,n);null==r?t.removeAttribute("style"):t.style.cssText=r,t.__style=e}else n&&(Array.isArray(n)?(Ds(t,s?.[0],n[0]),Ds(t,s?.[1],n[1],"important")):Ds(t,s,n));return n}var Bs=Symbol("class"),Vs=Symbol("style"),js=Symbol("is custom element"),Us=Symbol("is html");function Ws(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Hs(t,e,s,n){var r=Ks(t);r[e]!==(r[e]=s)&&("loading"===e&&(t[A]=s),null==s?t.removeAttribute(e):"string"!=typeof s&&Ys(t).includes(e)?t[e]=s:t.setAttribute(e,s))}function qs(t,e,s,n,r=!1){var o,i=Ks(t),a=i[js],l=!i[Us],c=e||{},d="OPTION"===t.tagName;for(var u in e)u in s||(s[u]=null);s.class?s.class="object"==typeof(o=s.class)?Es(o):o??"":s[Bs]&&(s.class=null),s[Vs]&&(s.style??=null);var h=Ys(t);for(const r in s){let o=s[r];if(d&&"value"===r&&null==o)t.value=t.__value="",c[r]=o;else if("class"!==r)if("style"!==r){var p=c[r];if(o!==p){c[r]=o;var f=r[0]+r[1];if("$$"!==f)if("on"===f){const e={},s="$$"+r;let n=r.slice(2);var g=He(n);if(Ue(n)&&(n=n.slice(0,-7),e.capture=!0),!g&&p){if(null!=o)continue;t.removeEventListener(n,c[s],e),c[s]=null}if(null!=o)if(g)t[`__${n}`]=o,rs([n]);else{let o=function(t){c[r].call(this,t)};c[s]=es(n,t,o,e)}else g&&(t[`__${n}`]=void 0)}else if("style"===r)Hs(t,r,o);else if("autofocus"===r)Ye(t,Boolean(o));else if(a||"__value"!==r&&("value"!==r||null==o))if("selected"===r&&d)Ws(t,o);else{var v=r;l||(v=Ke(v));var m="defaultValue"===v||"defaultChecked"===v;if(null!=o||a||m)m||h.includes(v)&&(a||"string"!=typeof o)?t[v]=o:"function"!=typeof o&&Hs(t,v,o);else if(i[r]=null,"value"===v||"checked"===v){let s=t;const n=void 0===e;if("value"===v){let t=s.defaultValue;s.removeAttribute(v),s.defaultValue=t,s.value=s.__value=n?t:null}else{let t=s.defaultChecked;s.removeAttribute(v),s.defaultChecked=t,s.checked=!!n&&t}}else t.removeAttribute(r)}else t.value=t.__value=o}}else Ls(t,o,e?.[Vs],s[Vs]),c[r]=o,c[Vs]=s[Vs];else zs(t,"http://www.w3.org/1999/xhtml"===t.namespaceURI,o,n,e?.[Bs],s[Bs]),c[r]=o,c[Bs]=s[Bs]}return c}function Ks(t){return t.__attributes??={[js]:t.nodeName.includes("-"),[Us]:"http://www.w3.org/1999/xhtml"===t.namespaceURI}}var Xs=new Map;function Ys(t){var e,s=Xs.get(t.nodeName);if(s)return s;Xs.set(t.nodeName,s=[]);for(var n=t,r=Element.prototype;r!==n;){for(var o in e=i(n))e[o].set&&s.push(o);n=c(n)}return s}var Gs={tick:t=>requestAnimationFrame(t),now:()=>performance.now(),tasks:new Set};function Js(){const t=Gs.now();Gs.tasks.forEach((e=>{e.c(t)||(Gs.tasks.delete(e),e.f())})),0!==Gs.tasks.size&&Gs.tick(Js)}function Zs(t){let e;return 0===Gs.tasks.size&&Gs.tick(Js),{promise:new Promise((s=>{Gs.tasks.add(e={c:t,f:s})})),abort(){Gs.tasks.delete(e)}}}function Qs(t,e){Je((()=>{t.dispatchEvent(new CustomEvent(e))}))}function tn(t){if("float"===t)return"cssFloat";if("offset"===t)return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return 1===e.length?e[0]:e[0]+e.slice(1).map((t=>t[0].toUpperCase()+t.slice(1))).join("")}function en(t){const e={},s=t.split(";");for(const t of s){const[s,n]=t.split(":");if(!s||void 0===n)break;e[tn(s.trim())]=n.trim()}return e}var sn=t=>t;function nn(t,e,s,n){var r,o,i,a=!!(1&t),l=!!(2&t),c=!!(4&t),d=a&&l?"both":a?"in":"out",u=e.inert,h=e.style.overflow;function p(){var t=ie,o=ce;le(null),de(null);try{return r??=s()(e,n?.()??{},{direction:d})}finally{le(t),de(o)}}var f={is_global:c,in(){if(e.inert=u,!a)return i?.abort(),void i?.reset?.();l||o?.abort(),Qs(e,"introstart"),o=rn(e,p(),i,1,(()=>{Qs(e,"introend"),o?.abort(),o=r=void 0,e.style.overflow=h}))},out(t){if(!l)return t?.(),void(r=void 0);e.inert=!0,Qs(e,"outrostart"),i=rn(e,p(),o,0,(()=>{Qs(e,"outroend"),t?.()}))},stop:()=>{o?.abort(),i?.abort()}},g=ce;if((g.transitions??=[]).push(f),a&&ps){var v=c;if(!v){for(var m=g.parent;m&&0!==(m.f&x);)for(;(m=m.parent)&&!(16&m.f););v=!m||!!(32768&m.f)}v&&Et((()=>{De((()=>f.in()))}))}}function rn(t,e,s,n,r){var o=1===n;if(u(e)){var i,a=!1;return Jt((()=>{if(!a){var l=e({direction:o?"in":"out"});i=rn(t,l,s,n,r)}})),{abort:()=>{a=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(s?.deactivate(),!e?.duration)return r(),{abort:h,deactivate:h,reset:h,t:()=>n};const{delay:l=0,css:c,tick:d,easing:p=sn}=e;var f=[];if(o&&void 0===s&&(d&&d(0,1),c)){var g=en(c(0,1));f.push(g,g)}var v=()=>1-n,m=t.animate(f,{duration:l});return m.onfinish=()=>{var o=s?.t()??1-n;s?.abort();var i=n-o,a=e.duration*Math.abs(i),l=[];if(a>0){var u=!1;if(c)for(var h=Math.ceil(a/(1e3/60)),f=0;f<=h;f+=1){var g=o+i*p(f/h),y=en(c(g,1-g));l.push(y),u||="hidden"===y.overflow}u&&(t.style.overflow="hidden"),v=()=>{var t=m.currentTime;return o+i*p(t/a)},d&&Zs((()=>{if("running"!==m.playState)return!1;var t=v();return d(t,1-t),!0}))}(m=t.animate(l,{duration:a,fill:"forwards"})).onfinish=()=>{v=()=>n,d?.(n,1-n),r()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=h)},deactivate:()=>{r=h},reset:()=>{0===n&&d?.(1,0)},t:()=>v()}}function on(t,e,s=e){var n=q();Ze(t,"input",(r=>{var o=r?t.defaultValue:t.value;if(o=an(t)?ln(o):o,s(o),n&&o!==(o=e())){var i=t.selectionStart,a=t.selectionEnd;t.value=o??"",null!==a&&(t.selectionStart=i,t.selectionEnd=Math.min(a,t.value.length))}})),null==De(e)&&t.value&&s(an(t)?ln(t.value):t.value),Tt((()=>{var s=e();an(t)&&s===ln(t.value)||("date"!==t.type||s||t.value)&&s!==t.value&&(t.value=s??"")}))}function an(t){var e=t.type;return"number"===e||"range"===e}function ln(t){return""===t?null:+t}function cn(t,e){return t===e||t?.[_]===e}function dn(t={},e,s,n){return Et((()=>{var r,o;return Tt((()=>{r=o,o=n?.()||[],De((()=>{t!==s(...o)&&(e(t,...o),r&&cn(s(...r),t)&&e(null,...r))}))})),()=>{Jt((()=>{o&&cn(s(...o),t)&&e(null,...o)}))}})),t}function un(t=!1){const e=B,s=e.l.u;if(!s)return;let n=()=>Ve(e.s);if(t){let t=0,s={};const r=J((()=>{let n=!1;const r=e.s;for(const t in r)r[t]!==s[t]&&(s[t]=r[t],n=!0);return n&&t++,t}));n=()=>ze(r)}s.b.length&&Pt((()=>{hn(e,n),f(s.b)})),St((()=>{const t=De((()=>s.m.map(p)));return()=>{for(const e of t)"function"==typeof e&&e()}})),s.a.length&&St((()=>{hn(e,n),f(s.a)}))}function hn(t,e){if(t.l.s)for(const e of t.l.s)ze(e);e()}function pn(t){var e=ct(0);return function(){return 1===arguments.length?(pt(e,ze(e)+1),arguments[0]):(ze(e),t())}}function fn(t,e,s){if(null==t)return e(void 0),h;const n=De((()=>t.subscribe(e,s)));return n.unsubscribe?()=>n.unsubscribe():n}var gn=[];function vn(t,e=h){let s=null;const n=new Set;function r(e){if(S(t,e)&&(t=e,s)){const e=!gn.length;for(const e of n)e[1](),gn.push(e,t);if(e){for(let t=0;t<gn.length;t+=2)gn[t][0](gn[t+1]);gn.length=0}}}function o(e){r(e(t))}return{set:r,update:o,subscribe:function(i,a=h){const l=[i,a];return n.add(l),1===n.size&&(s=e(r,o)||h),i(t),()=>{n.delete(l),0===n.size&&s&&(s(),s=null)}}}}function mn(t){let e;return fn(t,(t=>e=t))(),e}var yn=!1,bn=Symbol();function wn(t,e,s){const n=s[e]??={store:null,source:ut(void 0),unsubscribe:h};if(n.store!==t&&!(bn in s))if(n.unsubscribe(),n.store=t??null,null==t)n.source.v=void 0,n.unsubscribe=h;else{var r=!0;n.unsubscribe=fn(t,(t=>{r?n.source.v=t:pt(n.source,t)})),r=!1}return t&&bn in s?mn(t):ze(n.source)}function xn(){const t={};return[t,function(){$t((()=>{for(var e in t)t[e].unsubscribe();r(t,bn,{enumerable:!1,value:!0})}))}]}function kn(t){var e=yn;try{return yn=!1,[t(),yn]}finally{yn=e}}var _n={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set:(t,e)=>!1,getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e))return e in t.props?{enumerable:!0,configurable:!0,value:t.props[e]}:void 0},has:(t,e)=>!t.exclude.includes(e)&&e in t.props,ownKeys:t=>Reflect.ownKeys(t.props).filter((e=>!t.exclude.includes(e)))};function Mn(t,e,s){return new Proxy({props:t,exclude:e},_n)}var An={get(t,e){let s=t.props.length;for(;s--;){let n=t.props[s];if(u(n)&&(n=n()),"object"==typeof n&&null!==n&&e in n)return n[e]}},set(t,e,s){let n=t.props.length;for(;n--;){let r=t.props[n];u(r)&&(r=r());const i=o(r,e);if(i&&i.set)return i.set(s),!0}return!1},getOwnPropertyDescriptor(t,e){let s=t.props.length;for(;s--;){let n=t.props[s];if(u(n)&&(n=n()),"object"==typeof n&&null!==n&&e in n){const t=o(n,e);return t&&!t.configurable&&(t.configurable=!0),t}}},has(t,e){if(e===_||e===M)return!1;for(let s of t.props)if(u(s)&&(s=s()),null!=s&&e in s)return!0;return!1},ownKeys(t){const e=[];for(let s of t.props){u(s)&&(s=s());for(const t in s)e.includes(t)||e.push(t)}return e}};function $n(...t){return new Proxy({props:t},An)}function Sn(t){return t.ctx?.d??!1}function Pn(t,e,s,n){var r,i=!!(1&s),a=!z||!!(2&s),l=!!(8&s),c=!!(16&s),d=!1;l?[r,d]=kn((()=>t[e])):r=t[e];var u,h=_ in t||M in t,p=l&&(o(t,e)?.set??(h&&e in t&&(s=>t[e]=s)))||void 0,f=n,g=!0,v=!1,m=()=>(v=!0,g&&(g=!1,f=c?De(n):n),f);if(void 0===r&&void 0!==n&&(p&&a&&T(),r=m(),p&&p(r)),a)u=()=>{var s=t[e];return void 0===s?m():(g=!0,v=!1,s)};else{var y=(i?J:Q)((()=>t[e]));y.f|=131072,u=()=>{var t=ze(y);return void 0!==t&&(f=void 0),void 0===t?f:t}}if(!(4&s))return u;if(p){var b=t.$$legacy;return function(t,e){return arguments.length>0?(a&&e&&!b&&!d||p(e?u():t),t):u()}}var w=!1,x=ut(r),k=J((()=>{var t=u(),e=ze(x);return w?(w=!1,e):x.v=t}));return l&&ze(k),i||(k.equals=P),function(t,e){if(arguments.length>0){const s=e?ze(k):a&&l?Y(t):t;if(!k.equals(s)){if(w=!0,pt(x,s),v&&void 0!==f&&(f=s),Sn(k))return t;De((()=>ze(k)))}return t}return Sn(k)?k.v:ze(k)}}function Cn(t){var e,s;null===B&&L(),z&&null!==B.l?(e=B,s=e.l,s.u??={a:[],b:[],m:[]}).m.push(t):St((()=>{const e=De(t);if("function"==typeof e)return e}))}"undefined"!=typeof window&&((window.__svelte??={}).v??=new Set).add("5"),z=!0;var In=new class{#t=dt(!0);get loading(){return ze(this.#t)}set loading(t){pt(this.#t,t,!0)}#e=dt(0);get kills(){return ze(this.#e)}set kills(t){pt(this.#e,t,!0)}#s=dt(0);get currentScore(){return ze(this.#s)}set currentScore(t){pt(this.#s,t,!0)}#n=dt(0);get rank(){return ze(this.#n)}set rank(t){pt(this.#n,t,!0)}#r=dt(0);get slitherCount(){return ze(this.#r)}set slitherCount(t){pt(this.#r,t,!0)}#o=dt(0);get fps(){return ze(this.#o)}set fps(t){pt(this.#o,t,!0)}#i=dt(0);get ping(){return ze(this.#i)}set ping(t){pt(this.#i,t,!0)}#a=dt(0);get maxPing(){return ze(this.#a)}set maxPing(t){pt(this.#a,t,!0)}#l=dt(0);get bestScore(){return ze(this.#l)}set bestScore(t){pt(this.#l,t,!0)}#c=dt(0);get finalScore(){return ze(this.#c)}set finalScore(t){pt(this.#c,t,!0)}#d=dt("");get serverAddress(){return ze(this.#d)}set serverAddress(t){pt(this.#d,t,!0)}#u=dt(!0);get animating(){return ze(this.#u)}set animating(t){pt(this.#u,t,!0)}#h=dt(0);get grd(){return ze(this.#h)}set grd(t){pt(this.#h,t,!0)}#p=dt(0);get flux_grd(){return ze(this.#p)}set flux_grd(t){pt(this.#p,t,!0)}toggleAnimation(){this.animating=!this.animating}},En=Y({opacity:0,display:"none"}),Fn=new class{#f=dt(0);get bdska(){return ze(this.#f)}set bdska(t){pt(this.#f,t,!0)}#g=dt(0);get secosa(){return ze(this.#g)}set secosa(t){pt(this.#g,t,!0)}#v=dt(0);get setaga(){return ze(this.#v)}set setaga(t){pt(this.#v,t,!0)}#m=dt(0);get skoboym(){return ze(this.#m)}set skoboym(t){pt(this.#m,t,!0)}#y=dt(0);get secosoym(){return ze(this.#y)}set secosoym(t){pt(this.#y,t,!0)}#b=dt(0);get setagoym(){return ze(this.#b)}set setagoym(t){pt(this.#b,t,!0)}},Tn=()=>{},Nn=(t,e=!0)=>{const s="0123456789",n="abcdefghijklmnopqrstuvwxyz",r=e?"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+n+s:n+s,o=[],i=r.length,a=new Uint32Array(t);crypto.getRandomValues(a);for(let e=0;e<t;e++){const t=a[e]%i;o.push(r[t])}return o.join("")},On=new class{#w=structuredClone(t);#x;#k;#_=!1;#M=[];constructor(){this.#x=new BroadcastChannel("stellar-mod"),this.#k=new Promise((t=>{this.#x.addEventListener("message",(e=>{const{source:s,type:n,data:r}=e.data||{};"content"===s&&"init"===n&&(this.#w=structuredClone(r),t())})),this.#x.postMessage({type:"init",source:"main"})}))}#A=e=>e in t&&e in this.#w;#$=t=>{if(this.#A(t))return this.#w[t];throw new Error(`Key "${t}" not defined in StellarStorage.`)};#S=(t,e)=>{if(!this.#A(t))throw new Error(`Key "${t}" not defined in StellarStorage.`);this.#w[t]=e};#P=()=>new Promise((t=>{this.#M.push(t),this.#_||(this.#_=!0,queueMicrotask((async()=>{try{await this.#C()}catch(t){}finally{for(const t of this.#M)t();this.#M=[],this.#_=!1}})))}));async#C(){const t=Nn(4);return this.#x?.postMessage({type:"sync",source:"main",data:this.#w,id:t}),new Promise((e=>{this.#x?.addEventListener("message",(s=>{"content"===s.data.source&&"sync"===s.data.type&&s.data.id===t&&e()}))}))}async get(t){if(await this.#k,!Array.isArray(t))return this.#$(t);const e=t,s=[];for(const t of e){const e=this.#$(t);s.push(e)}return s}async set(t,e){await this.#k,this.#S(t,e),await this.#P()}async getAll(){return await this.#k,structuredClone(this.#w)}async setAll(t){await this.#k,this.#w=structuredClone(t),await this.#C()}},Rn=t=>new URL(t,import.meta.url).href,zn=/Chrome/.test(navigator.userAgent)&&/Mac OS X (\d+)/.test(navigator.userAgent)&&parseInt(RegExp.$1,10)<=11,Dn={aus:Rn("/assets/aus.webp"),brazil:Rn("/assets/brazil.webp"),bulgaria:Rn("/assets/bulgaria.webp"),canada:Rn("/assets/canada.webp"),finland:Rn("/assets/finland.webp"),france:Rn("/assets/france.webp"),germany:Rn("/assets/germany.webp"),hongkong:Rn("/assets/hongkong.webp"),india:Rn("/assets/india.webp"),italy:Rn("/assets/italy.webp"),japan:Rn("/assets/japan.webp"),nigeria:Rn("/assets/nigeria.webp"),poland:Rn("/assets/poland.webp"),sa:Rn("/assets/sa.webp"),singapore:Rn("/assets/singapore.webp"),sk:Rn("/assets/sk.webp"),spain:Rn("/assets/spain.webp"),uae:Rn("/assets/uae.webp"),uk:Rn("/assets/uk.webp"),unknown:Rn("/assets/unknown.webp"),usa:Rn("/assets/usa.webp")},Ln=2*Math.PI,Bn=Ln/65536,Vn=new Float32Array(250);for(let t=0,e=0;t<250;t++)Vn[t]=e,e+=.12*(1-e);var jn=38,Un=[];for(let t=0;t<jn;t++){const e=.5*(1-Math.cos(Math.PI*t/37));Un[t]=e}var Wn=53,Hn=new Float32Array(Wn);for(let t=0;t<Wn;t++){const e=.5*(1-Math.cos(Math.PI*(52-t)/52));Hn[t]=e}var qn=53,Kn=new Float32Array(qn);for(let t=0;t<qn;t++){const e=.5*(1-Math.cos(Math.PI*(52-t)/52));Kn[t]=e}var Xn=53,Yn=new Float32Array(Xn);for(let t=0;t<Xn;t++){const e=.5*(1-Math.cos(Math.PI*(52-t)/52));Yn[t]=e}var Gn=26,Jn=new Float32Array(Gn);for(let t=0;t<Gn;t++){const e=.5*(1-Math.cos(Math.PI*(25-t)/25));Jn[t]=e}var Zn=[],Qn=[];for(let t=0;t<62;t++)Zn.push(0),Qn.push(0);var tr=new Map([[1,Rn("/assets/Stellar_mod_map_dot-01.png")],[2,Rn("/assets/Stellar_mod_map_dot-02.png")],[3,Rn("/assets/Stellar_mod_map_dot-03.png")],[4,Rn("/assets/Stellar_mod_map_dot-04.png")],[5,Rn("/assets/Stellar_mod_map_dot-05.png")],[6,Rn("/assets/Stellar_mod_map_dot-06.png")],[7,Rn("/assets/Stellar_mod_map_dot-07.png")],[8,Rn("/assets/Stellar_mod_map_dot-08.png")],[9,Rn("/assets/Stellar_mod_map_dot-09.png")],[10,Rn("/assets/Stellar_mod_map_dot-10.png")],[11,Rn("/assets/Stellar_mod_map_dot-11.png")],[12,Rn("/assets/Stellar_mod_map_dot-12.png")],[13,Rn("/assets/Stellar_mod_map_dot-13.png")],[14,Rn("/assets/Stellar_mod_map_dot-14.png")],[15,Rn("/assets/Stellar_mod_map_dot-15.png")],[16,Rn("/assets/Stellar_mod_map_dot-16.png")],[17,Rn("/assets/Stellar_mod_map_dot-17.png")],[18,Rn("/assets/Stellar_mod_map_dot-18.png")],[19,Rn("/assets/Stellar_mod_map_dot-19.png")],[20,Rn("/assets/Stellar_mod_map_dot-20.png")],[21,Rn("/assets/Stellar_mod_map_dot-21.png")],[22,Rn("/assets/Stellar_mod_map_dot-22.png")],[23,Rn("/assets/Stellar_mod_map_dot-23.png")],[24,Rn("/assets/Stellar_mod_map_dot-24.png")],[25,Rn("/assets/Stellar_mod_map_dot-25.png")],[26,Rn("/assets/Stellar_mod_map_dot-26.png")],[27,Rn("/assets/Stellar_mod_map_dot-27.png")],[28,Rn("/assets/Stellar_mod_map_dot-28.png")],[29,Rn("/assets/Stellar_mod_map_dot-29.png")],[30,Rn("/assets/Stellar_mod_map_dot-30.png")],[31,Rn("/assets/Stellar_mod_map_dot-31.png")],[32,Rn("/assets/Stellar_mod_map_dot-32.png")],[33,Rn("/assets/Stellar_mod_map_dot-33.png")],[34,Rn("/assets/Stellar_mod_map_dot-34.png")],[35,Rn("/assets/Stellar_mod_map_dot-35.png")],[36,Rn("/assets/Stellar_mod_map_dot-36.png")],[37,Rn("/assets/Stellar_mod_map_dot-37.png")],[38,Rn("/assets/Stellar_mod_map_dot-38.png")],[39,Rn("/assets/Stellar_mod_map_dot-39.png")],[40,Rn("/assets/Stellar_mod_map_dot-40.png")],[41,Rn("/assets/Stellar_mod_map_dot-41.png")],[42,Rn("/assets/Stellar_mod_map_dot-42.png")],[43,Rn("/assets/Stellar_mod_map_dot-43.png")],[44,Rn("/assets/Stellar_mod_map_dot-44.png")],[45,Rn("/assets/Stellar_mod_map_dot-45.png")]]);function er(t){pt(t,t.v+1)}function sr(t){let e,s=0,n=ct(0);return()=>{null===ie||ae||(ze(n),Tt((()=>(0===s&&(e=De((()=>t((()=>er(n)))))),s+=1,()=>{Re().then((()=>{s-=1,0===s&&(e?.(),e=void 0)}))}))))}}var nr=Rn("/assets/beep.mp3"),rr=Rn("/assets/message.mp3");function or(){new Audio(nr).play().catch(console.error)}function ir(){new Audio(rr).play().catch(console.error)}var ar={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},lr=cs("<svg><!><!></svg>");function cr(t,e){W(e,!0);const s=Pn(e,"color",3,"currentColor"),n=Pn(e,"size",3,24),r=Pn(e,"strokeWidth",3,2),o=Pn(e,"absoluteStrokeWidth",3,!1),i=Pn(e,"iconNode",19,(()=>[])),a=Mn(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var l=lr();let c;var d=wt(l);xs(d,17,i,bs,((t,e)=>{var s=us();Cs(xt(s),(()=>ze(e)[0]),0,((t,s)=>{let n;Nt((()=>n=qs(t,n,{...ze(e)[1]})))})),hs(t,s)})),Ss(kt(d),(()=>e.children??h)),Nt((t=>c=qs(l,c,{...ar,...a,width:n(),height:n(),stroke:s(),"stroke-width":t,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]})),[()=>o()?24*Number(r())/Number(n()):r()]),hs(t,l),H()}function dr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"bot"},(()=>s),{iconNode:[["path",{d:"M12 8V4H8"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}],["path",{d:"M2 14h2"}],["path",{d:"M20 14h2"}],["path",{d:"M15 13v2"}],["path",{d:"M9 13v2"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function ur(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"check"},(()=>s),{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function hr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"chevron-down"},(()=>s),{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function pr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"chevron-left"},(()=>s),{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function fr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"chevron-right"},(()=>s),{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function gr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"chevron-up"},(()=>s),{iconNode:[["path",{d:"m18 15-6-6-6 6"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function vr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"chevrons-down"},(()=>s),{iconNode:[["path",{d:"m7 6 5 5 5-5"}],["path",{d:"m7 13 5 5 5-5"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function mr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"chevrons-up"},(()=>s),{iconNode:[["path",{d:"m17 11-5-5-5 5"}],["path",{d:"m17 18-5-5-5 5"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function yr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"cpu"},(()=>s),{iconNode:[["path",{d:"M12 20v2"}],["path",{d:"M12 2v2"}],["path",{d:"M17 20v2"}],["path",{d:"M17 2v2"}],["path",{d:"M2 12h2"}],["path",{d:"M2 17h2"}],["path",{d:"M2 7h2"}],["path",{d:"M20 12h2"}],["path",{d:"M20 17h2"}],["path",{d:"M20 7h2"}],["path",{d:"M7 20v2"}],["path",{d:"M7 2v2"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function br(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"download"},(()=>s),{iconNode:[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function wr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"eye"},(()=>s),{iconNode:[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function xr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"mic-off"},(()=>s),{iconNode:[["line",{x1:"2",x2:"22",y1:"2",y2:"22"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function kr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"mic"},(()=>s),{iconNode:[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function _r(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"plus"},(()=>s),{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Mr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"rotate-ccw"},(()=>s),{iconNode:[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Ar(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"send"},(()=>s),{iconNode:[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}],["path",{d:"m21.854 2.147-10.94 10.939"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function $r(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"sparkles"},(()=>s),{iconNode:[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}],["path",{d:"M20 3v4"}],["path",{d:"M22 5h-4"}],["path",{d:"M4 17v2"}],["path",{d:"M5 18H3"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Sr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"tag"},(()=>s),{iconNode:[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Pr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"upload"},(()=>s),{iconNode:[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Cr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"user"},(()=>s),{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Ir(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"users"},(()=>s),{iconNode:[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Er(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"volume-2"},(()=>s),{iconNode:[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Fr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"volume-x"},(()=>s),{iconNode:[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Tr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"x"},(()=>s),{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}function Nr(t,e){W(e,!0);let s=Mn(e,["$$slots","$$events","$$legacy"]);cr(t,$n({name:"zap"},(()=>s),{iconNode:[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}]],children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})),H()}var Or=ls('<button class="pointer-events-auto cursor-pointer text-white hover:text-white/65" aria-label="Close"><!></button>');function Rr(t,e){var s=Or();s.__click=function(...t){e.onclose?.apply(this,t)},Tr(wt(s),{size:"24"}),hs(t,s)}function zr(t){return 1===t?t:1-Math.pow(2,-10*t)}function Dr(t){return--t*t*t*t*t+1}function Lr(t){return-.5*(Math.cos(Math.PI*t)-1)}rs(["click"]);var Br=t=>t;function Vr(t){const e=t-1;return e*e*e+1}function jr(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function Ur(t,{delay:e=0,duration:s=400,easing:n=Br}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:s,easing:n,css:t=>"opacity: "+t*r}}function Wr(t,{delay:e=0,duration:s=400,easing:n=Vr,x:r=0,y:o=0,opacity:i=0}={}){const a=getComputedStyle(t),l=+a.opacity,c="none"===a.transform?"":a.transform,d=l*(1-i),[u,h]=jr(r),[p,f]=jr(o);return{delay:e,duration:s,easing:n,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*u}${h}, ${(1-t)*p}${f});\n\t\t\topacity: ${l-d*e}`}}function Hr(t,{delay:e=0,duration:s=400,easing:n=Vr,axis:r="y"}={}){const o=getComputedStyle(t),i=+o.opacity,a="y"===r?"height":"width",l=parseFloat(o[a]),c="y"===r?["top","bottom"]:["left","right"],d=c.map((t=>`${t[0].toUpperCase()}${t.slice(1)}`)),u=parseFloat(o[`padding${d[0]}`]),h=parseFloat(o[`padding${d[1]}`]),p=parseFloat(o[`margin${d[0]}`]),f=parseFloat(o[`margin${d[1]}`]),g=parseFloat(o[`border${d[0]}Width`]),v=parseFloat(o[`border${d[1]}Width`]);return{delay:e,duration:s,easing:n,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*i};${a}: ${t*l}px;padding-${c[0]}: ${t*u}px;padding-${c[1]}: ${t*h}px;margin-${c[0]}: ${t*p}px;margin-${c[1]}: ${t*f}px;border-${c[0]}-width: ${t*g}px;border-${c[1]}-width: ${t*v}px;min-${a}: 0`}}var qr=class{#I;#E;constructor(t,e){this.#I=t,this.#E=sr(e)}get current(){return this.#E(),this.#I()}},Kr=new qr((()=>window.innerWidth),(t=>ss(window,"resize",t))),Xr=new qr((()=>window.innerHeight),(t=>ss(window,"resize",t))),Yr=new class{#F=dt(!1);get enabled(){return ze(this.#F)}set enabled(t){pt(this.#F,t,!0)}},Gr=vn(!0),Jr=dt(!1),Zr=Z((()=>Math.min(1200,.9*(Kr.current??0)))),Qr=Z((()=>Math.min(780,.8*(Xr.current??0)))),to=()=>{pt(Jr,!1),oo&&(oo.srcObject=null),no?.close(),no=null,oo&&(oo.srcObject=null)},eo=dt(!0),so=t=>{pt(eo,t,!0)},no=null,ro=null,oo=null;async function io(){const t=await fetch(`https://server.stellarslither.com/api/turn-credentials?username=${encodeURIComponent("guest")}`);if(!t.ok)throw new Error("Failed to get TURN credentials");return await t.json()}async function ao(t){"spectate-request"===t.type&&t.from&&lo(t.from),"offer"===t.type&&t.from&&await co(t),"answer"===t.type&&t.from&&await(no?.setRemoteDescription(new RTCSessionDescription(t.answer))),"ice-candidate"===t.type&&t.from&&await(no?.addIceCandidate(t.candidate))}async function lo(t){const e=await io(),s=[{urls:"stun:stun.l.google.com:19302"},{urls:e.urls,username:e.username,credential:e.credential}];no=new RTCPeerConnection({iceServers:s});const n=document.querySelector("#main_canvas");if(!n)return alert("No canvas found!");ro||(ro=n.captureStream(30)),ro.getTracks().forEach((t=>no.addTrack(t,ro))),no.onicecandidate=e=>{e.candidate&&jo({type:"ice-candidate",to:t,candidate:e.candidate})};const r=await no.createOffer();await no.setLocalDescription(r),jo({type:"offer",to:t,offer:r})}async function co(t){if(no)return;const e=await io(),s=[{urls:"stun:stun.l.google.com:19302"},{urls:e.urls,username:e.username,credential:e.credential,realm:e.realm}];(no=new RTCPeerConnection({iceServers:s})).ontrack=t=>{oo||(oo=document.querySelector("video")),oo&&t.streams[0]&&(oo.srcObject=t.streams[0],oo.play().catch((t=>{})))},no.onicecandidate=e=>{e.candidate&&jo({type:"ice-candidate",to:t.from,candidate:e.candidate})},await no.setRemoteDescription(new RTCSessionDescription(t.offer));const n=await no.createAnswer();await no.setLocalDescription(n),jo({type:"answer",to:t.from,answer:n})}var uo=t=>{Go(t),window.connect()},ho=async t=>{Yr.enabled=!0,Gr.set(!1),pt(Jr,!0),await Re(),oo||(oo=document.querySelector("video")),jo({type:"spectate-request",to:t})},po=ls('<div style="z-index: 999;" class="fixed inset-0 flex h-screen w-screen items-center justify-center"><video class="rounded-lg border border-white bg-black/30 p-3.5 shadow-lg shadow-black/50 backdrop-blur-xs" autoplay></video></div> <div class="absolute top-0 left-0 z-99999 flex h-20 w-full items-center justify-between bg-gradient-to-b from-neutral-900/70 to-transparent px-4 backdrop-blur-md"><div class="text-lg text-white">If it doesn\'t start within 10 seconds, try closing and reopening.</div> <!></div>',3),fo=ls('<img class="relative z-15 translate-x-[var(--x)] translate-y-[var(--y)] transform-gpu" width="15px" height="15px" alt="" draggable="false">'),go=ls('<img class="relative z-15 translate-x-[var(--x)] translate-y-[var(--y)] transform-gpu" width="15px" height="15px" alt="" draggable="false">'),vo=ls('<img class="relative z-15 translate-x-[var(--x)] translate-y-[var(--y)] transform-gpu" width="15px" height="15px" alt="" draggable="false">'),mo=ls('<div class="text-right font-semibold"> </div>'),yo=ls('<div class="text-center"> </div>'),bo=(t,e,s)=>{t.currentTarget.blur(),e(ze(s).i)},wo=(t,e,s)=>{t.currentTarget.blur(),e(ze(s).si)},xo=ls('<div class="flex items-center justify-between gap-2 mb-3"><div class="flex gap-2"><button class="spectate_btn btn px-2 py-0.5 rounded bg-gray-100 hover:bg-gray-200 text-sm svelte-cxp4ju">Spectate</button> <button class="play_btn btn px-2 py-0.5 rounded bg-gray-100 hover:bg-gray-200 text-sm svelte-cxp4ju">Play</button></div></div>'),ko=ls('<div class="flex items-center justify-between text-gray-200 text-[12px]"><div> </div> <div> </div> <div> </div></div> <!>',1),_o=ls('<div class="player_row flex items-center space-x-2 text-[13px] svelte-cxp4ju"><!> <!> <div class="flex-1 truncate"> <span> </span> </div> <!></div> <!>',1),Mo=ls('<div id="playerList" class="fixed top-66 right-2 z-[9]  min-w-[320px]"><h3 class="text-center text-lg font-bold mb-3">Player List</h3> <div class="flex w-70 max-w-70 flex-col text-xs space-y-2"></div></div>'),Ao=ls("<!> <!>",1);function $o(t,e){W(e,!0);const[s,n]=xn(),r=()=>wn(Oo,"$myId",s);var o=Ao(),i=xt(o),a=t=>{var e=po(),s=xt(e),n=wt(s);n.muted=!0,dn(n,(t=>oo=t),(()=>oo));var r=kt(s,2);Rr(kt(wt(r),2),{onclose:to}),Nt((()=>{Hs(n,"width",ze(Zr)),Hs(n,"height",ze(Qr))})),nn(1,s,(()=>Wr),(()=>({y:-700,duration:400,easing:Dr,delay:150}))),nn(2,s,(()=>Ur),(()=>({duration:200,easing:Dr}))),nn(3,r,(()=>Ur),(()=>({duration:400,easing:Lr}))),hs(t,e)};ys(i,(t=>{ze(Jr)&&t(a)}));var l=kt(i,2),c=t=>{var e=Mo();xs(kt(wt(e),2),5,(()=>Array.from(wn(Io,"$teamData",s).values())),bs,((t,e)=>{var s=_o(),n=xt(s);let o;var i=wt(n),a=t=>{var e=fo();Hs(e,"src",Ho),hs(t,e)},l=(t,s)=>{var n=t=>{var e=go();Hs(e,"src",Wo),hs(t,e)},o=t=>{var s=vo();Nt((t=>Hs(s,"src",t)),[()=>0===ze(e).mp?ze(e).i===r()?Ko:Xo:tr.get(ze(e).mp)]),hs(t,s)};ys(t,(t=>{"sos"===ze(e).ss?t(n):t(o,!1)}),s)};ys(i,(t=>{"food"===ze(e).ss?t(a):t(l,!1)}));var c=kt(i,2),d=t=>{var s=mo(),n=wt(s);Nt((()=>gs(n,`#${ze(e).r??""}`))),hs(t,s)};ys(c,(t=>{ze(e).r&&t(d)}));var u=kt(c,2),h=wt(u),p=kt(h),f=wt(p),g=kt(p),v=kt(u,2),m=t=>{var s=yo(),n=wt(s);Nt((()=>gs(n,ze(e).s))),hs(t,s)};ys(v,(t=>{ze(e).s&&t(m)}));var y=kt(n,2),b=t=>{var s=ko(),n=xt(s),o=wt(n),i=wt(o),a=kt(o,2),l=wt(a),c=wt(kt(a,2)),d=kt(n,2),u=t=>{var s=xo(),n=wt(s),r=wt(n);r.__click=[bo,ho,e],kt(r,2).__click=[wo,uo,e],hs(t,s)};ys(d,(t=>{ze(e).i!==r()&&t(u)})),Nt((()=>{gs(i,ze(e).si),gs(l,`kills: ${ze(e).k??""}`),gs(c,`${ze(e).fp??""}fps @ ${ze(e).pi??""} (${ze(e).mp??""})ms`)})),hs(t,s)};ys(y,(t=>{ze(e).sk&&t(b)})),Nt((()=>{o=Ls(n,"",o,{color:ze(e).c}),gs(h,`@${ze(e).n??""} `),gs(f,ze(e).ia?"(Admin)":""),gs(g,`: ${ze(e).ni??""}`)})),hs(t,s)})),hs(t,e)};ys(l,(t=>{ze(eo)&&wn(No,"$connected",s)&&t(c)})),hs(t,o),H(),n()}rs(["click"]);var So=null,Po=vn([{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:'Welcome to the Stellar Mod for Slither.io. \n - "/clear" to clear chat.',time:Date.now()}]),Co=new Map,Io=vn(Co);Io.subscribe((t=>{Co=t}));var Eo=[],Fo=vn(Eo);Fo.subscribe((t=>{Eo=t}));var To=!1,No=vn(To);No.subscribe((t=>{To=t}));var Oo=vn(null),Ro=vn(null),zo=vn(null),Do=vn(null);async function Lo(t){const e=await On.get("credentials");e.forEach((e=>{e.type===t.type&&(e.isActive=!1)}));const s=e.findIndex((e=>e.id===t.id&&e.password===t.password&&e.type===t.type));s>=0?e[s]=t:e.push(t),await On.set("credentials",e)}function Bo({wsUrl:t,userKey:e,teamId:s}){So&&So.close(),Po.set([{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:'Welcome to the Stellar Mod for Slither.io. \n - "/clear" to clear chat. \n - "@PlayerName" to mention a player. \n - "Windows key + ;" to use emojis \n ("Control + Command + Space" For Mac)',time:Date.now()}]),(So=new WebSocket(`${t}?userKey=${e}&teamId=${s}`)).onopen=()=>{},So.onerror=t=>{Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Error logging in.",time:Date.now()}])),No.set(!1)},So.onclose=async()=>{No.set(!1),Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Logged out.",time:Date.now()}]));const t=await On.get("credentials");t.forEach((t=>{"team"===t.type&&(t.isActive=!1)})),await On.set("credentials",t)},So.onmessage=t=>{let n;try{n=JSON.parse(t.data)}catch{return}switch(n.type){case"beep":or();break;case"log":ir(),Po.update((t=>[...t,{from:"bot",text:n.message,name:"STELLAR MOD",color:"#00FFFF",time:Date.now()}]));break;case"chat-message":ir(),Po.update((t=>[...t,{from:n.from,text:n.message,name:n.name,color:n.color,time:n.timestamp}]));break;case"td":const t=n.d.i;if(Io.update((e=>{const s=e.get(t),r="sos"===s?.ss;"sos"===n.d.ss&&!r&&or(),s?.timeout&&clearTimeout(s.timeout);const o=setTimeout((()=>{Io.update((e=>(e.delete(t),e)))}),2e3);return e.set(t,{...n.d,timeout:o}),e})),Fo.set(n.a??[]),n.mp){const t=n.mp.find((t=>t.serverIp===In.serverAddress));t?Yo.setMapAreaPosition(t.position.x,t.position.y):Yo.setMapAreaPosition(0,0)}else Yo.setMapAreaPosition(0,0);break;case"vc-invite":window.postMessage({type:"vc-invite",data:n.from},"*");break;case"vc-offer":window.postMessage({type:"vc-offer",data:n},"*");break;case"vc-answer":window.postMessage({type:"vc-answer",data:n},"*");break;case"vc-ice-candidate":window.postMessage({type:"vc-ice-candidate",data:n},"*");break;case"vc-ended":window.postMessage({type:"vc-ended",data:n.from},"*");break;case"spectate-request":case"offer":case"answer":case"ice-candidate":ao(n);break;case"connected":Lo({id:s,password:e,type:"team",isActive:!0,name:n.teamName}),No.set(!0),Oo.set(n.id),Ro.set(n.user),zo.set(n.teamName),Do.set(n.teamMessage),Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:`logged in ${n.teamName} .`,time:Date.now()}])),Po.update((t=>[...t,{from:"team",text:n.teamMessage,name:n.teamName,color:"#ff0000",time:Date.now()}]));break;case"error":Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:`${n.error} .`,time:Date.now()}]))}}}function Vo(){So?.close()}function jo(t){So&&So.readyState===WebSocket.OPEN&&So.send(JSON.stringify(t))}function Uo(t){So?.send(JSON.stringify({type:"add-ally-enemy",...t}))}var Wo=Rn("/assets/team_sos.png"),Ho=Rn("/assets/team_food.png"),qo=(t,e,s,n,r,o)=>({x:s+s*(t-r)/o-n,y:s+s*(e-r)/o-n}),Ko=(()=>{const t=document.createElement("canvas"),e=t.getContext("2d");if(null==e)throw new Error("Failed to get context");return t.width=t.height=14,e.fillStyle="#FFFFFF",e.strokeStyle="#000000",e.lineWidth=2,e.beginPath(),e.arc(7,7,2.5,0,Ln),e.stroke(),e.fill(),t.toDataURL("image/webp",.92)})(),Xo=(()=>{const t=document.createElement("canvas"),e=t.getContext("2d");if(null==e)throw new Error("Failed to get context");return t.width=t.height=14,e.fillStyle="#00F7F7",e.strokeStyle="#ffffff",e.lineWidth=1,e.beginPath(),e.arc(7,7,2.5,0,Ln),e.stroke(),e.fill(),t.toDataURL("image/webp",.92)})(),Yo=new class{#T=dt(0);get mmsz(){return ze(this.#T)}set mmsz(t){pt(this.#T,t,!0)}#N=Z((()=>this.mmsz/2));get mmrad(){return ze(this.#N)}set mmrad(t){pt(this.#N,t)}#O=dt(0);get alpha(){return ze(this.#O)}set alpha(t){pt(this.#O,t,!0)}#R=Z((()=>this.mmsz+24));get baseSize(){return ze(this.#R)}set baseSize(t){pt(this.#R,t)}#z=Z((()=>this.baseSize/2));get baseRadius(){return ze(this.#z)}set baseRadius(t){pt(this.#z,t)}#D=dt(14);get isize(){return ze(this.#D)}set isize(t){pt(this.#D,t,!0)}#L=Z((()=>this.isize/2));get irad(){return ze(this.#L)}set irad(t){pt(this.#L,t)}#B=dt(0);get sx(){return ze(this.#B)}set sx(t){pt(this.#B,t,!0)}#V=dt(0);get sy(){return ze(this.#V)}set sy(t){pt(this.#V,t,!0)}#j=dt(0);get tsx(){return ze(this.#j)}set tsx(t){pt(this.#j,t,!0)}#U=dt(0);get tsy(){return ze(this.#U)}set tsy(t){pt(this.#U,t,!0)}#W=dt(0);get lsx(){return ze(this.#W)}set lsx(t){pt(this.#W,t,!0)}#H=dt(0);get lsy(){return ze(this.#H)}set lsy(t){pt(this.#H,t,!0)}#q=Z((()=>{const t=qo(this.sx,this.sy,this.mmrad,this.irad,In.grd,In.flux_grd);return`translate3d(${Math.round(10*t.x)/10}px,${Math.round(10*t.y)/10}px,0)`}));get mypostrf(){return ze(this.#q)}set mypostrf(t){pt(this.#q,t)}getMapPos(t,e){const s=qo(Number(t),Number(e),this.mmrad,this.irad,In.grd,In.flux_grd);return`translate3d(${Math.round(10*s.x)/10}px,${Math.round(10*s.y)/10}px,0)`}#K=Z((()=>Zi.save_last_pos&&this.lsx>0&&this.lsy>0));get show_last(){return ze(this.#K)}set show_last(t){pt(this.#K,t)}#X=Z((()=>{const t=qo(this.lsx,this.lsy,this.mmrad,this.irad,In.grd,In.flux_grd);return`translate3d(${Math.round(10*t.x)/10}px,${Math.round(10*t.y)/10}px,0)`}));get lpostrf(){return ze(this.#X)}set lpostrf(t){pt(this.#X,t)}#Y=Z((()=>this.#G(this.mmrad)));get mapsrc(){return ze(this.#Y)}set mapsrc(t){pt(this.#Y,t)}#J=Z((()=>0===Zi.map_dot?Ko:tr.get(Zi.map_dot)));get mylocsrc(){return ze(this.#J)}set mylocsrc(t){pt(this.#J,t)}getPlayerDotSrc(t){return 0===t?Xo:tr.get(t)}#Z=dt(Y(Rn("/assets/last_position.webp")));get lplocsrc(){return ze(this.#Z)}set lplocsrc(t){pt(this.#Z,t,!0)}#Q=dt(null);get cc(){return ze(this.#Q)}set cc(t){pt(this.#Q,t,!0)}c1=new OffscreenCanvas(1,1);c2=new OffscreenCanvas(1,1);#tt=dt(0);get c1alpha(){return ze(this.#tt)}set c1alpha(t){pt(this.#tt,t,!0)}#et=dt(0);get c2alpha(){return ze(this.#et)}set c2alpha(t){pt(this.#et,t,!0)}#G(t){const e=12+t,s=12+t,n=document.createElement("canvas"),r=n.getContext("2d");if(null==r)throw new Error("Failed to get context");return n.width=n.height=2*t+24,r.save(),r.fillStyle="#202630",r.shadowBlur=12,r.shadowOffsetY=3,r.shadowColor="#000000",r.beginPath(),r.arc(e,s,t,0,Ln),r.fill(),r.restore(),r.fillStyle="#404650",r.beginPath(),r.moveTo(t+12,t+12),r.arc(e,s,t,0,Math.PI/2),r.lineTo(e,s),r.fill(),r.beginPath(),r.moveTo(e,s),r.arc(e,s,t,Math.PI,3*Math.PI/2),r.lineTo(e,s),r.fill(),r.strokeStyle="#202630",r.lineWidth=1,r.beginPath(),r.moveTo(e,s-t),r.lineTo(e,s+t),r.stroke(),r.beginPath(),r.moveTo(e-t,s),r.lineTo(e+t,s),r.stroke(),n.toDataURL("image/webp",.92)}resetPos(){this.sx=0,this.sy=0,this.tsx=0,this.tsy=0,this.lsx=0,this.lsy=0,this.mapAreaX=0,this.mapAreaY=0}resize(t,e){return!(this.mmsz===t&&!e||(this.mmsz=t,this.c1.width=this.c1.height=t,this.c2.width=this.c2.height=t,0))}#st=dt(0);get mapAreaX(){return ze(this.#st)}set mapAreaX(t){pt(this.#st,t,!0)}#nt=dt(0);get mapAreaY(){return ze(this.#nt)}set mapAreaY(t){pt(this.#nt,t,!0)}#rt=Z((()=>{const t=qo(this.mapAreaX,this.mapAreaY,this.mmrad,this.irad,In.grd,In.flux_grd);return{x:Math.round(10*t.x)/10,y:Math.round(10*t.y)/10}}));get mpos(){return ze(this.#rt)}set mpos(t){pt(this.#rt,t)}#ot=dt(!0);get mapMarker(){return ze(this.#ot)}set mapMarker(t){pt(this.#ot,t,!0)}#it=Z((()=>this.mapMarker&&this.mapAreaX>0&&this.mapAreaY>0));get showMarker(){return ze(this.#it)}set showMarker(t){pt(this.#it,t)}handleClickMarker(t,e){if(!To)return;const s=(n=t-this.irad,r=e-this.irad,o=this.mmrad,i=this.irad,{x:(a=In.grd)+(l=In.flux_grd)/o*(n-o+i),y:a+l/o*(r-o+i)});var n,r,o,i,a,l,c;c={serverIp:In.serverAddress,position:{x:s.x,y:s.y}},So?.send(JSON.stringify({type:"mark-map",...c}))}setMapAreaPosition(t,e){this.mapAreaX=t,this.mapAreaY=e}},Go=t=>{In.serverAddress!==t&&(Yo.lsx=0,Yo.lsy=0),In.serverAddress=t,Qo.fav_server=t},Jo=t=>{t<In.bestScore||(In.bestScore=t,Qo.hidh_score=t)},Zo=["nickname","fav_server","hidh_score"],Qo=new class{#at=dt(Y(t.nickname));get nickname(){return ze(this.#at)}set nickname(t){pt(this.#at,t,!0)}#lt=dt(Y(t.fav_server));get fav_server(){return ze(this.#lt)}set fav_server(t){pt(this.#lt,t,!0)}#ct=dt(Y(t.hidh_score));get hidh_score(){return ze(this.#ct)}set hidh_score(t){pt(this.#ct,t,!0)}constructor(){this.#dt()}async#dt(){await this.sync(),Ct((()=>{for(const t of Zo)St((()=>{On.set(t,this[t])}))}))}async sync(){[this.nickname,this.fav_server,this.hidh_score]=await On.get(Zo),Go(this.fav_server),Jo(this.hidh_score)}},ti=new class{#ut=dt([]);get custom_skin(){return ze(this.#ut)}set custom_skin(t){pt(this.#ut,t)}#ht=Z((()=>this.custom_skin.length));get custom_skin_length(){return ze(this.#ht)}set custom_skin_length(t){pt(this.#ht,t)}constructor(){this.#dt()}async#dt(){await this.sync(),Ct((()=>{St((()=>{On.set("custom_skin",this.custom_skin)}))}))}async sync(){this.custom_skin=await On.get("custom_skin")}},ei=(t,e)=>{const s=ti.custom_skin;s[t].cosmetic=e,On.set("custom_skin",s)},si=0,ni=[],ri=[];function oi(t){if(t!==si){si=t,ni=[],ri=[];for(let t=0;t<=si;t++)t>=si?ni.push(ni[t-1]):ni.push((1-t/si)**2.25),0===t?ri.push(0):ri.push(ri[t-1]+1/ni[t-1]);const e=ni[ni.length-1],s=ri[ri.length-1];for(let t=0;t<2048;t++)ni.push(e),ri.push(s)}}var ii=(t,e)=>{const s=t.sct+(e?t.rsc:0);return ai(s,t.fam)},ai=(t,e)=>15*(ri[t]+e/ni[t]-1)-5,li=1500,ci=850,di=700,ui=ci+50,hi=di+50,pi=ci+150,fi=di+150,gi=ci/2,vi=di/2,mi=window.innerWidth,yi=window.innerHeight,bi=0,wi=0,xi=mi/2,ki=yi/2,_i=1,Mi=()=>{if(mi=Math.ceil(window.innerWidth),yi=Math.ceil(window.innerHeight),mi===bi&&yi===wi)return!1;bi=mi,wi=yi,xi=mi/2,ki=yi/2;const t=Math.sqrt(mi*mi+yi*yi);let e=Math.ceil(1800*mi/t),s=Math.ceil(1800*yi/t);return e>li&&(s=Math.ceil(s*li/e),e=li),s>li&&(e=Math.ceil(e*li/s),s=li),ci===e&&di===s||(ui=(ci=e)+50,hi=(di=s)+50,pi=ci+150,fi=di+150,gi=ci/2,vi=di/2),_i=Math.min(mi/ci,yi/di),!0},Ai=(t,e)=>{const s=Math.PI/4,n=3*Math.PI/4;let r=0,o=0;const i=Math.abs(t)+1e-10;return e<0?(r=(e+i)/(i-e),o=n):(r=(e-i)/(e+i),o=s),o+=(.1963*r*r-.9817)*r,t<0?-o:o},$i=(t,e,s)=>(e.x-t.x)*(s.y-t.y)-(e.y-t.y)*(s.x-t.x)>0,Si=(t,e,s,n)=>(t-s)**2+(e-n)**2,Pi=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return e>0?{x:t.x/e,y:t.y/e}:{x:0,y:0}},Ci=(t,e)=>{if(t.x<e.minx||t.x>e.maxx||t.y<e.miny||t.y>e.maxy)return!1;let s=!1;const n=e.pts,r=n.length;for(let e=0,o=r-1;e<r;o=e++)n[e].y>t.y!=n[o].y>t.y&&t.x<(n[o].x-n[e].x)*(t.y-n[e].y)/(n[o].y-n[e].y)+n[e].x&&(s=!s);return s},Ii=t=>{const e=t.pts;let s=e[0].x,n=e[0].x,r=e[0].y,o=e[0].y;for(let t=1,i=e.length;t<i;t++)e[t].x<s&&(s=e[t].x),e[t].x>n&&(n=e[t].x),e[t].y<r&&(r=e[t].y),e[t].y>o&&(o=e[t].y);return{pts:e,minx:s,maxx:n,miny:r,maxy:o}},Ei=(t,e,s)=>(e.x-t.x)*(s.y-t.y)-(e.y-t.y)*(s.x-t.x),Fi=(t,e)=>t.x===e.x?t.y-e.y:t.x-e.x,Ti=t=>{t.sort(Fi);const e=[];for(let s=0,n=t.length;s<n;s++){for(;e.length>=2&&Ei(e[e.length-2],e[e.length-1],t[s])<=0;)e.pop();e.push(t[s])}const s=[];for(let e=t.length-1;e>=0;e--){for(;s.length>=2&&Ei(s[s.length-2],s[s.length-1],t[e])<=0;)s.pop();s.push(t[e])}return s.pop(),e.pop(),e.concat(s)},Ni=!0,Oi=new OffscreenCanvas(1,1),Ri=(t,e,s,n,r=!1,o=1,i=1)=>{if(!Ni)return;const a=Oi.getContext("2d");a&&(a.save(),a.beginPath(),a.arc(t,e,s,0,Ln),a.strokeStyle=n,a.lineWidth=i,a.globalAlpha=o,r&&(a.fillStyle=n,a.fill()),a.stroke(),a.restore())},zi=(t,e,s,n,r,o=1,i=1)=>{if(!Ni)return;const a=Oi.getContext("2d");a&&(a.save(),a.beginPath(),a.moveTo(t,e),a.lineTo(s,n),a.strokeStyle=r,a.lineWidth=i,a.globalAlpha=o,a.stroke(),a.restore())},Di=(t,e,s=1,n=!1,r=1)=>{if(!Ni)return;const o=Oi.getContext("2d");if(o){o.save(),o.beginPath(),o.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++){const s=t[e];o.lineTo(s.x,s.y)}n&&o.closePath(),o.strokeStyle=e,o.lineWidth=r,o.globalAlpha=s,o.stroke(),o.restore()}},Li=Math.PI/8,Bi=Math.PI/2,Vi=new class{#pt="grow";#ft=[];#gt=[];#vt=[];#mt;#yt=1;#bt=2e3;#wt=0;#xt=0;#kt=0;#_t=0;#Mt=0;#At=0;#$t=!0;#St=!0;#Pt=20;#Ct={x:0,y:0};#It={x:0,y:0,r:0};#Et={x:0,y:0,r:0};#Ft={x:0,y:0,r:0};#Tt=0;#Nt=[];#Ot=0;#Rt=0;#zt=0;#Dt=0;#Lt=0;#Bt=1;#Vt=0;#jt=0;#Ut=0;#Wt=[];#Ht=[];#qt=[];#Kt=0;#Xt=0;defaultAccel=0;onSetCoordinates=(t,e)=>{};onAcceleration=t=>{};set followCircleLength(t){this.#bt=t}get followCircleLength(){return this.#bt}#Yt(t){return Math.round(29*t)}#Gt(t,e){const s=t.r+e.r;if(t.x+s>e.x&&t.y+s>e.y&&t.x<e.x+s&&t.y<e.y+s&&Si(t.x,t.y,e.x,e.y)<s*s){const n=(t.x*e.r+e.x*t.r)/s,r=(t.y*e.r+e.y*t.r)/s;return{x:n,y:r,a:Ai(r-this.#Rt,n-this.#Ot)}}}#Jt(t,e){const s=(t-e)%Math.PI,n=(e-t)%Math.PI;return s<n?-s:n}#Zt(t){const e=Math.cos(t),s=Math.sin(t);return{x:Math.round(this.#Ot+500*e),y:Math.round(this.#Rt+500*s)}}#Qt(t){const e=this.#Ot+500*this.#Dt,s=this.#Rt+500*this.#Lt,n=Math.cos(-t),r=Math.sin(-t);return{x:Math.round(n*(e-this.#Ot)-r*(s-this.#Rt)+this.#Ot),y:Math.round(r*(e-this.#Ot)+n*(s-this.#Rt)+this.#Rt)}}#te(){const t=[];let e,s,n,r=this.#ee(this.#zt)+this.#At/2;r>this.#At&&(r-=this.#At);for(let r=0;r<this.#At;r++){const o=this.#gt[r];void 0===o?(s=0,void 0===n&&(n=r)):(s=o.d2,n&&(t.push({openStart:n,openEnd:r-1,sz:r-1-n}),n=void 0)),(void 0===e||e.distance<s&&0!==e.distance)&&(e={distance:s,aIndex:r})}n&&t[0]?(t[0].openStart=n,t[0].sz=t[0].openEnd-n,t[0].sz<0&&(t[0].sz+=this.#At)):n&&t.push({openStart:n,openEnd:n,sz:0}),t.length>0?(t.sort(this.#se),this.#Ct=this.#Zt((t[0].openEnd-t[0].sz/2)*Li)):e&&(this.#Ct=this.#Zt(e.aIndex*Li))}#ne(t,e){const s=void 0===e||e>Math.PI?Math.PI:e,n={x:this.#Ot,y:this.#Rt},r={x:this.#Ot+2e3*this.#Dt,y:this.#Rt+2e3*this.#Lt},o=$i(n,r,t);zi(n.x,n.y,r.x,r.y,"orange"),zi(n.x,n.y,t.x,t.y,"red"),this.#Ct=this.#Zt(o?t.a-s:t.a+s)}#ee(t){let e=t;t<0&&(e+=2*Math.PI);const s=Math.round(e*(1/Li));return s===this.#At?0:s}#re(t){const e=Ai(Math.round(t.y-this.#Rt),Math.round(t.x-this.#Ot)),s=this.#ee(e),n=Math.round((Math.sqrt(t.d2)-t.r)**2);(void 0===this.#gt[s]||this.#gt[s].d2>t.d2)&&(this.#gt[s]={x:Math.round(t.x),y:Math.round(t.y),ang:e,si:t.si,d2:n,r:t.r,aIndex:s})}#oe(t){const e=Ai(Math.round(t.y-this.#Rt),Math.round(t.x-this.#Ot)),s=this.#ee(e);if(void 0===this.#gt[s]||Math.sqrt(this.#gt[s].d2)>Math.sqrt(t.d2)+10*this.#jt*this.#Bt/2){const n=this.#vt[s];void 0===n?this.#vt[s]={x:Math.round(t.x),y:Math.round(t.y),ang:e,da:Math.abs(this.#Jt(e,this.#zt)),d2:t.d2,sz:t.sz,score:t.sz**2/t.d2}:(n.sz+=Math.round(t.sz),n.score+=t.sz**2/t.d2,n.d2>t.d2&&(n.x=Math.round(t.x),n.y=Math.round(t.y),n.d2=t.d2))}}#ie(){this.#ft=[],this.#gt=[];const t=(50*this.#Vt)**2;for(let e=0,s=this.#Wt.length;e<s;e++){if(this.#Wt[e].id===this.#Tt)continue;const s=this.#Wt[e],n=this.#Yt(s.sc)/2,r=n*Math.min(1,s.sp/5.78-1)*10,o=s.xx+Math.cos(s.ang)*r/2,i=s.yy+Math.sin(s.ang)*r/2,a=Si(this.#Ot,this.#Rt,o,i),l={x:o,y:i,r:this.#It.r,d2:a,si:e,type:0,speed:s.sp};this.#re(l),this.#ft.push(l),Ri(l.x,l.y,l.r,"red");const c=s.pts;for(let s=0,r=c.length;s<r;s++){const r=c[s];if(null==r||r.dying)continue;const o=Si(this.#Ot,this.#Rt,r.xx,r.yy);if(o>t)continue;const i={x:r.xx,y:r.yy,r:n,d2:o,si:e,type:1};this.#re(i),Ri(i.x,i.y,i.r,"#00FF00"),i.d2<=(this.#It.r+i.r)**2&&(this.#ft.push(i),Ri(i.x,i.y,i.r,"red"))}}if(Math.abs(this.#Mt-this.#_t)<1e3){const t=this.#Mt+this.#Pt,e=2*this.#Pt;for(let s=3,n=-3;n<=s;n++){const s=this.#kt+n*e/this.#Mt,r=this.#wt+t*Math.cos(s),o=this.#xt+t*Math.sin(s),i=Si(this.#Ot,this.#Rt,r,o),a={x:r,y:o,r:this.#Pt,d2:i,si:-1,type:2};this.#ft.push(a),this.#re(a),Ri(a.x,a.y,a.r,"yellow")}}this.#ft.sort(this.#ae);for(let t=0,e=this.#gt.length;t<e;t++){const e=this.#gt[t];e&&zi(this.#Ot,this.#Rt,e.x,e.y,"red",1,2)}}#le(t){const e=Ai(Math.round(t.y-this.#Rt),Math.round(t.x-this.#Ot));return Math.abs(this.#Jt(e,this.#zt))<Bi}#ce(){if(this.#ie(),0===this.#ft.length)return!1;for(let t=0;t<this.#ft.length;t++){const e=this.#ft[t],s={x:e.x,y:e.y,r:e.r},n=this.#Gt(this.#It,s);if(void 0!==n&&(Ri(s.x,s.y,s.r,"#ff9900"),Ri(n.x,n.y,5,"#66ff66"),this.#le(n)))return 0===e.type&&this.#Wt[e.si].sp>10?this.onAcceleration(1):this.onAcceleration(this.defaultAccel),this.#ne(n),!0}return this.onAcceleration(this.defaultAccel),!1}#de(){if(!this.#$t)return!1;const t=[];let e=0,s=0,n=0;for(let r=0;r<this.#gt.length;r++){const o=this.#gt[r];if(void 0!==o){const r=o.si;t[r]?t[r]++:t[r]=1,t[r]>e&&(e=t[r],s=r),o.d2<(20*this.#jt)**2&&n++}}return e>.5625*this.#At?(this.#te(),e!==this.#At&&this.#Wt[s].sp>10?this.onAcceleration(1):this.onAcceleration(this.defaultAccel),Ri(this.#Ot,this.#Rt,10*this.#jt,"red",!0,.2),!0):n>.5625*this.#At?(this.#te(),this.onAcceleration(this.defaultAccel),Ri(this.#Ot,this.#Rt,200,"yellow",!0,.2),!0):(this.onAcceleration(this.defaultAccel),Ri(this.#Ot,this.#Rt,200,"yellow"),!1)}#ue(){let t=this.#Ot,e=this.#Rt,s=0;this.#qt=[{x:t,y:e,len:s}];const n=this.#Nt;for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.dying)continue;const i=o.xx,a=o.yy,l=s+Math.sqrt(Si(t,e,i,a));this.#qt.push({x:i,y:a,len:l}),t=i,e=a,s=l}this.#Kt=s}#he(){let t=0,e=0;const s=this.#qt,n=s.length;for(let r=0;r<n;r++)t+=s[r].x,e+=s[r].y;t/=n,e/=n;const r=this.#Ot-t,o=-(this.#Rt-e)*this.#Dt+r*this.#Lt>0;this.#yt=o?-1:1}#pe(t){const e=this.#qt;if(t>=this.#Kt){const t=e[e.length-1];return{x:t.x,y:t.y}}if(t<=0)return{x:e[0].x,y:e[0].y};let s=0,n=e.length-1;for(;n-s>1;){const r=Math.round((s+n)/2);t>e[r].len?s=r:n=r}const r=e[n].len-t,o=t-e[s].len,i=r+o;return{x:(r*e[s].x+o*e[n].x)/i,y:(r*e[s].y+o*e[n].y)/i}}#fe(){const t=this.#qt,e=t.length;let s=0,n=0;for(;;){const r=n;if(s++,n=Si(this.#Ot,this.#Rt,t[s].x,t[s].y),n<r||s===e-1)break}if(s>=e||s<=1)return this.#Kt;let r=s,o=n;for(let s=r+1;s<e;s++){const e=Si(this.#Ot,this.#Rt,t[s].x,t[s].y);e<o&&(r=s,o=e)}let i=r,a=o;if(r===e-1)i=r-1,a=Si(this.#Ot,this.#Rt,t[i].x,t[i].y);else{const e=Si(this.#Ot,this.#Rt,t[r-1].x,t[r-1].y),s=Si(this.#Ot,this.#Rt,t[r+1].x,t[r+1].y);e<s?(i=r-1,a=e):(i=r+1,a=s)}let l=t[r].len-t[i].len;if(l*=l,0===l)return t[r].len;const c=l-(o-a),d=l+(o-a);return(t[r].len*c+t[i].len*d)/(2*l)}#ge(t,e,s,n,r,o){const i=this.#yt,a=[{x:this.#Ot-i*t*this.#Lt,y:this.#Rt+i*t*this.#Dt},{x:this.#Ot+this.#Vt*this.#Dt+t*(this.#Dt-i*this.#Lt),y:this.#Rt+this.#Vt*this.#Lt+t*(this.#Lt+i*this.#Dt)},{x:this.#Ot+1.75*this.#Vt*this.#Dt+.3*i*this.#Vt*this.#Lt+t*(this.#Dt-i*this.#Lt),y:this.#Rt+1.75*this.#Vt*this.#Lt-.3*i*this.#Vt*this.#Dt+t*(this.#Lt+i*this.#Dt)},{x:this.#Ot+2.5*this.#Vt*this.#Dt+.7*i*this.#Vt*this.#Lt+t*(this.#Dt-i*this.#Lt),y:this.#Rt+2.5*this.#Vt*this.#Lt-.7*i*this.#Vt*this.#Dt+t*(this.#Lt+i*this.#Dt)},{x:this.#Ot+3*this.#Vt*this.#Dt+1.2*i*this.#Vt*this.#Lt+t*this.#Dt,y:this.#Rt+3*this.#Vt*this.#Lt-1.2*i*this.#Vt*this.#Dt+t*this.#Lt},{x:e.x+s.x*(t+.5*Math.max(n,0)),y:e.y+s.y*(t+.5*Math.max(n,0))},{x:r.x+s.x*t,y:r.y+s.y*t},r,e,o];return Ii({pts:Ti(a)})}#ve(t){const e=5*this.#Vt,s=t+5*this.#Vt,n=[this.#pe(s),this.#pe(e)];for(let t=e;t<s;t+=this.#Vt)n.push(this.#pe(t));return Ii({pts:n})}#me(){this.#ue(),this.#he();const t=this.#yt;if(this.#Kt<9*this.#Vt)return;const e=this.#fe(),s=this.#pe(e),n=this.#pe(e-this.#Vt),r=Pi({x:n.x-s.x,y:n.y-s.y}),o={x:-t*r.y,y:t*r.x},i=Math.asin(Math.max(-1,Math.min(1,this.#Dt*o.x+this.#Lt*o.y))),a=(this.#Ot-s.x)*o.x+(this.#Rt-s.y)*o.y,l=this.#ve(e);let c=e,d=0;const u=this.#Vt/64;for(let t=a,e=i;t>=.125*this.#Vt;)c-=u,d+=u*Math.cos(e),t+=u*Math.sin(e),e=Math.max(-Math.PI/4,e-u/this.#Vt);const h=this.#pe(c),p=c-3*this.#Vt,f=this.#pe(p),g=.0625*this.#Vt;let v=.25*this.#Vt,m=4096*this.#Vt*this.#Vt;for(let t=0,e=this.#Wt.length;t<e;t++){const e=this.#Wt[t];if(e.id===this.#Tt)continue;const n=this.#Yt(e.sc),r={x:e.xx,y:e.yy},i={x:r.x+Math.cos(e.ang)*this.#Vt,y:r.y+Math.sin(e.ang)*this.#Vt};Ci(r,l)||(m=Math.min(m,Si(r.x,r.y,h.x,h.y),Si(i.x,i.y,h.x,h.y)));let c=!1,d=0,u={pts:[],minx:0,miny:0,maxx:0,maxy:0};const p=.5*(this.#Vt+n),y=e.pts;for(let t=0,e=y.length;t<e;t++){const e=y[t];if(null==e||e.dying)continue;const n={x:e.xx,y:e.yy};for(;!c||v>=-this.#Vt&&Ci(n,u);)c?v-=g:c=!0,d=p+v,u=this.#ge(d,h,o,a,f,s)}}const y=Math.abs(this.#Mt-this.#_t)<1e3;let b=0;if(y){const t=2*this.#Pt,e=this.#Mt+this.#Pt,n=.5*(this.#Vt+this.#Pt);let r=!1,i=0,l={pts:[],minx:0,miny:0,maxx:0,maxy:0};for(let c=2,d=-2;d<=c;d++){const c=this.#kt+d*t/this.#Mt,u={x:this.#wt+e*Math.cos(c),y:this.#xt+e*Math.sin(c)};for(;!r||b>=-this.#Vt&&Ci(u,l);)r?b-=g:r=!0,i=n+b,l=this.#ge(i,h,o,a,f,s)}}const w=Math.sqrt(m);{Di(l.pts,"orange"),Ri(s.x,s.y,.25*this.#Vt,"green"),Ri(h.x,h.y,this.#Vt+2*d,"blue"),Ri(h.x,h.y,.2*this.#Vt,"blue");const t=.5*this.#Vt,e=this.#ge(t,h,o,a,f,s);Di(e.pts,"white")}let x=i+.25,k=-1-(2*d-w)/this.#Vt;k*=k>0?.125*k:-.5*k,x=Math.min(x,k);const _=(v-.0625*this.#Vt)/this.#Vt;x=Math.min(x,x+_);const M=(b-.0625*this.#Vt)/this.#Vt;y&&(x=Math.min(x,x+M));const A=this.#Kt-e,$=Pi({x:0,y:0}),S=$.x*o.x+$.y*o.y,P=this.#Vt*(2-.5*S);x=Math.min(x,(A-P+(this.#Vt-a))/this.#Vt),x=Math.min(x,-.5*(a-4*this.#Vt)/this.#Vt),x=Math.max(x,-.75*a/this.#Vt),x=Math.min(x,1);const C=r.x*Math.cos(x)-t*r.y*Math.sin(x),I=r.y*Math.cos(x)+t*r.x*Math.sin(x),E={x:this.#Ot+4*C*this.#Vt,y:this.#Rt+4*I*this.#Vt};Math.abs(E.x-this.#Ct.x)<1e3&&Math.abs(E.y-this.#Ct.y)<1e3?this.#Ct={x:Math.round(.25*E.x+.75*this.#Ct.x),y:Math.round(.25*E.y+.75*this.#Ct.y)}:this.#Ct={x:Math.round(E.x),y:Math.round(E.y)}}#ye=(t,e)=>void 0===t?1:void 0===e?-1:e.score-t.score;#se=(t,e)=>e.sz-t.sz;#ae=(t,e)=>t.d2-e.d2;#be(){this.#vt=[];for(let t=0;t<this.#Ht.length;t++){const e=this.#Ht[t];if(null==e||e.eaten)continue;const s={x:e.xx,y:e.yy,r:2,d2:Si(this.#Ot,this.#Rt,e.xx,e.yy),sz:e.sz};this.#Gt(s,this.#Et)||this.#Gt(s,this.#Ft)||this.#oe(s)}this.#vt.sort(this.#ye),void 0!==this.#vt[0]&&this.#vt[0].sz>0?this.#mt=this.#vt[0]:this.#mt=void 0}#we(){if(!this.#St)return;const t=this.#Nt,e=this.#jt;for(let s=0,n=0,r=t.length;s<r;s++){const r=t[s];if(null==r||r.dying)continue;if(++n>20)break;const o={x:r.xx,y:r.yy,r:e};if(Ri(o.x,o.y,o.r,"blue"),this.#Gt(this.#It,o))return void(this.#pt="circle")}const s=this.#yt;this.onAcceleration(this.defaultAccel),this.#Ct=this.#Qt(s*Math.PI/32)}#xe(){-1!==this.#Xt&&(this.#Xt>0?this.#Xt--:("grow"===this.#pt?(this.#be(),this.#Ct=this.#mt??{x:this.#wt,y:this.#xt}):"tocircle"===this.#pt&&this.#we(),this.#Xt=-1))}#ke(t){if(null==t)return;this.#Tt=t.id,this.#Ot=t.xx,this.#Rt=t.yy,this.#zt=t.ang,this.#Nt=t.pts,this.#Dt=Math.cos(this.#zt),this.#Lt=Math.sin(this.#zt),this.#Bt=t.sp/5.78,this.#Vt=this.#Yt(t.sc),this.#jt=this.#Vt/2,this.#Ut=ii(t,!1),this.#At=2*Math.PI/Li;const e=10*Math.min(1,this.#Bt-1);this.#It={x:this.#Ot+this.#Dt*e/2*this.#jt,y:this.#Rt+this.#Lt*e/2*this.#jt,r:5*this.#jt},this.#Ft={x:this.#Ot-(this.#Rt+this.#Lt*this.#Vt-this.#Rt),y:this.#Rt+(this.#Ot+this.#Dt*this.#Vt-this.#Ot),r:this.#Vt*this.#Bt},this.#Et={x:this.#Ot+(this.#Rt+this.#Lt*this.#Vt-this.#Rt),y:this.#Rt-(this.#Ot+this.#Dt*this.#Vt-this.#Ot),r:this.#Vt*this.#Bt},Ri(this.#It.x,this.#It.y,this.#It.r,"red")}go(t,e,s,n,r,o,i){this.#Wt=e,this.#Ht=s,this.#wt=n,this.#xt=n,this.#Mt=r,this.#kt=i,this.#_t=o,this.#ke(t),this.#Ut<this.#bt&&(this.#pt="grow"),void 0!==this.#mt&&"grow"!==this.#pt&&(this.#mt=void 0),"circle"===this.#pt?(this.onAcceleration(this.defaultAccel),this.#me()):this.#ce()||this.#de()?-1!==this.#Xt&&(this.#Xt=10):(this.#Ut>this.#bt&&(this.#pt="tocircle"),-1===this.#Xt&&(this.#Xt=2),this.onAcceleration(this.defaultAccel)),this.#xe(),this.onSetCoordinates(this.#Ct.x,this.#Ct.y),zi(this.#Ot,this.#Rt,this.#Ct.x,this.#Ct.y,"green"),Ri(this.#Ct.x,this.#Ct.y,5,"red",!0)}destory(){this.#Xt=0}},ji=window.requestAnimationFrame,Ui=window.cancelAnimationFrame,Wi=window.setTimeout,Hi=window.clearTimeout,qi=new class{#_e="auto";#Me=!1;#Ae=null;#$e=null;#Se=null;limit(t){if("number"==typeof t){if(!Number.isFinite(t))throw new Error("FPS must be a finite number.");if(t<=0||250<t)throw new Error("FPS must be a positive number between 1 and 250.")}else if("auto"!==t)throw new Error("FPS must be 'auto' or a finite number between 1 and 250.");this.#_e!==t&&(this.#_e=t,this.#Me&&(this.#Pe(),this.#Ce()))}setHandler(t){if(this.#Me)throw new Error("FrameTicker is already running.");this.#Ae=t}removeHandler(){return null!==this.#Ae&&(this.#Ae=null,this.#Me&&this.#Pe(),!0)}start(){if(this.#Me)throw new Error("FrameTicker is already running.");this.#Me=!0,this.#Ce()}stop(){if(!this.#Me)throw new Error("FrameTicker is not running.");this.#Me=!1,this.#Pe()}get#Ie(){return"auto"===this.#_e?0:1e3/this.#_e}#Ce(){if("auto"===this.#_e){const t=()=>{this.#Me&&null!==this.#Ae&&(this.#Ae(),this.#$e=ji(t))};return void t()}const t=()=>{if(!this.#Me||null===this.#Ae)return;const e=performance.now();this.#Ae();const s=this.#Ie-(performance.now()-e)|0;this.#Se=Wi(t,s)};t()}#Pe(){null!==this.#$e&&(Ui(this.#$e),this.#$e=null),null!==this.#Se&&(Hi(this.#Se),this.#Se=null)}},Ki={skin_quality:"Skinless",skin_texture:"Glass",background:13,boost_glow:!1,snake_shadow:!1,dying_animation:!1,nick_colored:!1,food_glow_effect:!1,small_food:!0,shake_food:!1,custom_food:!0,custom_food_default_color:!1,custom_food_shape:"Square",custom_food_filled:!1},Xi={skin_quality:"Normal",skin_texture:"Default",background:0,boost_glow:!1,snake_shadow:!1,dying_animation:!1,nick_colored:!0,food_glow_effect:!1,small_food:!1,shake_food:!1,food_shadow:!1,legacy_food:!1,custom_food:!1},Yi={skin_quality:"High",skin_texture:"Default",background:2,boost_glow:!0,snake_shadow:!0,dying_animation:!0,nick_colored:!0,food_glow_effect:!0,small_food:!1,shake_food:!0,food_shadow:!0,legacy_food:!1,custom_food:!1},Gi={instant_gameover:"Instant Game Over",snakey_rotate:"Use Snakey Rotate",fps_limiter:"FPS Limiter",skin_quality:"Skin Quality",skin_texture:"Skin Texture",brightness:"Screen Brightness",background:"Change Background",boost_glow:"Boost Glow",snake_shadow:"Snake Shadow",dying_animation:"Dying Animation",show_score:"Show Score",show_nick:"Show Nickname",nick_colored:"Colored Nickname",nick_size:"Nickname Size",invisible_my_snake:"Invisible My Snake",food_glow_effect:"Food Glow Effect",small_food:"Small Food",shake_food:"Shake Food",food_shadow:"Food Shadow",legacy_food:"Old Food Texture",custom_food:"Custom Food",custom_food_default_color:"Use Default Color",custom_food_color:"Custom Food Color",custom_food_shape:"Custom Food Shape",custom_food_size:"Custom Food Size",custom_food_filled:"Custom Food Filled",border_color:"Border Color",border_outside_color:"Border Outside Color",zoom_smooth:"Zoom Smooth",zoom_sensitivity:"Zoom Sensitivity",save_last_pos:"Save Last Position",map_dot:"Select Map Dot",visualize:"Visualizer",follow_circle_length:"Follow Circle Length",peek_true_skin:"Show True Skin",peek_big_food:"Show Big Food",peek_own_skin:"Show Own Skin",peek_own_nick:"Show Own Nickname",peek_key_owner:"Show Key Owner",asst_lazer_color:"Lazer Color",asst_go_skinless:"Go Skinless",asst_show_spine:"Show Spine",asst_lazer_on_top:"Lazer on Top",asst_hide_food:"Hide Food",asst_hide_tag_cosme:"Hide Tags & Cosmetics"},Ji=["instant_gameover","snakey_rotate","fps_limiter","skin_quality","skin_texture","brightness","background","boost_glow","snake_shadow","dying_animation","show_score","show_nick","nick_colored","nick_size","invisible_my_snake","food_glow_effect","small_food","shake_food","food_shadow","legacy_food","custom_food","custom_food_default_color","custom_food_color","custom_food_shape","custom_food_size","custom_food_filled","border_color","border_outside_color","zoom_smooth","zoom_sensitivity","save_last_pos","map_dot","visualize","follow_circle_length","peek_true_skin","peek_big_food","peek_own_skin","peek_own_nick","peek_key_owner","asst_lazer_color","asst_go_skinless","asst_show_spine","asst_lazer_on_top","asst_hide_food","asst_hide_tag_cosme"],Zi=Y(function(t,e){const s={};for(const n of e)s[n]=t[n];return s}(t,Ji)),Qi=async()=>{[Zi.instant_gameover,Zi.snakey_rotate,Zi.fps_limiter,Zi.skin_quality,Zi.skin_texture,Zi.brightness,Zi.background,Zi.boost_glow,Zi.snake_shadow,Zi.dying_animation,Zi.show_score,Zi.show_nick,Zi.nick_colored,Zi.nick_size,Zi.invisible_my_snake,Zi.food_glow_effect,Zi.small_food,Zi.shake_food,Zi.food_shadow,Zi.legacy_food,Zi.custom_food,Zi.custom_food_default_color,Zi.custom_food_color,Zi.custom_food_shape,Zi.custom_food_size,Zi.custom_food_filled,Zi.border_color,Zi.border_outside_color,Zi.zoom_smooth,Zi.zoom_sensitivity,Zi.save_last_pos,Zi.map_dot,Zi.visualize,Zi.follow_circle_length,Zi.peek_true_skin,Zi.peek_big_food,Zi.peek_own_skin,Zi.peek_own_nick,Zi.peek_key_owner,Zi.asst_lazer_color,Zi.asst_go_skinless,Zi.asst_show_spine,Zi.asst_lazer_on_top,Zi.asst_hide_food]=await On.get(Ji)},ta=Qi();ta.then((()=>{Ct((()=>{for(const t of Ji)St((()=>{On.set(t,Zi[t])}))}))}));var ea=async t=>{await On.setAll(t),ta=Qi(),await Promise.all([ta,Qo.sync(),ti.sync()])},sa=async e=>{if(!(e&&e instanceof File))throw new Error("Invalid file");if(!e.name.endsWith(".json"))throw new Error("Invalid file type! Please select a .json file.");try{const s=await e.text(),n=JSON.parse(s);if("object"!=typeof n||null===n)throw new Error("Invalid JSON data");const r=Object.keys(t),o=Object.keys(n).filter((t=>!r.includes(t)));if(o.length>0)throw new Error(`Invalid keys found in the file: ${o.join(", ")}`);const i=r.filter((t=>!(t in n)));if(i.length>0)throw new Error(`Missing keys in the file: ${i.join(", ")}`);const a=confirm("Do you also want to import tags, cosmetics, and login credentials?\n\nPress OK to merge with existing credentials.\nPress Cancel to keep your current credentials."),l=await On.getAll();if(a){const t=Array.isArray(n.credentials)?n.credentials:[],e=Array.isArray(l.credentials)?l.credentials:[],s=new Map;for(const t of e){const e=`${t.id}-${t.password}-${t.type}`;s.set(e,t)}for(const e of t){const t=`${e.id}-${e.password}-${e.type}`;s.has(t)||s.set(t,e)}n.credentials=Array.from(s.values())}else n.credentials=l.credentials??[];await ea(n),alert("Preferences imported successfully!")}catch(t){if(t instanceof Error)throw new Error(`Import failed: ${t.message}`);throw new Error("Import failed: Unknown error occurred.")}},na=async()=>{const t=confirm("Do you also want to export your tag, cosmetics and login credentials?\n\nPress OK to include them.\nPress Cancel to exclude them."),e=await On.getAll();Array.isArray(e.credentials)&&(e.credentials=t?e.credentials.map((t=>({...t,isActive:!1}))):[]);const s=JSON.stringify(e),n=new Blob([s],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a"),i=new Date,a=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),c=i.getDate().toString().padStart(2,"0");o.href=r,o.download=`stellar-settings-${a}-${l}-${c}.json`,document.body.appendChild(o),o.click(),requestIdleCallback((()=>{URL.revokeObjectURL(r),o.remove()}))},ra=t=>{let e;switch(t){case"Low":e=Ki;break;case"Medium":e=Xi;break;case"High":e=Yi;break;default:return}for(const[t,s]of Object.entries(e))t in Zi&&(Zi[t]=s)},oa=!1,ia=!1,aa=2,la=t=>.95-t/100,ca=t.zoom_smooth,da=la(t.zoom_sensitivity);ta.then((()=>{Ct((()=>{St((()=>{const t=Zi.fps_limiter;qi.limit("auto"===t?"auto":Number(t))})),St((()=>{aa="Skinless"===Zi.skin_quality?1:2,oa="High"===Zi.skin_quality,ia="Rough"===Zi.skin_quality})),St((()=>{ca=Zi.zoom_smooth})),St((()=>{da=la(Zi.zoom_sensitivity)})),St((()=>{var t;t=Zi.visualize,Ni=t})),St((()=>{Vi.followCircleLength=Zi.follow_circle_length}))}))}));var ua=(t,e)=>new Promise(((s,n)=>{const r=new FileReader;e.includes(t.type)?(r.onload=()=>{const t=r.result;"string"==typeof t?s(t):n(new Error("Unexpected result type: expected string"))},r.onerror=()=>{n(new Error("Error reading file as Data URL"))},r.readAsDataURL(t)):n(new Error(`Unsupported file type: ${t.type}. Allowed types are: ${e.join(", ")}`))})),ha=new class{#Ee=dt([{name:"Waves",img:Rn("/assets/waves.webp"),width:500,height:500},{name:"Stars",img:Rn("/assets/stars.webp"),width:500,height:500},{name:"Rocks",img:Rn("/assets/rocks.webp"),width:1024,height:1024},{name:"Grids",img:Rn("/assets/grids.webp"),width:250,height:250},{name:"Bubbles",img:Rn("/assets/bubbles.webp"),width:881,height:881},{name:"Ninja Stars",img:Rn("/assets/ninja_stars.webp"),width:279,height:500},{name:"Flowers In Dark",img:Rn("/assets/flowers.webp"),width:409,height:421},{name:"Coldy Tiles for Summers",img:Rn("/assets/coldy_tiles.webp"),width:1e3,height:1e3},{name:"Warm Tiles for Winters",img:Rn("/assets/warm_tiles.webp"),width:1e3,height:1e3},{name:"Dark Tiles For Night",img:Rn("/assets/matrix.webp"),width:881,height:881},{name:"Black X",img:Rn("/assets/x.webp"),width:420,height:420},{name:"Default",img:Rn("/assets/default.webp"),width:599,height:519},{name:"Cubes",img:Rn("/assets/cubes.webp"),width:178,height:218},{name:"Black",img:Rn("/assets/b.webp")}]);get images(){return ze(this.#Ee)}set images(t){pt(this.#Ee,t)}#Fe=dt(Y(Zi.background));get value(){return ze(this.#Fe)}set value(t){pt(this.#Fe,t,!0)}#Te=dt(null);get customImage(){return ze(this.#Te)}set customImage(t){pt(this.#Te,t,!0)}#Ne=Z((()=>-1===this.value&&null!==this.customImage?this.customImage:this.images[this.value]));get image(){return ze(this.#Ne)}set image(t){pt(this.#Ne,t)}#Vt=Z((()=>this.image?.width??1024));get width(){return ze(this.#Vt)}set width(t){pt(this.#Vt,t)}#Oe=Z((()=>this.image?.height??1024));get height(){return ze(this.#Oe)}set height(t){pt(this.#Oe,t)}mainBg=null;#Re;#ze;#De;#Le=t=>"Black"===t.name;constructor(){if(this.#Re=new Image,this.#ze=new OffscreenCanvas(1,1),this.#De=this.#ze.getContext("2d"),null==this.#De)throw new Error("Failed to get OffscreenCanvasRenderingContext2D");this.#dt()}async#dt(){this.customImage=await On.get("custom_bg"),Ct((()=>{St((()=>{this.value=Zi.background,this.#Be()}))}))}push(t){this.images=[...this.images,t]}get length(){return this.images.length}async#Be(){await Re();const t=this.image,e=this.#Re,s=this.#ze,n=this.#De;this.#Le(t)?(s.width=window.innerWidth,s.height=window.innerHeight,n.fillStyle="black",n.fillRect(0,0,s.width,s.height),this.mainBg=n.createPattern(s,"repeat")):(s.width=t.width,s.height=t.height,e.src=t.img,await e.decode(),n.drawImage(e,0,0),this.mainBg=n.createPattern(s,"repeat"))}async uploadImage(t){if(!(t instanceof File))throw new Error("Invalid file type");const e=await ua(t,["image/png","image/jpeg","image/webp"]),s=new Image;s.src=e,await s.decode();let n=t.name;n=n.replace(/\.[^/.]+$/,""),n.length>20&&(n=`${n.slice(0,20)}...`);const r={name:n,img:e,width:s.width,height:s.height};this.customImage=r,await On.set("custom_bg",r),Zi.background=-1}async removeCustomImage(){this.customImage=null,await On.set("custom_bg",null),Zi.background=0}},pa="cosmetic",fa=()=>{const t=localStorage.getItem(pa);return t?Number.parseInt(t):255},ga=()=>{const t=localStorage.getItem("snakercv");return t?Number.parseInt(t):null},va=66,ma=new class{#Ve=dt(va);get total(){return ze(this.#Ve)}set total(t){pt(this.#Ve,t,!0)}#je=dt(Y(t.snakercv));get rcv(){return ze(this.#je)}set rcv(t){pt(this.#je,t,!0)}#Ue=dt(Y([]));get bskbtns(){return ze(this.#Ue)}set bskbtns(t){pt(this.#Ue,t,!0)}#We=dt(Y([]));get cosbtns(){return ze(this.#We)}set cosbtns(t){pt(this.#We,t,!0)}#He=dt(Y([]));get tagbtns(){return ze(this.#He)}set tagbtns(t){pt(this.#He,t,!0)}constructor(){this.#dt()}async#dt(){let t=await On.get("snakercv");if(-1===t){const e=ga();t=null==e||!Number.isFinite(e)||e<0?Math.floor(9*Math.random()):e%va}this.rcv=t,Ct((()=>{St((()=>{On.set("snakercv",this.rcv)}))}))}#qe=Tn;set onremove(t){this.#qe=t}remove(){this.#qe()}#Ke=Tn;set oninputskin(t){this.#Ke=t}inputSkin(){this.#Ke()}#Xe=Tn;set onclickcolor(t){this.#Xe=t}clickColor(t){this.#Xe(t)}#Ye=Tn;set onclickcosmetic(t){this.#Ye=t}clickCosmetic(t){this.#Ye(t)}},ya=new class{#Ge=dt(!1);get opened(){return ze(this.#Ge)}set opened(t){pt(this.#Ge,t,!0)}#Je;#Ze;open(){this.opened=!0,this.#Ze?.()}close(){this.opened=!1,this.#Je?.()}set onclose(t){this.#Je=t}set onopen(t){this.#Ze=t}},ba=new class{#Qe=dt([]);get players(){return ze(this.#Qe)}set players(t){pt(this.#Qe,t)}#O=dt(0);get alpha(){return ze(this.#O)}set alpha(t){pt(this.#O,t,!0)}},wa=ls('<button class="cursor-pointer opacity-80 hover:opacity-100 active:opacity-60" aria-label="btn"><canvas class="pointer-events-none" draggable="false"></canvas></button>'),xa=ls('<div class="flex flex-row items-center justify-center gap-x-1.5"></div>'),ka=ls('<div class="fixed top-1/2 left-1/2 z-20 -translate-x-1/2 translate-y-[var(--y)]"><div class="flex flex-col-reverse items-center justify-center gap-y-3"></div></div>');function _a(t,e){W(e,!0),St((()=>{for(let t=0,e=ma.bskbtns.length;t<e;t++){const e=ma.bskbtns[t];for(let t=0,s=e.length;t<s;t++){const s=e[t];if(s.ii){const t=s.ii.getContext("2d");t&&(t.clearRect(0,0,s.ww,s.hh),t.drawImage(s.cc,0,0))}}}}));var s=ka();let n;xs(wt(s),21,(()=>ma.bskbtns),bs,((t,e)=>{var s=xa();xs(s,21,(()=>ze(e)),bs,((t,e,s)=>{var n=wa();n.__click=function(...t){ze(e).fn?.apply(this,t)};var r=wt(n);dn(r,((t,e)=>e.ii=t),(t=>t?.ii),(()=>[ze(e)])),Nt((()=>{Hs(r,"width",ze(e).ww),Hs(r,"height",ze(e).hh)})),hs(t,n)})),hs(t,s)})),Nt((()=>n=Ls(s,"",n,{"--y":"-320px",opacity:Fn.bdska,"pointer-events":1===Fn.bdska?"auto":"none",display:0===Fn.bdska?"none":"block"}))),hs(t,s),H()}rs(["click"]);var Ma=Rn("/assets/gg_bg.png"),Aa=ls('<div id="graphix-disabled" class="z-1000 fixed inset-0 flex h-full w-full items-center justify-center bg-[#18181b]"><img alt="" draggable="false" class="w-128 pointer-events-none absolute left-1/2 top-1/2 m-auto h-auto -translate-x-1/2 -translate-y-1/2"> <div class="flex flex-col items-center justify-center gap-3 text-white"><h1 class="text-6xl font-bold leading-normal"><span class="text-cyan-400">[</span>Graphics Disabled<span class="text-cyan-400">]</span></h1> <h2 class="text-5xl font-bold leading-snug">Toggle with GG</h2> <h3 class="text-4xl font-bold leading-tight">Performance : <span class="text-cyan-400"> </span></h3> <h3 class="text-4xl font-bold leading-tight">Score : <span id="graphic_disable_score" class="text-cyan-400"> </span></h3></div></div>');function $a(t,e){W(e,!1),un();var s=us(),n=xt(s),r=t=>{var e=Aa(),s=wt(e);Hs(s,"src",Ma);var n=kt(s,2),r=kt(wt(n),4),o=kt(wt(r)),i=wt(o),a=kt(r,2),l=kt(wt(a)),c=wt(l);Nt((()=>{gs(i,`${In.fps??""} FPS @ ${In.ping??""}ms`),gs(c,In.currentScore)})),hs(t,e)};ys(n,(t=>{In.animating||t(r)})),hs(t,s),H()}var Sa="/assets/home_btn.webp",Pa="/assets/home_btn_hover.webp",Ca=class extends Map{#ts=new Map;#es=ct(0);#ss=ct(0);constructor(t){if(super(),t){for(var[e,s]of t)super.set(e,s);this.#ss.v=super.size}}has(t){var e=this.#ts,s=e.get(t);if(void 0===s){if(void 0===super.get(t))return ze(this.#es),!1;s=ct(0),e.set(t,s)}return ze(s),!0}forEach(t,e){this.#ns(),super.forEach(t,e)}get(t){var e=this.#ts,s=e.get(t);if(void 0===s){if(void 0===super.get(t))return void ze(this.#es);s=ct(0),e.set(t,s)}return ze(s),super.get(t)}set(t,e){var s=this.#ts,n=s.get(t),r=super.get(t),o=super.set(t,e),i=this.#es;if(void 0===n)s.set(t,ct(0)),pt(this.#ss,super.size),er(i);else if(r!==e){er(n);var a=null===i.reactions?null:new Set(i.reactions);(null===a||!n.reactions?.every((t=>a.has(t))))&&er(i)}return o}delete(t){var e=this.#ts,s=e.get(t),n=super.delete(t);return void 0!==s&&(e.delete(t),pt(this.#ss,super.size),pt(s,-1),er(this.#es)),n}clear(){if(0!==super.size){super.clear();var t=this.#ts;for(var e of(pt(this.#ss,0),t.values()))pt(e,-1);er(this.#es),t.clear()}}#ns(){ze(this.#es);var t=this.#ts;if(this.#ss.v!==t.size)for(var e of super.keys())t.has(e)||t.set(e,ct(0));for(var[,s]of this.#ts)ze(s)}keys(){return ze(this.#es),super.keys()}values(){return this.#ns(),super.values()}entries(){return this.#ns(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return ze(this.#ss),super.size}},Ia=new class{#rs=dt([]);get official(){return ze(this.#rs)}set official(t){pt(this.#rs,t)}#os=dt([]);get custom(){return ze(this.#os)}set custom(t){pt(this.#os,t)}map=new Ca;setServerList(t,e){this.official=t,this.custom=e;const s=this.map;s.clear();for(const e of t){const t=`${e.ip}:${e.po}`;s.set(t,e)}for(const t of e){const e=`${t.ip}:${t.po}`;s.set(e,t)}this.map=s}recalcOrder(t){const e=t.sos,s=Math.min(...t.ptms),n=e.filter((t=>t.active&&!t.ip.includes(":"))),r=this.official;for(const t of n){const e=r.find((e=>e.sid===t.sid));e&&(e.ping=s)}this.official=r}},Ea=[],Fa=[];function Ta(t){if(t.length<=0)return;Ea.length=0,Fa.length=0;let e=1,s=0,n=0,r=0,o=0,i=[],a=[],l=[],c=[],d=[],u=[],h=!1;for(;e<t.length;){let p=(t.charCodeAt(e++)-97-o)%26;if(p<0&&(p+=26),r*=16,r+=p,o+=7,1===n){if(0===s)h=r<=26,s++;else if(1===s)i.push(r),4===i.length&&s++;else if(2===s)a.push(r),16===a.length&&s++;else if(3===s)l.push(r),2===l.length&&s++;else if(4===s)c.push(r),2===c.length&&s++;else if(5===s)d.push(r),1===d.length&&s++;else if(6===s&&(u.push(r),2===u.length)){let t=0;for(let e=0;e<l.length;e++)t*=256,t+=l[e];let e=0;for(let t=0;t<c.length;t++)e*=256,e+=c[t];let n=0;for(let t=0;t<u.length;t++)n*=256,n+=u[t];for(let s=1;s<=2;s++){let r="";if(1===s)r=i.join(".");else{if(16!==a.length)break;{const t=[];let e=!1;for(let s=0;s<a.length;s+=2){const n=256*a[s]+a[s+1];0!==n&&(e=!0),t.push(n.toString(16))}if(!e)break;r=`[${t.join(":")}]`}}const o=e+5;let l=0;l=1===s?d[0]:d[0]+1e3;let c=Ea[l];c||(c={sis:[],ptms:[],swg:0,tac:0,sos:[],ps:null,stm:0},Ea[l]=c),h&&(c.swg+=o);const u={ip:r,po:t,ac:e,sid:n,wg:o,active:h,clu:l,cluo:c};c.sos.push(u),c.tac+=e,Fa.push(u)}i=[],a=[],l=[],c=[],d=[],u=[],s=0}r=0,n=0}else n++}for(e=Fa.length-1;e>=0;e--){n=1;const t=Fa[e].cluo;if(t){for(let s=t.sis.length-1;s>=0;s--)if(t.sis[s].ip===Fa[e].ip){n=0;break}1===n&&t.sis.push({ip:Fa[e].ip})}}for(e=Ea.length-1;e>=0;e--){const t=Ea[e];if(t&&t.sis.length>0){const e=Math.floor(Math.random()*t.sis.length),s=t.sis[e].ip;if(s.includes(":"))continue;let n;try{n=new WebSocket(`ws://${s}:80/ptc`)}catch(t){continue}n.binaryType="arraybuffer",n.onerror=()=>{n.close()},n.onmessage=t=>{const e=new Uint8Array(t.data);if(1===e.length&&112===e[0])for(let t=Ea.length-1;t>=0;t--){const e=Ea[t];if(e&&e.ps===n){const t=Math.round(performance.now()-e.stm);if(e.ptms.push(t),e.ptms.length<3){e.stm=performance.now();const t=new Uint8Array(1);t[0]=112,n.send(t)}else n.close(),e.ps=null,Ia.recalcOrder(e);break}}},n.onopen=()=>{let t=!1;for(let e=Ea.length-1;e>=0;e--){const s=Ea[e];if(s&&s.ps===n){s.stm=performance.now();const e=new Uint8Array(1);e[0]=112,n.send(e),t=!0;break}}t||n.close()},n.onclose=()=>{},t.ps=n}}}var Na={germany:["57.129.37.44","162.19.235.91","57.129.37.42"],singapore:["15.235.216.150","15.235.216.115","15.235.218.24"],brazil:["45.158.39.114","45.158.39.122","45.158.39.98"],usa:["15.204.53.184","23.227.195.74","23.29.125.178","192.211.52.146","66.165.238.34","15.204.213.229","15.204.212.200"],india:["148.113.20.151","148.113.17.85","148.113.17.83"],canada:["148.113.153.83","15.235.12.98","15.235.51.104"],aus:["51.161.208.162","51.161.209.120"],spain:["107.155.103.54"],uk:["198.244.228.230","198.244.231.35"],uae:["45.66.247.6","86.106.26.36","217.138.162.194"],france:["135.125.74.230","135.125.74.229","135.125.74.228","92.222.100.203","92.222.100.202","57.128.20.155"],poland:["57.128.202.111","57.128.202.110","57.128.202.109"],japan:["144.168.36.194","144.168.36.26","144.168.36.114","181.41.140.146","181.41.140.170"],nigeria:["94.72.180.82"],finland:["95.216.39.141","95.216.39.140","95.216.38.155"],italy:["144.168.46.18"],hongkong:["43.249.37.135","43.249.37.55"],sa:["102.218.213.17"],sk:["192.211.55.122"],bulgaria:["213.183.62.226","185.199.38.104"]},Oa=[{ip:"206.206.76.190",po:444,country:"singapore",description:"SG Battledome"},{ip:"172.93.101.248",po:446,country:"usa",description:"Drawing server"},{ip:"172.93.101.248",po:444,country:"usa",description:"Legacy map"},{ip:"172.93.101.248",po:443,country:"usa",description:"3000 Bots"},{ip:"206.221.176.180",po:444,country:"usa",description:"3000 Bots"},{ip:"206.221.176.180",po:443,country:"usa",description:"Empty Map"},{ip:"206.221.176.241",po:443,country:"usa",description:"Battle royale"},{ip:"206.221.176.241",po:444,country:"usa",description:"Super Battledome"},{ip:"206.221.176.241",po:480,country:"usa",description:"Super Battledome Event"},{ip:"206.221.176.211",po:444,country:"usa",description:"Paper slither"}].map(((t,e)=>({...t,official:!1,key:e+99999}))),Ra=t=>{const e=t.flatMap((t=>t?.sos||[])).filter((t=>t.active&&!t.ip.includes(":"))).map(((t,e)=>({key:e,official:!0,ip:t.ip,po:t.po,country:za(t.ip),sid:t.sid,ping:Number.POSITIVE_INFINITY})));return e},za=t=>{for(const[e,s]of Object.entries(Na))if(s.some((e=>t.startsWith(e))))return e;return"unknown"},Da=(t,e,s)=>e(`${s().ip}:${s().po}`),La=ls("<span> </span>"),Ba=ls('<button type="button" class="z-10 order-[var(--order)] flex w-full cursor-pointer items-start justify-start bg-transparent px-1 py-2.5 text-white transition duration-150 ease-out hover:bg-slate-200/30 active:bg-slate-400/30"><div class="mt-1.5 mr-3.5 flex size-12 flex-col items-center justify-between"><img alt="flag" class="h-auto w-10" width="40"> <!></div> <div class="flex flex-col items-start justify-center"><span class="text-base"> </span> <span class="text-xs font-bold"> </span></div></button>'),Va=ls('<span class="px-1 py-2.5 text-white">Fetching Servers...</span>'),ja=ls('<!> <div class="order-[var(--order)] w-full bg-red-500 text-center text-lg text-white">Custom Servers</div> <!>',1),Ua=ls('<div id="server-select-dropdown" class="absolute top-full left-0 flex w-full flex-col items-center overflow-y-auto rounded-b bg-slate-700/10 shadow-lg shadow-black backdrop-blur-sm transition duration-300"><!></div>'),Wa=ls('<div id="server-select-parent" class="relative mt-2.5 block"><input id="select-server-input" class="h-8 w-full border border-white/35 text-center text-sm text-white outline-none select-text svelte-j6u763" type="text" placeholder="Enter server IP:PORT" autocomplete="off" spellcheck="false"> <!></div>');function Ha(t,e){W(e,!0);const s=(t,e=h)=>{var s=Ba();const i=Z((()=>e().official?Math.min(e().ping,n):r));let a;s.__click=[Da,c,e];var l=wt(s),d=wt(l),u=kt(d,2),p=t=>{var s=La(),n=wt(s);Nt((t=>{zs(s,1,`text-xs font-bold ${t??""}`),gs(n,`${(e().ping===1/0?"-":e().ping)??""} ms`)}),[()=>o(e().ping)]),hs(t,s)};ys(u,(t=>{e().official&&t(p)}));var f=wt(kt(l,2)),g=wt(f),v=wt(kt(f,2));Nt((()=>{a=Ls(s,"",a,{"--order":ze(i)}),Hs(d,"src",Dn[e().country]),gs(g,`${e().ip??""}:${e().po??""}`),gs(v,`(${(e().official?e().sid:e().description)??""})`)})),hs(t,s)},n=999,r=99992,o=t=>t<100?"text-green-400":t<200?"text-yellow-400":"text-red-400";St((()=>{if(null==i)return;const t=(Xr.current??0)-i.getBoundingClientRect().bottom;let e=300;t<350&&(e=t-50),pt(l,`${Math.max(e,50)}px`)}));let i,a=dt(!1),l=dt("0px");function c(t){Go(t),pt(a,!1)}var d=Wa(),u=wt(d);dn(u,(t=>i=t),(()=>i));var p=kt(u,2),f=t=>{var e=Ua();let n;var r=wt(e),o=t=>{hs(t,Va())},i=t=>{var e=ja(),n=xt(e);xs(n,17,(()=>Ia.official),(t=>t.key),((t,e)=>{s(t,(()=>ze(e)))}));var r=kt(n,2);Ls(r,"",{},{"--order":99991}),xs(kt(r,2),17,(()=>Ia.custom),(t=>t.key),((t,e)=>{s(t,(()=>ze(e)))})),hs(t,e)};ys(r,(t=>{0===Ia.official.length?t(o):t(i,!1)})),Nt((()=>n=Ls(e,"",n,{"max-height":ze(l)}))),nn(3,e,(()=>Hr),(()=>({duration:350,easing:Dr}))),hs(t,e)};ys(p,(t=>{ze(a)&&t(f)})),ns("mouseenter",d,(()=>{pt(a,!0)})),ns("mouseleave",d,(()=>{pt(a,!1)})),on(u,(()=>In.serverAddress),(t=>{Go(t)})),hs(t,d),H()}function qa(t){return t.replace(/[^\x20-\x7E]/g," ")}rs(["click"]);var Ka=dt(!0),Xa=t=>{pt(Ka,t,!0)},Ya=ls('<button class="group relative z-9 h-[40px] w-[250px] cursor-pointer transition duration-300 ease-in-out hover:translate-x-0.5 hover:-translate-y-1 svelte-qbwz8a"><img draggable="false" class="absolute top-0 left-0 h-[40px] w-full opacity-100 transition duration-300 ease-in-out group-hover:opacity-0" alt=""> <img draggable="false" class="absolute top-0 left-0 h-[40px] w-full opacity-0 transition duration-300 ease-in-out group-hover:opacity-100" alt=""> <div class="relative z-10 mb-1 text-center text-sm text-white"> </div></button>'),Ga=ls('Your Final Length Was <span class="text-[15px] text-white"> </span>',1),Ja=ls('<div id="homepage" class="fixed inset-0 size-full bg-cover bg-center bg-no-repeat"><img id="bar" draggable="false" alt="" class="fixed top-1/2 left-1/2 h-[250px] w-full -translate-x-1/2 -translate-y-1/2"> <img id="slither-logo" draggable="false" alt="" class="fixed top-1/4 left-1/2 w-[300px] -translate-x-1/2 -translate-y-1/2"> <img id="stellar-logo" draggable="false" alt="" class="fixed top-1/2 left-1/2 h-[300px] w-auto -translate-x-1/2 -translate-y-1/2"> <img id="stellar-white-logo" draggable="false" alt="" class="fixed top-5 left-5 h-auto w-[150px]"> <div id="homepage-content" class="fixed top-1/2 left-1/2 flex h-[250px] w-full -translate-x-1/2 -translate-y-1/2 items-center justify-center gap-x-80"><div id="button-group" class="w-[300px] pl-[56px]"><!> <!> <!></div> <div id="nick-group" class="grid w-[300px] grid-cols-[250px_auto] grid-rows-[1.5rem_auto] flex-col items-center justify-center gap-x-2.5 gap-y-2"><span id="final-length-title" class="col-start-1 inline-block h-6 text-center text-sm text-white/60 select-text"><!></span> <div class="col-start-1 row-start-2 flex h-full w-full grow flex-col justify-between py-[4px]"><input id="nick" class="flex h-[40px] w-full items-center justify-center border border-white/35 text-center text-sm text-black outline-none select-text placeholder:text-sm placeholder:font-light placeholder:text-gray-950/50 svelte-qbwz8a" type="text" placeholder="Enter your nickname" autocomplete="off" spellcheck="false" maxlength="24"> <!></div> <button id="play-button" class="col-start-2 row-start-2 h-[100px] shrink-0 cursor-pointer svelte-qbwz8a" aria-label="Play Button"><img id="play-btn-img" class="size-full" draggable="false" alt="" width="59" height="121"></button></div></div></div>');function Za(t,e){W(e,!0);const s=(t,e=h,s=h)=>{var n=Ya(),r=wt(n);Hs(r,"src",l);var o=kt(r,2);Hs(o,"src",c);var i=wt(kt(o,2));Nt((()=>{Hs(n,"id",e()),gs(i,s())})),hs(t,n)},n=Rn("/assets/homepage_bg.webp"),r=Rn("/assets/homepage_bar.webp"),o=Rn("/assets/slither_logo.webp"),i=Rn("/assets/stellar_logo.webp"),a=Rn("/assets/stellar_white_logo.webp"),l=Rn(Sa),c=Rn(Pa),d=Rn("/assets/play_btn.png"),u=Rn("/assets/play_btn_hover.png");let p=dt(Y(d));var f=Ja();let g;var v=wt(f);Hs(v,"src",r);var m=kt(v,2);Hs(m,"src",o);var y=kt(m,2);Hs(y,"src",i);var b=kt(y,2);Hs(b,"src",a);var w=wt(kt(b,2)),x=wt(w);s(x,(()=>"settings-button"),(()=>"Settings"));var k=kt(x,2);s(k,(()=>"change-skin-button"),(()=>"Change Skin & Tags")),s(kt(k,2),(()=>"leaderboards-button"),(()=>"Live Leaderboards"));var _=wt(kt(w,2)),M=wt(_),A=t=>{var e=Ga(),s=wt(kt(xt(e)));Nt((()=>gs(s,`${In.finalScore??""} !`))),hs(t,e)};ys(M,(t=>{0!==In.finalScore&&t(A)}));var $=kt(_,2),S=wt($);Ha(kt(S,2),{});var P=kt($,2),C=wt(P);Nt((()=>{g=Ls(f,"",g,{"background-image":`url('${n}')`,display:ze(Ka)?"block":"none"}),Hs(C,"src",ze(p))})),on(S,(()=>Qo.nickname),(t=>{const e=qa(t).slice(0,24);Qo.nickname=e})),ns("mouseenter",P,(()=>{pt(p,u,!0)})),ns("mouseleave",P,(()=>{pt(p,d,!0)})),hs(t,f),H()}var Qa=ls('<div><div class="w-9 shrink-0 overflow-hidden text-right"> </div> <div class="w-auto grow overflow-hidden pl-1 text-left whitespace-pre"> </div> <div class="w-15 shrink-0 overflow-hidden text-center"> </div></div>'),tl=ls('<div class="fixed top-1 right-1 z-10 w-fit transform-gpu"><div class="h-7 w-full pl-3 text-center text-xl font-bold whitespace-pre text-white opacity-80"></div> <div class="flex w-84 max-w-84 flex-col text-xs"></div></div>');function el(t,e){W(e,!1),un();var s=tl();let n;var r=wt(s);r.textContent="Leaderboard",xs(kt(r,2),5,(()=>ba.players),bs,((t,e)=>{var s=Qa();let n,r;var o=wt(s),i=wt(o),a=kt(o,2),l=wt(a),c=wt(kt(a,2));Nt((t=>{n=zs(s,1,"flex h-4.5 w-full items-center",null,n,t),r=Ls(s,"",r,{color:ze(e).color,"font-weight":ze(e).me?"bold":null}),gs(i,`#${ze(e).place}`),gs(l,ze(e).nk),gs(c,ze(e).score)}),[()=>({"leaderboard-me":ze(e).me})],Q),hs(t,s)})),Nt((()=>n=Ls(s,"",n,{opacity:ba.alpha,display:0===ba.alpha?"none":"block"}))),hs(t,s),H()}var sl=dt(!0),nl=t=>{pt(sl,t,!0)},rl=ls('<div class="z-99999 fixed left-0 top-0 flex size-full items-center justify-center bg-black/30 backdrop-blur-sm svelte-1mvr0a0"><div id="loader-div" class="inline-block size-12 rounded-full border-r-[3px] border-t-[3px] border-r-transparent border-t-white svelte-1mvr0a0"></div></div> <div class="z-99999 absolute left-0 top-0 flex h-20 w-full items-center justify-between bg-neutral-900/20 px-4 backdrop-blur-md svelte-1mvr0a0"><div class="text-lg text-white svelte-1mvr0a0">Press "<code class="svelte-1mvr0a0">ESC</code>" in case of Inifinite loading...</div> <!></div>',1);function ol(t){const e=()=>{pt(sl,!1)};var s=us(),n=xt(s),r=t=>{var s=rl(),n=kt(xt(s),2);Rr(kt(wt(n),2),{onclose:e}),nn(1,n,(()=>Ur),(()=>({duration:400,easing:Lr}))),hs(t,s)};ys(n,(t=>{ze(sl)&&t(r)})),hs(t,s)}var il=dt(!0),al=t=>{pt(il,t,!0)},ll=ls('<img alt="flag" class="mb-0.5 inline-block h-3 w-auto rounded-xs align-bottom"> <span class="text-gray-50/70"> </span>',1),cl=ls('<div id="map_general_info" class="pointer-events-none fixed right-4 bottom-4 z-10 flex transform-gpu flex-col items-end gap-y-2.5 text-sm text-gray-100/60"><div class="text-xs leading-none text-shadow-black text-shadow-sm"><span id="kill_count" class="text-gray-50/70"> </span> : Kills</div> <div class="text-xs leading-none text-shadow-black text-shadow-sm"><span id="score" class="text-gray-50/70"> </span> :\n      Score</div> <div class="text-xs leading-none text-shadow-black text-shadow-sm"><span id="rank" class="text-gray-50/70"> </span> : Rank</div> <div class="text-xs leading-none text-shadow-black text-shadow-sm"><span id="fps" class="text-gray-50/70"> </span> @ <span id="ping" class="text-gray-50/70"> </span></div> <div class="text-xs leading-none text-shadow-black text-shadow-sm"><span id="best_score" class="text-gray-50/70"> </span> : Best Score</div> <div class="text-xs leading-none text-shadow-black text-shadow-sm" id="server_display"><!></div></div>');function dl(t,e){W(e,!0);let s=Z((()=>Ia.map.get(In.serverAddress)?.country??"unknown")),n=Z((()=>Dn[ze(s)]));var r=us(),o=xt(r),i=t=>{var e=cl(),s=wt(e),r=wt(s),o=wt(r),i=kt(s,2),a=wt(i),l=wt(a),c=kt(i,2),d=wt(c),u=wt(d),h=kt(c,2),p=wt(h),f=wt(p),g=wt(kt(p,2)),v=kt(h,2),m=wt(v),y=wt(m),b=wt(kt(v,2)),w=t=>{var e=ll(),s=xt(e),r=wt(kt(s,2));Nt((()=>{Hs(s,"src",ze(n)),gs(r,In.serverAddress)})),hs(t,e)};ys(b,(t=>{""!==In.serverAddress&&t(w)})),Nt((()=>{gs(o,In.kills),gs(l,In.currentScore),gs(u,`${In.rank??""} / ${In.slitherCount??""}`),gs(f,`${In.fps??""} fps`),gs(g,`${In.ping??""} (${In.maxPing??""}) ms`),gs(y,In.bestScore)})),hs(t,e)};ys(o,(t=>{ze(il)&&t(i)})),hs(t,r),H()}var ul=dt(!1),hl=t=>{pt(ul,t,!0)},pl=ls('<div class="fixed inset-0 z-99999 flex h-screen w-screen items-center justify-center"><iframe id="leaderboard_iframe" src="https://stellarslither.com/leaderboards" title="Stellar Slither Live Leaderboards" class="rounded-lg border border-white bg-black/30 p-3.5 shadow-lg shadow-black/50 backdrop-blur-xs"></iframe></div> <div class="absolute top-0 left-0 z-99999 flex h-20 w-full items-center justify-between bg-gradient-to-b from-neutral-900/70 to-transparent px-4 backdrop-blur-md"><div class="text-lg text-white">Press "<code>ESC</code>" To Close Leaderboards</div> <!></div>',1);function fl(t,e){W(e,!0);const s=Z((()=>Math.min(1200,.9*(Kr.current??0)))),n=Z((()=>Math.min(780,.8*(Xr.current??0)))),r=()=>{pt(ul,!1)};var o=us(),i=xt(o),a=t=>{var e=pl(),o=xt(e),i=wt(o),a=kt(o,2);Rr(kt(wt(a),2),{onclose:r}),Nt((()=>{Hs(i,"width",ze(s)),Hs(i,"height",ze(n))})),nn(1,o,(()=>Wr),(()=>({y:-700,duration:400,easing:Dr,delay:150}))),nn(2,o,(()=>Ur),(()=>({duration:200,easing:Dr}))),nn(3,a,(()=>Ur),(()=>({duration:400,easing:Lr}))),hs(t,e)};ys(i,(t=>{ze(ul)&&t(a)})),hs(t,o),H()}var gl=ls('<button class="grid h-24 w-28 cursor-pointer place-items-center opacity-70 hover:opacity-100 active:opacity-60" type="button"><img alt="" draggable="false"></button>'),vl=ls('<div class="fixed top-1/2 left-1/2 z-20 w-198 -translate-x-1/2 translate-y-[var(--y)] max-h-[30vh]"><div class="flex w-full flex-wrap-reverse"></div></div>');function ml(t,e){W(e,!1),un();var s=vl();let n;xs(wt(s),5,(()=>ma.cosbtns),bs,((t,e)=>{var s=gl();s.__click=function(...t){ze(e).fn?.apply(this,t)};var n=wt(s);let r;Nt((t=>{r=zs(n,1,"pointer-events-none",null,r,t),Hs(n,"src",ze(e).u),Hs(n,"width",ze(e).custom?72:ze(e).ww),Hs(n,"height",ze(e).custom?72:ze(e).hh)}),[()=>({"rotate-90":!ze(e).custom})],Q),hs(t,s)})),Nt((()=>n=Ls(s,"",n,{overflow:"overlay","--y":"-360px",opacity:Fn.secosa,"pointer-events":1===Fn.secosa?"auto":"none",display:0===Fn.secosa?"none":"block"}))),hs(t,s),H()}rs(["click"]),Rn("/assets/icon16.png");var yl=Rn("/assets/icon32.png"),bl=Rn("/assets/icon48.png");Rn("/assets/icon128.png");var wl=()=>na(),xl=(t,e)=>ze(e)?.click(),kl=t=>sa(t.target?.files?.[0]),_l=ls('<div class="mt-3.5 flex items-center justify-center gap-10"><button class="flex cursor-pointer rounded border border-slate-600/50 bg-cyan-300/10 px-3 py-1 text-emerald-300 transition duration-300 ease-out hover:bg-cyan-400/30 focus:ring-2 focus:ring-cyan-400/50 focus:outline-none active:bg-cyan-400/20"><!> <span class="px-1 text-xs font-bold"></span></button> <button class="flex cursor-pointer rounded border border-slate-600/50 bg-cyan-300/10 px-3 py-1 text-fuchsia-300 transition duration-300 ease-out hover:bg-cyan-400/30 focus:ring-2 focus:ring-cyan-400/50 focus:outline-none active:bg-cyan-400/20"><!> <span class="px-1 text-xs font-bold"></span> <input type="file" accept=".json" class="sr-only"></button></div>');function Ml(t,e){W(e,!0);let s=dt(null);var n=_l(),r=wt(n);r.__click=[wl];var o=wt(r);br(o,{size:"16",class:"mr-1"}),kt(o,2).textContent="Export Settings";var i=kt(r,2);i.__click=[xl,s];var a=wt(i);Pr(a,{size:"16",class:"mr-1"});var l=kt(a,2);l.textContent="Import Settings";var c=kt(l,2);c.__change=[kl],dn(c,(t=>pt(s,t)),(()=>ze(s))),hs(t,n),H()}rs(["click","change"]);var Al=ls('<h1 class="mt-1 mb-2 flex items-center text-xl font-bold"><img class="mr-1 inline-block h-6" alt="" draggable="false"> <span class="shrink-0"><!></span></h1>'),$l=ls('<h2 class="col-span-full mb-2 flex items-center text-lg font-bold"><img class="mr-1 inline-block h-6" alt="" draggable="false"> <span class="shrink-0"><!></span> <div class="mx-2 h-px w-full bg-gradient-to-r from-cyan-500/75 via-purple-500/75 to-transparent"></div></h2>'),Sl=ls('<h3 class="col-span-full mb-2 flex items-center text-lg font-bold"><span class="shrink-0"><!></span></h3>');function Pl(t,e){W(e,!0);const s=Rn("/assets/star.webp");var n=us(),r=xt(n),o=t=>{var n=Al(),r=wt(n);Hs(r,"src",s),Ss(wt(kt(r,2)),(()=>e.children)),hs(t,n)},i=(t,n)=>{var r=t=>{var n=$l(),r=wt(n);Hs(r,"src",s),Ss(wt(kt(r,2)),(()=>e.children)),hs(t,n)},o=(t,s)=>{var n=t=>{var s=Sl(),n=wt(s);Ss(wt(n),(()=>e.children)),hs(t,s)};ys(t,(t=>{3===e.level&&t(n)}),s)};ys(t,(t=>{2===e.level?t(r):t(o,!1)}),n)};ys(r,(t=>{1===e.level?t(o):t(i,!1)})),hs(t,n),H()}var Cl=new Ca,Il=ls('<div class="flex items-center justify-between gap-x-1 py-0.5 text-sm"><div class="grow"><!></div> <div class="shrink-0 basis-28 flex items-center gap-1"><!></div></div>');function El(t,e){var s=Il(),n=wt(s);Ss(wt(n),(()=>e.children)),Ss(wt(kt(n,2)),(()=>e.key)),hs(t,s)}var Fl=ls('<kbd class="inline-grid place-items-center rounded-md border border-gray-500 bg-slate-600/40 px-1 py-0.5 text-xs text-gray-100"><!></kbd>');function Tl(t,e){var s=Fl();Ss(wt(s),(()=>e.children)),hs(t,s)}var Nl=(t,e=h,s=h)=>{var n=Rl(),r=wt(n);e()(r,{size:"18"});var o=kt(r,1,!0);Nt((()=>gs(o,s()))),hs(t,n)},Ol=(t,e=h)=>{var s=zl(),n=wt(s);Nt((()=>gs(n,e()))),hs(t,s)},Rl=ls('<h3 class="flex items-center gap-1 text-base leading-loose font-bold text-cyan-400"><!> </h3>'),zl=ls('<span class="text-xs text-gray-300"> </span>'),Dl=ls("<!> <!>",1),Ll=ls("<!> <!>",1),Bl=ls("<!> <!>",1),Vl=ls("<!> <!>",1),jl=ls("<!> <!>",1),Ul=ls("<!> <!>",1),Wl=ls("<!> <!> <!>",1),Hl=ls("<!> <!>",1),ql=ls("<!> <!>",1),Kl=ls("<!> <!>",1),Xl=ls("<!> <!>",1),Yl=ls("<!> <!>",1),Gl=ls("<!> <!>",1),Jl=ls("<!> <!>",1),Zl=ls("<!> <!>",1),Ql=ls('<div class="grid gap-y-0"><!> <div class="mb-3 grid grid-cols-2 rounded-lg border border-slate-600/50 bg-gradient-to-br from-cyan-950/30 via-blue-950/30 to-purple-950/30 p-3.5"><div class="col-span-1 col-start-1"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="col-span-1 col-start-2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div></div></div>');function tc(t){var e=Ql(),s=wt(e);Pl(s,{level:2,children:(t,e)=>{var s=ds();s.nodeValue="Controls",hs(t,s)},$$slots:{default:!0}});var n=wt(kt(s,2)),r=wt(n);Nl(r,(()=>Nr),(()=>"Toggle While Playing"));var o=kt(r,2);El(o,{key:t=>{var e=Dl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("T"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Bot",hs(t,s)}});var i=kt(o,2);El(i,{key:t=>{Tl(t,{children:(t,e)=>{hs(t,ds("X"))}})},children:(t,e)=>{var s=ds();s.nodeValue="Reset Zoom",hs(t,s)}});var a=kt(i,2);El(a,{key:t=>{var e=Ll(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("0"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Respawn",hs(t,s)}});var l=kt(a,2);El(l,{key:t=>{var e=Bl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("."))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Settings",hs(t,s)}});var c=kt(l,2);El(c,{key:t=>{var e=Vl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds(","))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Open RTL",hs(t,s)}});var d=kt(c,2);El(d,{key:t=>{var e=jl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("8"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Auto Respawn",hs(t,s)}});var u=kt(d,2);El(u,{key:t=>{var e=Ul(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("9"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Quit Game",hs(t,s)}});var h=kt(u,2);El(h,{key:t=>{var e=Wl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("A"))}});var n=kt(s,2);Ol(n,(()=>"/")),Tl(kt(n,2),{children:(t,e)=>{hs(t,ds("D"))}}),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Snakey Rotate",hs(t,s)}});var p=kt(h,2);El(p,{key:t=>{var e=Hl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("G"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Animation off [ Boosts Fps ]",hs(t,s)}});var f=kt(p,2);El(f,{key:t=>{var e=ql(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("Space"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Toggle Acceleration when bot is enabled.",hs(t,s)}});var g=kt(f,2);El(g,{key:t=>{var e=Kl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("W"))}});var n=kt(s,2);Ol(n,(()=>"Hold")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Peek",hs(t,s)}}),El(kt(g,2),{key:t=>{Tl(t,{children:(t,e)=>{hs(t,ds("Enter"))}})},children:(t,e)=>{var s=ds();s.nodeValue="Focus chat",hs(t,s)}});var v=wt(kt(n,2));Nl(v,(()=>yr),(()=>"General Settings"));var m=kt(v,2);El(m,{key:t=>{Tl(t,{children:(t,e)=>{hs(t,ds("Enter"))}})},children:(t,e)=>{var s=ds();s.nodeValue="Enter The Game",hs(t,s)}});var y=kt(m,2);El(y,{key:t=>{Tl(t,{children:(t,e)=>{hs(t,ds("Esc"))}})},children:(t,e)=>{var s=ds();s.nodeValue="Quit Settings",hs(t,s)}});var b=kt(y,2);El(b,{key:t=>{Tl(t,{children:(t,e)=>{hs(t,ds("Esc"))}})},children:(t,e)=>{var s=ds();s.nodeValue="Toggle Chat",hs(t,s)}});var w=kt(b,2);Nl(w,(()=>Ir),(()=>"Team Only"));var x=kt(w,2);El(x,{key:t=>{var e=Xl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("1"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Enemy Marking",hs(t,s)}});var k=kt(x,2);El(k,{key:t=>{var e=Yl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("2"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Ally Marking",hs(t,s)}});var _=kt(k,2);El(_,{key:t=>{var e=Gl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("S"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="SOS",hs(t,s)}});var M=kt(_,2);El(M,{key:t=>{var e=Jl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("F"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Food",hs(t,s)}}),El(kt(M,2),{key:t=>{var e=Zl(),s=xt(e);Tl(s,{children:(t,e)=>{hs(t,ds("E"))}});var n=kt(s,2);Ol(n,(()=>"\xd72")),hs(t,e)},children:(t,e)=>{var s=ds();s.nodeValue="Toggle Player List",hs(t,s)}}),hs(t,e)}var ec=(e,s)=>{var n;(n=s.name)in t&&n in Zi&&(Zi[n]=t[n])},sc=ls('<div class="flex min-h-10 w-full max-w-full items-center"><div class="shrink-0 basis-40 text-sm"></div> <div class="flex grow items-center justify-center"><!></div> <button class="ml-2 grid size-6 shrink-0 basis-6 cursor-pointer place-items-center rounded-full text-red-400 transition duration-100 ease-out hover:text-red-600 focus:outline-none focus-visible:bg-red-500/20 focus-visible:outline-none" type="button"><!></button></div>');function nc(t,e){W(e,!0);const s=Gi[e.name];var n=sc(),r=wt(n);r.textContent=s;var o=kt(r,2);Ss(wt(o),(()=>e.children));var i=kt(o,2);Hs(i,"aria-label",`Reset setting ${s??""}`),Hs(i,"title",`Reset setting ${s??""}`),i.__click=[ec,e],Mr(wt(i),{size:"16"}),hs(t,n),H()}rs(["click"]);var rc=ls('<div class="col-span-full mb-2 grid grid-cols-2 gap-x-2.5 gap-y-1"><!></div>');function oc(t,e){var s=rc();Ss(wt(s),(()=>e.children)),hs(t,s)}function ic(t){return"function"==typeof t}function ac(t){return null!==t&&"object"==typeof t}var lc=["string","number","bigint","boolean"];function cc(t){return null==t||!!lc.includes(typeof t)||(Array.isArray(t)?t.every((t=>cc(t))):"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype)}var dc=Symbol("box"),uc=Symbol("is-writable");function hc(t){let e=dt(Y(t));return{[dc]:!0,[uc]:!0,get current(){return ze(e)},set current(t){pt(e,t,!0)}}}function pc(...t){return function(e){for(const s of t)if(s){if(e.defaultPrevented)return;"function"==typeof s?s.call(this,e):s.current?.call(this,e)}}}function fc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}hc.from=function(t){return hc.isBox(t)?t:ic(t)?hc.with(t):hc(t)},hc.with=function(t,e){const s=Z(t);return e?{[dc]:!0,[uc]:!0,get current(){return ze(s)},set current(t){e(t)}}:{[dc]:!0,get current(){return t()}}},hc.flatten=function(t){return Object.entries(t).reduce(((t,[e,s])=>hc.isBox(s)?(hc.isWritableBox(s)?Object.defineProperty(t,e,{get:()=>s.current,set(t){s.current=t}}):Object.defineProperty(t,e,{get:()=>s.current}),t):Object.assign(t,{[e]:s})),{})},hc.readonly=function(t){return hc.isWritableBox(t)?{[dc]:!0,get current(){return t.current}}:t},hc.isBox=function(t){return ac(t)&&dc in t},hc.isWritableBox=function(t){return hc.isBox(t)&&uc in t};var gc,vc,mc,yc={};function bc(){if(vc)return gc;vc=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,s=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i=/^[;\s]*/,a=/^\s+|\s+$/g,l="";function c(t){return t?t.replace(a,l):l}return gc=function(a,d){if("string"!=typeof a)throw new TypeError("First argument must be a string");if(!a)return[];d=d||{};var u=1,h=1;function p(t){var s=t.match(e);s&&(u+=s.length);var n=t.lastIndexOf("\n");h=~n?t.length-n:h+t.length}function f(){var t={line:u,column:h};return function(e){return e.position=new g(t),y(),e}}function g(t){this.start=t,this.end={line:u,column:h},this.source=d.source}function v(t){var e=new Error(d.source+":"+u+":"+h+": "+t);if(e.reason=t,e.filename=d.source,e.line=u,e.column=h,e.source=a,!d.silent)throw e}function m(t){var e=t.exec(a);if(e){var s=e[0];return p(s),a=a.slice(s.length),e}}function y(){m(s)}function b(t){var e;for(t=t||[];e=w();)!1!==e&&t.push(e);return t}function w(){var t=f();if("/"==a.charAt(0)&&"*"==a.charAt(1)){for(var e=2;l!=a.charAt(e)&&("*"!=a.charAt(e)||"/"!=a.charAt(e+1));)++e;if(e+=2,l===a.charAt(e-1))return v("End of comment missing");var s=a.slice(2,e-2);return h+=2,p(s),a=a.slice(e),h+=2,t({type:"comment",comment:s})}}function x(){var e=f(),s=m(n);if(s){if(w(),!m(r))return v("property missing ':'");var a=m(o),d=e({type:"declaration",property:c(s[0].replace(t,l)),value:a?c(a[0].replace(t,l)):l});return m(i),d}}return g.prototype.content=a,y(),function(){var t,e=[];for(b(e);t=x();)!1!==t&&(e.push(t),b(e));return e}()},gc}var wc=fc(function(){if(mc)return yc;mc=1;var t=yc&&yc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yc,"__esModule",{value:!0}),yc.default=function(t,s){var n=null;if(!t||"string"!=typeof t)return n;var r=(0,e.default)(t),o="function"==typeof s;return r.forEach((function(t){if("declaration"===t.type){var e=t.property,r=t.value;o?s(e,r,t):r&&((n=n||{})[e]=r)}})),n};var e=t(bc());return yc}()),xc=wc.default||wc,kc=/\d/,_c=["-","_","/","."];function Mc(t=""){if(!kc.test(t))return t!==t.toLowerCase()}function Ac(t){const e=[];let s,n,r="";for(const o of t){const t=_c.includes(o);if(!0===t){e.push(r),r="",s=void 0;continue}const i=Mc(o);if(!1===n){if(!1===s&&!0===i){e.push(r),r=o,s=i;continue}if(!0===s&&!1===i&&r.length>1){const t=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=t+o,s=i;continue}}r+=o,s=i,n=t}return e.push(r),e}function $c(t){return t?Ac(t).map((t=>Sc(t))).join(""):""}function Sc(t){return t?t[0].toUpperCase()+t.slice(1):""}function Pc(t){return t?t[0].toLowerCase()+t.slice(1):""}function Cc(t){if(!t)return{};const e={};return xc(t,(function(t,s){var n;t.startsWith("-moz-")||t.startsWith("-webkit-")||t.startsWith("-ms-")||t.startsWith("-o-")?e[$c(t)]=s:t.startsWith("--")?e[t]=s:e[(n=t,Pc($c(n||"")))]=s})),e}function Ic(...t){return(...e)=>{for(const s of t)"function"==typeof s&&s(...e)}}var Ec=function(t,e){const s=RegExp(/[A-Z]/,"g");return t=>{if("string"!=typeof t)throw new TypeError("expected an argument of type string, but got "+typeof t);return t.match(s)?t.replace(s,e):t}}(0,(t=>`-${t.toLowerCase()}`));function Fc(t){if(!t||"object"!=typeof t||Array.isArray(t))throw new TypeError("expected an argument of type object, but got "+typeof t);return Object.keys(t).map((e=>`${Ec(e)}: ${t[e]};`)).join("\n")}function Tc(t={}){return Fc(t).replace("\n"," ")}var Nc=Tc({position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"});function Oc(t){return t.length>2&&t.startsWith("on")&&t[2]===t[2]?.toLowerCase()}function Rc(...t){const e={...t[0]};for(let s=1;s<t.length;s++){const n=t[s];for(const t in n){const s=e[t],r=n[t],o="function"==typeof s,i="function"==typeof r;if(o&&Oc(t)){const n=s,o=r;e[t]=pc(n,o)}else if(o&&i)e[t]=Ic(s,r);else if("class"===t){const n=cc(s),o=cc(r);n&&o?e[t]=Es(s,r):n?e[t]=Es(s):o&&(e[t]=Es(r))}else if("style"===t){const n="object"==typeof s,o="object"==typeof r,i="string"==typeof s,a="string"==typeof r;if(n&&o)e[t]={...s,...r};else if(n&&a){const n=Cc(r);e[t]={...s,...n}}else if(i&&o){const n=Cc(s);e[t]={...n,...r}}else if(i&&a){const n=Cc(s),o=Cc(r);e[t]={...n,...o}}else n?e[t]=s:o?e[t]=r:i?e[t]=s:a&&(e[t]=r)}else e[t]=void 0!==r?r:s}}return"object"==typeof e.style&&(e.style=Tc(e.style).replaceAll("\n"," ")),!0!==e.hidden&&(e.hidden=void 0,delete e.hidden),!0!==e.disabled&&(e.disabled=void 0,delete e.disabled),e}var zc="undefined"!=typeof window?window:void 0;function Dc(t){let e=t.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function Lc(t){return"function"==typeof t}function Bc(t,e){switch(t){case"post":St(e);break;case"pre":Pt(e)}}function Vc(t,e,s,n={}){const{lazy:r=!1}=n;let o=!r,i=Array.isArray(t)?[]:void 0;Bc(e,(()=>{const e=Array.isArray(t)?t.map((t=>t())):t();if(!o)return o=!0,void(i=e);const n=De((()=>s(e,i)));return i=e,n}))}function jc(t,e,s){Vc(t,"post",e,s)}new class{#is;#E;constructor(t={}){const{window:e=zc,document:s=e?.document}=t;void 0!==e&&(this.#is=s,this.#E=sr((t=>{const s=ss(e,"focusin",t),n=ss(e,"focusout",t);return()=>{s(),n()}})))}get current(){return this.#E?.(),this.#is?Dc(this.#is):null}},jc.pre=function(t,e,s){Vc(t,"pre",e,s)};var Uc=class{#ss=dt(Y({width:0,height:0}));constructor(t,e={box:"border-box"}){const s=e.window??zc;pt(this.#ss,{width:e.initialSize?.width??0,height:e.initialSize?.height??0},!0),St((()=>{if(!s)return;const n=Lc(r=t)?r():r;var r;if(!n)return;const o=new s.ResizeObserver((t=>{for(const s of t){const t="content-box"===e.box?s.contentBoxSize:s.borderBoxSize,n=Array.isArray(t)?t:[t];ze(this.#ss).width=n.reduce(((t,e)=>Math.max(t,e.inlineSize)),0),ze(this.#ss).height=n.reduce(((t,e)=>Math.max(t,e.blockSize)),0)}}));return o.observe(n),()=>{o.disconnect()}}))}get current(){return ze(this.#ss)}get width(){return ze(this.#ss).width}get height(){return ze(this.#ss).height}},Wc=class{#as=dt(void 0);#ls;constructor(t){St((()=>{pt(this.#as,this.#ls,!0),this.#ls=t()}))}get current(){return ze(this.#as)}},Hc=class{#cs;#ds;constructor(t){this.#cs=t,this.#ds=Symbol(t)}get key(){return this.#ds}exists(){return t=this.#ds,K().has(t);var t}get(){const t=j(this.#ds);if(void 0===t)throw new Error(`Context "${this.#cs}" not found`);return t}getOr(t){const e=j(this.#ds);return void 0===e?t:e}set(t){return U(this.#ds,t)}};function qc(t){St((()=>()=>{t()}))}function Kc({id:t,ref:e,deps:s=()=>!0,onRefChange:n,getRootNode:r}){jc([()=>t.current,s],(([t])=>{const s=r?.()??document,o=s?.getElementById(t);e.current=o||null,n?.(e.current)})),qc((()=>{e.current=null,n?.(null)}))}function Xc(t,e){return setTimeout(e,t)}function Yc(t){Re().then(t)}function Gc(t){St((()=>De((()=>t()))))}function Jc(t){return t?"open":"closed"}function Zc(t){return t?"true":"false"}function Qc(t){return t?"true":"false"}function td(t){return t?"":void 0}function ed(t){return t?"":void 0}function sd(t){return!!t||void 0}var nd="ArrowDown",rd="ArrowLeft",od="ArrowRight",id="ArrowUp",ad="End",ld="Enter",cd="Home",dd="PageDown",ud="PageUp",hd=" ",pd="Tab";function fd(t="ltr",e="horizontal"){return{horizontal:"rtl"===t?rd:od,vertical:nd}[e]}function gd(t="ltr",e="horizontal"){return{horizontal:"rtl"===t?od:rd,vertical:id}[e]}function vd(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:fd(t,e),prevKey:gd(t,e)}}var md="undefined"!=typeof document,yd=md&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent));function bd(t){return t instanceof HTMLElement}function wd(t){return t instanceof Element}function xd(t){return t instanceof Element||t instanceof SVGElement}function kd(t){return null!==t}function _d(t){return t instanceof HTMLInputElement&&"select"in t}function Md(t,e){if("hidden"===getComputedStyle(t).visibility)return!0;for(;t;){if(void 0!==e&&t===e)return!1;if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}function Ad(t){const e=hc(null);function s(){if(!md)return[];const e=document.getElementById(t.rootNodeId.current);return e?t.candidateSelector?Array.from(e.querySelectorAll(t.candidateSelector)):t.candidateAttr?Array.from(e.querySelectorAll(`[${t.candidateAttr}]:not([data-disabled])`)):[]:[]}return{setCurrentTabStopId(t){e.current=t},getTabIndex:function(t){const n=s(),r=null!==e.current;return t&&!r&&n[0]===t?(e.current=t.id,0):t?.id===e.current?0:-1},handleKeydown:function(n,r,o=!1){const i=document.getElementById(t.rootNodeId.current);if(!i||!n)return;const a=s();if(!a.length)return;const l=a.indexOf(n),c=(d=i,window.getComputedStyle(d).getPropertyValue("direction"));var d;const{nextKey:u,prevKey:h}=vd(c,t.orientation.current),p=t.loop.current,f={[u]:l+1,[h]:l-1,[cd]:0,[ad]:a.length-1};if(o){const t=h===id?rd:id;f[u===nd?od:nd]=l+1,f[t]=l-1}let g=f[r.key];if(void 0===g)return;r.preventDefault(),g<0&&p?g=a.length-1:g===a.length&&p&&(g=0);const v=a[g];return v?(v.focus(),e.current=v.id,t.onCandidateFocus?.(v),v):void 0},focusFirstCandidate:function(){const t=s();t.length&&t[0]?.focus()},currentTabStopId:e}}var $d="data-accordion-root",Sd="data-accordion-trigger",Pd="data-accordion-content",Cd="data-accordion-item",Id="data-accordion-header",Ed=class{opts;rovingFocusGroup;constructor(t){this.opts=t,Kc(this.opts),this.rovingFocusGroup=Ad({rootNodeId:this.opts.id,candidateAttr:Sd,loop:this.opts.loop,orientation:this.opts.orientation})}#us=Z((()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,"data-disabled":td(this.opts.disabled.current),[$d]:""})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},Fd=class extends Ed{opts;isMulti=!1;constructor(t){super(t),this.opts=t,this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(t){return this.opts.value.current===t}toggleItem(t){this.opts.value.current=this.includesItem(t)?"":t}},Td=class extends Ed{#Fe;isMulti=!0;constructor(t){super(t),this.#Fe=t.value,this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(t){return this.#Fe.current.includes(t)}toggleItem(t){this.includesItem(t)?this.#Fe.current=this.#Fe.current.filter((e=>e!==t)):this.#Fe.current=[...this.#Fe.current,t]}},Nd=class{opts;root;#hs=Z((()=>this.root.includesItem(this.opts.value.current)));get isActive(){return ze(this.#hs)}set isActive(t){pt(this.#hs,t)}#ps=Z((()=>this.opts.disabled.current||this.root.opts.disabled.current));get isDisabled(){return ze(this.#ps)}set isDisabled(t){pt(this.#ps,t)}constructor(t){this.opts=t,this.root=t.rootState,this.updateValue=this.updateValue.bind(this),Kc({...t,deps:()=>this.isActive})}updateValue(){this.root.toggleItem(this.opts.value.current)}#us=Z((()=>({id:this.opts.id.current,"data-state":Jc(this.isActive),"data-disabled":td(this.isDisabled),"data-orientation":this.root.opts.orientation.current,[Cd]:""})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},Od=class{opts;itemState;#fs;#ps=Z((()=>this.opts.disabled.current||this.itemState.opts.disabled.current||this.#fs.opts.disabled.current));constructor(t,e){this.opts=t,this.itemState=e,this.#fs=e.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),Kc(t)}onclick(t){if(!ze(this.#ps))return 0!==t.button?t.preventDefault():void this.itemState.updateValue()}onkeydown(t){if(!ze(this.#ps))return t.key===hd||t.key===ld?(t.preventDefault(),void this.itemState.updateValue()):void this.#fs.rovingFocusGroup.handleKeydown(this.opts.ref.current,t)}#us=Z((()=>({id:this.opts.id.current,disabled:ze(this.#ps),"aria-expanded":Qc(this.itemState.isActive),"aria-disabled":Zc(ze(this.#ps)),"data-disabled":td(ze(this.#ps)),"data-state":Jc(this.itemState.isActive),"data-orientation":this.#fs.opts.orientation.current,[Sd]:"",tabindex:0,onclick:this.onclick,onkeydown:this.onkeydown})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},Rd=class{opts;item;#gs=void 0;#vs=!1;#Vt=dt(0);#Oe=dt(0);#ms=Z((()=>this.opts.forceMount.current||this.item.isActive));get present(){return ze(this.#ms)}set present(t){pt(this.#ms,t)}constructor(t,e){this.opts=t,this.item=e,this.item=e,this.#vs=this.item.isActive,Kc(t),Pt((()=>{const t=requestAnimationFrame((()=>{this.#vs=!1}));return()=>{cancelAnimationFrame(t)}})),jc([()=>this.present,()=>this.opts.ref.current],(([t,e])=>{e&&Yc((()=>{if(!this.opts.ref.current)return;this.#gs=this.#gs||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();if(pt(this.#Oe,t.height,!0),pt(this.#Vt,t.width,!0),!this.#vs){const{animationName:t,transitionDuration:s}=this.#gs;e.style.transitionDuration=s,e.style.animationName=t}}))}))}#ys=Z((()=>({open:this.item.isActive})));get snippetProps(){return ze(this.#ys)}set snippetProps(t){pt(this.#ys,t)}#us=Z((()=>({id:this.opts.id.current,"data-state":Jc(this.item.isActive),"data-disabled":td(this.item.isDisabled),"data-orientation":this.item.root.opts.orientation.current,[Pd]:"",style:{"--bits-accordion-content-height":`${ze(this.#Oe)}px`,"--bits-accordion-content-width":`${ze(this.#Vt)}px`}})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},zd=class{opts;item;constructor(t,e){this.opts=t,this.item=e,Kc(t)}#us=Z((()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,"data-heading-level":this.opts.level.current,"data-state":Jc(this.item.isActive),"data-orientation":this.item.root.opts.orientation.current,[Id]:""})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},Dd=new Hc("Accordion.Root"),Ld=new Hc("Accordion.Item");function Bd(t){const{type:e,...s}=t,n="single"===e?new Fd(s):new Td(s);return Dd.set(n)}function Vd(t){const e=Dd.get();return Ld.set(new Nd({...t,rootState:e}))}function jd(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function Ud(){}globalThis.bitsIdCounter??={current:0};var Wd=ls("<div><!></div>");function Hd(t,e){W(e,!0);let s=Pn(e,"disabled",3,!1),n=Pn(e,"value",15),r=Pn(e,"ref",15,null),o=Pn(e,"id",19,jd),i=Pn(e,"onValueChange",3,Ud),a=Pn(e,"loop",3,!0),l=Pn(e,"orientation",3,"vertical"),c=Mn(e,["$$slots","$$events","$$legacy","disabled","children","child","type","value","ref","id","onValueChange","loop","orientation"]);function d(){void 0===n()&&n("single"===e.type?"":[])}d(),jc.pre((()=>n()),(()=>{d()}));const u=Bd({type:e.type,value:hc.with((()=>n()),(t=>{n(t),i()(t)})),id:hc.with((()=>o())),disabled:hc.with((()=>s())),loop:hc.with((()=>a())),orientation:hc.with((()=>l())),ref:hc.with((()=>r()),(t=>r(t)))}),p=Z((()=>Rc(c,u.props)));var f=us(),g=xt(f),v=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(p)}))),hs(t,s)},m=t=>{var s=Wd();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(p)}))),hs(t,s)};ys(g,(t=>{e.child?t(v):t(m,!1)})),hs(t,f),H()}var qd=ls("<div><!></div>");function Kd(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"disabled",3,!1),r=Pn(e,"value",19,jd),o=Pn(e,"ref",15,null),i=Mn(e,["$$slots","$$events","$$legacy","id","disabled","value","children","child","ref"]);const a=Vd({value:hc.with((()=>r())),disabled:hc.with((()=>n())),id:hc.with((()=>s())),ref:hc.with((()=>o()),(t=>o(t)))}),l=Z((()=>Rc(i,a.props)));var c=us(),d=xt(c),u=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(l)}))),hs(t,s)},p=t=>{var s=qd();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(l)}))),hs(t,s)};ys(d,(t=>{e.child?t(u):t(p,!1)})),hs(t,c),H()}var Xd=ls("<div><!></div>");function Yd(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"level",3,2),r=Pn(e,"ref",15,null),o=Mn(e,["$$slots","$$events","$$legacy","id","level","children","child","ref"]);const i=(a={id:hc.with((()=>s())),level:hc.with((()=>n())),ref:hc.with((()=>r()),(t=>r(t)))},new zd(a,Ld.get()));var a;const l=Z((()=>Rc(o,i.props)));var c=us(),d=xt(c),u=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(l)}))),hs(t,s)},p=t=>{var s=Xd();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(l)}))),hs(t,s)};ys(d,(t=>{e.child?t(u):t(p,!1)})),hs(t,c),H()}var Gd=ls("<button><!></button>");function Jd(t,e){W(e,!0);let s=Pn(e,"disabled",3,!1),n=Pn(e,"ref",15,null),r=Pn(e,"id",19,jd),o=Mn(e,["$$slots","$$events","$$legacy","disabled","ref","id","children","child"]);const i=(a={disabled:hc.with((()=>s())),id:hc.with((()=>r())),ref:hc.with((()=>n()),(t=>n(t)))},new Od(a,Ld.get()));var a;const l=Z((()=>Rc(o,i.props)));var c=us(),d=xt(c),u=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(l)}))),hs(t,s)},p=t=>{var s=Gd();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{type:"button",...ze(l)}))),hs(t,s)};ys(d,(t=>{e.child?t(u):t(p,!1)})),hs(t,c),H()}function Zd(t,e){const s=hc(t);function n(t){return e[s.current][t]??s.current}return{state:s,dispatch:t=>{s.current=n(t)}}}function Qd(t,e){let s=dt(Y({})),n=dt("none");const r=t.current?"mounted":"unmounted";let o=dt(null);const i=new Wc((()=>t.current));jc([()=>e.current,()=>t.current],(([t,e])=>{t&&e&&Yc((()=>{pt(o,document.getElementById(t),!0)}))}));const{state:a,dispatch:l}=Zd(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});function c(t){if(ze(o)||pt(o,document.getElementById(e.current),!0),!ze(o))return;const s=tu(ze(o)),n=s.includes(t.animationName)||"none"===s;t.target===ze(o)&&n&&l("ANIMATION_END")}function d(t){ze(o)||pt(o,document.getElementById(e.current),!0),ze(o)&&t.target===ze(o)&&pt(n,tu(ze(o)),!0)}jc((()=>t.current),(t=>{if(ze(o)||pt(o,document.getElementById(e.current),!0),!ze(o))return;if(t===i.current)return;const r=ze(n),a=tu(ze(o));t?l("MOUNT"):"none"===a||"none"===ze(s).display?l("UNMOUNT"):l(i&&r!==a?"ANIMATION_OUT":"UNMOUNT")})),jc((()=>a.current),(()=>{if(ze(o)||pt(o,document.getElementById(e.current),!0),!ze(o))return;const t=tu(ze(o));pt(n,"mounted"===a.current?t:"none",!0)})),jc((()=>ze(o)),(t=>{if(t)return pt(s,getComputedStyle(t),!0),Ic(ss(t,"animationstart",d),ss(t,"animationcancel",c),ss(t,"animationend",c))}));const u=Z((()=>["mounted","unmountSuspended"].includes(a.current)));return{get current(){return ze(u)}}}function tu(t){return t&&getComputedStyle(t).animationName||"none"}function eu(t,e){W(e,!0);const s=Qd(hc.with((()=>e.present)),hc.with((()=>e.id)));var n=us(),r=xt(n),o=t=>{var n=us();Ss(xt(n),(()=>e.presence??h),(()=>({present:s}))),hs(t,n)};ys(r,(t=>{(e.forceMount||e.present||s.current)&&t(o)})),hs(t,n),H()}var su=ls("<div><!></div>");function nu(t,e){W(e,!0);let s=Pn(e,"ref",15,null),n=Pn(e,"id",19,jd),r=Pn(e,"forceMount",3,!1),o=Mn(e,["$$slots","$$events","$$legacy","child","ref","id","forceMount","children"]);const i=(a={forceMount:hc.with((()=>r())),id:hc.with((()=>n())),ref:hc.with((()=>s()),(t=>s(t)))},new Rd(a,Ld.get()));var a;{const s=(t,s)=>{var n=us();const a=Z((()=>Rc(o,i.props,{hidden:r()?void 0:!(s?.().present).current})));var l=xt(n),c=t=>{var s=us(),n=xt(s),r=Q((()=>({props:ze(a),...i.snippetProps})));Ss(n,(()=>e.child),(()=>ze(r))),hs(t,s)},d=t=>{var s=su();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(a)}))),hs(t,s)};ys(l,(t=>{e.child?t(c):t(d,!1)})),hs(t,n)};eu(t,{forceMount:!0,get present(){return i.present},get id(){return n()},presence:s,$$slots:{presence:!0}})}H()}function ru(t,e,s,n){const r=Array.isArray(e)?e:[e];return r.forEach((e=>t.addEventListener(e,s,n))),()=>{r.forEach((e=>t.removeEventListener(e,s,n)))}}var ou=class{eventName;options;constructor(t,e={bubbles:!0,cancelable:!0}){this.eventName=t,this.options=e}createEvent(t){return new CustomEvent(this.eventName,{...this.options,detail:t})}dispatch(t,e){const s=this.createEvent(e);return t.dispatchEvent(s),s}listen(t,e,s){return ss(t,this.eventName,(t=>{e(t)}),s)}};function iu(t,e=500){let s=null;const n=(...n)=>{null!==s&&clearTimeout(s),s=setTimeout((()=>{t(...n)}),e)};return n.destroy=()=>{null!==s&&(clearTimeout(s),s=null)},n}function au(t,e){return t===e||t.contains(e)}function lu(t){return t?.ownerDocument??document}function cu(t,e){const{clientX:s,clientY:n}=t,r=e.getBoundingClientRect();return s<r.left||s>r.right||n<r.top||n>r.bottom}globalThis.bitsDismissableLayers??=new Map;var du=class{opts;#bs;#ws;#xs={pointerdown:!1};#ks=!1;#_s=!1;node=hc(null);#Ms=void 0;#As;#$s=dt(null);get currNode(){return ze(this.#$s)}set currNode(t){pt(this.#$s,t,!0)}#Ss=Ud;constructor(t){this.opts=t,Kc({id:t.id,ref:this.node,deps:()=>t.enabled.current,onRefChange:t=>{this.currNode=t}}),this.#ws=t.interactOutsideBehavior,this.#bs=t.onInteractOutside,this.#As=t.onFocusOutside,St((()=>{this.#Ms=lu(this.currNode)}));let e=Ud;const s=()=>{this.#Ps(),globalThis.bitsDismissableLayers.delete(this),this.#Cs.destroy(),e()};jc([()=>this.opts.enabled.current,()=>this.currNode],(([t,n])=>{if(t&&n)return Xc(1,(()=>{this.currNode&&(globalThis.bitsDismissableLayers.set(this,this.#ws),e(),e=this.#Is())})),s})),qc((()=>{this.#Ps.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#Cs.destroy(),this.#Ss(),e()}))}#Es=t=>{t.defaultPrevented||this.currNode&&Yc((()=>{this.currNode&&!this.#Fs(t.target)&&t.target&&!this.#_s&&this.#As.current?.(t)}))};#Is(){return Ic(ss(this.#Ms,"pointerdown",Ic(this.#Ts,this.#Ns),{capture:!0}),ss(this.#Ms,"pointerdown",Ic(this.#Os,this.#Cs)),ss(this.#Ms,"focusin",this.#Es))}#Rs=t=>{let e=t;e.defaultPrevented&&(e=fu(t)),this.#bs.current(t)};#Cs=iu((t=>{if(!this.currNode)return void this.#Ss();const e=this.opts.isValidEvent.current(t,this.currNode)||pu(t,this.currNode);if(!this.#ks||this.#zs()||!e)return void this.#Ss();let s=t;s.defaultPrevented&&(s=fu(s)),"close"===this.#ws.current||"defer-otherwise-close"===this.#ws.current?"touch"===t.pointerType?(this.#Ss(),this.#Ss=ru(this.#Ms,"click",this.#Rs,{once:!0})):this.#bs.current(s):this.#Ss()}),10);#Ts=t=>{this.#xs[t.type]=!0};#Os=t=>{this.#xs[t.type]=!1};#Ns=()=>{this.node.current&&(this.#ks=hu(this.node.current))};#Fs=t=>!!this.node.current&&au(this.node.current,t);#Ps=iu((()=>{for(const t in this.#xs)this.#xs[t]=!1;this.#ks=!1}),20);#zs(){return Object.values(this.#xs).some(Boolean)}#Ds=()=>{this.#_s=!0};#Ls=()=>{this.#_s=!1};props={onfocuscapture:this.#Ds,onblurcapture:this.#Ls}};function uu(t){return t.findLast((([t,{current:e}])=>"close"===e||"ignore"===e))}function hu(t){const e=[...globalThis.bitsDismissableLayers],s=uu(e);if(s)return s[0].node.current===t;const[n]=e[0];return n.node.current===t}function pu(t,e){if("button"in t&&t.button>0)return!1;const s=t.target;return!!wd(s)&&(lu(s).documentElement.contains(s)&&!au(e,s)&&cu(t,e))}function fu(t){const e=t.currentTarget,s=t.target;let n;n=t instanceof PointerEvent?new PointerEvent(t.type,t):new PointerEvent("pointerdown",t);let r=!1;return new Proxy(n,{get:(n,o)=>"currentTarget"===o?e:"target"===o?s:"preventDefault"===o?()=>{r=!0,"function"==typeof n.preventDefault&&n.preventDefault()}:"defaultPrevented"===o?r:o in n?n[o]:t[o]})}function gu(t,e){W(e,!0);let s=Pn(e,"interactOutsideBehavior",3,"close"),n=Pn(e,"onInteractOutside",3,Ud),r=Pn(e,"onFocusOutside",3,Ud),o=Pn(e,"isValidEvent",3,(()=>!1));const i=(a={id:hc.with((()=>e.id)),interactOutsideBehavior:hc.with((()=>s())),onInteractOutside:hc.with((()=>n())),enabled:hc.with((()=>e.enabled)),onFocusOutside:hc.with((()=>r())),isValidEvent:hc.with((()=>o()))},new du(a));var a,l=us();Ss(xt(l),(()=>e.children??h),(()=>({props:i.props}))),hs(t,l),H()}globalThis.bitsEscapeLayers??=new Map;var vu=class{opts;constructor(t){this.opts=t;let e=Ud;jc((()=>t.enabled.current),(s=>(s&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),e=this.#Bs()),()=>{e(),globalThis.bitsEscapeLayers.delete(this)})))}#Bs=()=>ss(document,"keydown",this.#Vs,{passive:!1});#Vs=t=>{if("Escape"!==t.key||!mu(this))return;const e=new KeyboardEvent(t.type,t);t.preventDefault();const s=this.opts.escapeKeydownBehavior.current;"close"!==s&&"defer-otherwise-close"!==s||this.opts.onEscapeKeydown.current(e)}};function mu(t){const e=[...globalThis.bitsEscapeLayers],s=e.findLast((([t,{current:e}])=>"close"===e||"ignore"===e));if(s)return s[0]===t;const[n]=e[0];return n===t}function yu(t,e){W(e,!0);let s=Pn(e,"escapeKeydownBehavior",3,"close"),n=Pn(e,"onEscapeKeydown",3,Ud);var r;r={escapeKeydownBehavior:hc.with((()=>s())),onEscapeKeydown:hc.with((()=>n())),enabled:hc.with((()=>e.enabled))},new vu(r);var o=us();Ss(xt(o),(()=>e.children??h)),hs(t,o),H()}var bu=hc([]);function wu(){let t=dt(!1),e=dt(!1);return{id:jd(),get paused(){return ze(t)},get isHandlingFocus(){return ze(e)},set isHandlingFocus(t){pt(e,t,!0)},pause(){pt(t,!0)},resume(){pt(t,!1)}}}function xu(t,e){return[...t].filter((t=>t.id!==e.id))}function ku(t,{select:e=!1}={}){if(!t||!t.focus)return;if(document.activeElement===t)return;const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&_d(t)&&e&&t.select()}function _u(t,{select:e=!1}={}){const s=document.activeElement;for(const n of t)if(ku(n,{select:e}),document.activeElement!==s)return!0}function Mu(t,e){for(const s of t)if(!Md(s,e))return s}function Au(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const e="INPUT"===t.tagName&&"hidden"===t.type;return t.disabled||t.hidden||e?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function $u(t){const e=Au(t);return[Mu(e,t),Mu(e.reverse(),t)]}var Su=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),Pu="undefined"==typeof Element,Cu=Pu?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Iu=!Pu&&Element.prototype.getRootNode?function(t){var e;return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},Eu=function t(e,s){var n;void 0===s&&(s=!0);var r=null==e||null===(n=e.getAttribute)||void 0===n?void 0:n.call(e,"inert");return""===r||"true"===r||s&&e&&t(e.parentNode)},Fu=function(t){var e,s=null==t||null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"contenteditable");return""===s||"true"===s},Tu=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Nu=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Fu(t))&&!Tu(t)?0:t.tabIndex},Ou=function(t){return"INPUT"===t.tagName},Ru=function(t){return Ou(t)&&"hidden"===t.type},zu=function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))},Du=function(t,e){for(var s=0;s<t.length;s++)if(t[s].checked&&t[s].form===e)return t[s]},Lu=function(t){if(!t.name)return!0;var e,s=t.form||Iu(t),n=function(t){return s.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=n(window.CSS.escape(t.name));else try{e=n(t.name)}catch(t){return!1}var r=Du(e,t.form);return!r||r===t},Bu=function(t){return Ou(t)&&"radio"===t.type},Vu=function(t){return Bu(t)&&!Lu(t)},ju=function(t){var e,s,n,r,o=t&&Iu(t),i=null===(e=o)||void 0===e?void 0:e.host,a=!1;if(o&&o!==t)for(a=!!(null!==(s=i)&&void 0!==s&&null!==(n=s.ownerDocument)&&void 0!==n&&n.contains(i)||null!=t&&null!==(r=t.ownerDocument)&&void 0!==r&&r.contains(t));!a&&i;){var l,c,d;a=!(null===(c=i=null===(l=o=Iu(i))||void 0===l?void 0:l.host)||void 0===c||null===(d=c.ownerDocument)||void 0===d||!d.contains(i))}return a},Uu=function(t){var e=t.getBoundingClientRect(),s=e.width,n=e.height;return 0===s&&0===n},Wu=function(t,e){var s=e.displayCheck,n=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var r=Cu.call(t,"details>summary:first-of-type")?t.parentElement:t;if(Cu.call(r,"details:not([open]) *"))return!0;if(s&&"full"!==s&&"legacy-full"!==s){if("non-zero-area"===s)return Uu(t)}else{if("function"==typeof n){for(var o=t;t;){var i=t.parentElement,a=Iu(t);if(i&&!i.shadowRoot&&!0===n(i))return Uu(t);t=t.assignedSlot?t.assignedSlot:i||a===t.ownerDocument?i:a.host}t=o}if(ju(t))return!t.getClientRects().length;if("legacy-full"!==s)return!0}return!1},Hu=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var s=0;s<e.children.length;s++){var n=e.children.item(s);if("LEGEND"===n.tagName)return!!Cu.call(e,"fieldset[disabled] *")||!n.contains(t)}return!0}e=e.parentElement}return!1},qu=function(t,e){return!(e.disabled||Eu(e)||Ru(e)||Wu(e,t)||zu(e)||Hu(e))},Ku=function(t,e){return!(Vu(e)||Nu(e)<0||!qu(t,e))},Xu=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==Cu.call(t,Su)&&Ku(e,t)},Yu=new ou("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),Gu=new ou("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),Ju=new Hc("FocusScope");function Zu({id:t,loop:e,enabled:s,onOpenAutoFocus:n,onCloseAutoFocus:r,forceMount:o}){const i={add(t){const e=bu.current[0];e&&t.id!==e.id&&e.pause(),bu.current=xu(bu.current,t),bu.current.unshift(t)},remove(t){bu.current=xu(bu.current,t),bu.current[0]?.resume()},get current(){return bu.current}},a=wu(),l=hc(null),c=Ju.getOr({ignoreCloseAutoFocus:!1});let d=null;function u(t){if(!a.paused&&l.current&&!a.isHandlingFocus){a.isHandlingFocus=!0;try{const e=t.target;if(!bd(e))return;const s=l.current.contains(e);if("focusin"===t.type)if(s)d=e;else{if(c.ignoreCloseAutoFocus)return;ku(d,{select:!0})}else"focusout"===t.type&&(s||c.ignoreCloseAutoFocus||ku(d,{select:!0}))}finally{a.isHandlingFocus=!1}}}function h(t){if(!d||!l.current)return;let e=!1;for(const s of t){if("childList"===s.type&&s.removedNodes.length>0)for(const t of s.removedNodes){if(t===d){e=!0;break}if(t.nodeType===Node.ELEMENT_NODE&&t.contains(d)){e=!0;break}}if(e)break}e&&l.current&&!l.current.contains(document.activeElement)&&ku(l.current)}function p(e,r){if(e||(e=document.getElementById(t.current)),e&&s.current&&(i.add(a),!e.contains(r))){const t=Yu.createEvent();n.current(t),t.defaultPrevented||Yc((()=>{e&&(_u(Au(e).filter((t=>"A"!==t.tagName)),{select:!0})||ku(e))}))}}function f(t){const e=Gu.createEvent();r.current?.(e);const s=c.ignoreCloseAutoFocus;Xc(0,(()=>{e.defaultPrevented||!t||s||ku(Xu(t)?t:document.body,{select:!0}),i.remove(a)}))}function g(t){if(!s.current)return;if(!e.current&&!s.current)return;if(a.paused)return;const n=t.key===pd&&!t.ctrlKey&&!t.altKey&&!t.metaKey,r=document.activeElement;if(!n||!r)return;const o=l.current;if(!o)return;const[i,c]=$u(o);i&&c?t.shiftKey||r!==c?t.shiftKey&&r===i&&(t.preventDefault(),e.current&&ku(c,{select:!0})):(t.preventDefault(),e.current&&ku(i,{select:!0})):r===o&&t.preventDefault()}Kc({id:t,ref:l,deps:()=>s.current}),jc([()=>l.current,()=>s.current],(([t,e])=>{if(!t||!e)return;const s=Ic(ss(document,"focusin",u),ss(document,"focusout",u)),n=new MutationObserver(h);return n.observe(t,{childList:!0,subtree:!0,attributes:!1}),()=>{s(),n.disconnect()}})),jc([()=>o.current,()=>l.current],(([t,e])=>{if(t)return;const s=document.activeElement;return p(e,s),()=>{e&&f(s)}})),jc([()=>o.current,()=>l.current,()=>s.current],(([t,e])=>{if(!t)return;const s=document.activeElement;return p(e,s),()=>{e&&f(s)}}));const v=Z((()=>({id:t.current,tabindex:-1,onkeydown:g})));return{get props(){return ze(v)}}}function Qu(t,e){W(e,!0);let s=Pn(e,"trapFocus",3,!1),n=Pn(e,"loop",3,!1),r=Pn(e,"onCloseAutoFocus",3,Ud),o=Pn(e,"onOpenAutoFocus",3,Ud),i=Pn(e,"forceMount",3,!1);const a=Zu({enabled:hc.with((()=>s())),loop:hc.with((()=>n())),onCloseAutoFocus:hc.with((()=>r())),onOpenAutoFocus:hc.with((()=>o())),id:hc.with((()=>e.id)),forceMount:hc.with((()=>i()))});var l=us();Ss(xt(l),(()=>e.focusScope??h),(()=>({props:a.props}))),hs(t,l),H()}globalThis.bitsTextSelectionLayers??=new Map;var th=class{opts;#js=Ud;#Us=hc(null);constructor(t){this.opts=t,Kc({id:t.id,ref:this.#Us,deps:()=>this.opts.enabled.current});let e=Ud;jc((()=>this.opts.enabled.current),(t=>(t&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=this.#Is()),()=>{e(),this.#Ws(),globalThis.bitsTextSelectionLayers.delete(this)})))}#Is(){return Ic(ss(document,"pointerdown",this.#Hs),ss(document,"pointerup",pc(this.#Ws,this.opts.onPointerUp.current)))}#Hs=t=>{const e=this.#Us.current,s=t.target;bd(e)&&bd(s)&&this.opts.enabled.current&&rh(this)&&au(e,s)&&(this.opts.onPointerDown.current(t),t.defaultPrevented||(this.#js=sh(e)))};#Ws=()=>{this.#js(),this.#js=Ud}},eh=t=>t.style.userSelect||t.style.webkitUserSelect;function sh(t){const e=document.body,s=eh(e),n=eh(t);return nh(e,"none"),nh(t,"text"),()=>{nh(e,s),nh(t,n)}}function nh(t,e){t.style.userSelect=e,t.style.webkitUserSelect=e}function rh(t){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const s=e.at(-1);return!!s&&s[0]===t}function oh(t,e){W(e,!0);let s=Pn(e,"preventOverflowTextSelection",3,!0),n=Pn(e,"onPointerDown",3,Ud),r=Pn(e,"onPointerUp",3,Ud);var o;o={id:hc.with((()=>e.id)),onPointerDown:hc.with((()=>n())),onPointerUp:hc.with((()=>r())),enabled:hc.with((()=>e.enabled&&s()))},new th(o);var i=us();Ss(xt(i),(()=>e.children??h)),hs(t,i),H()}var ih=function(t){let e,s=0,n=dt(void 0);return(...r)=>(s+=1,void 0===ze(n)&&(e=Ct((()=>{pt(n,t(...r),!0)}))),St((()=>()=>{s-=1,e&&s<=0&&(e(),pt(n,void 0),e=void 0)})),ze(n))}((()=>{const t=new Ca,e=Z((()=>{for(const e of t.values())if(e)return!0;return!1}));let s=dt(null),n=null;return St((()=>{const t=ze(e);return De((()=>{if(!t)return;pt(s,document.body.getAttribute("style"),!0);const e=getComputedStyle(document.body),r=window.innerWidth-document.documentElement.clientWidth,o=Number.parseInt(e.paddingRight??"0",10)+r,i=Number.parseInt(e.marginRight??"0",10);r>0&&(document.body.style.paddingRight=`${o}px`,document.body.style.marginRight=`${i}px`,document.body.style.setProperty("--scrollbar-width",`${r}px`),document.body.style.overflow="hidden"),yd&&(n=ru(document,"touchmove",(t=>{t.target===document.documentElement&&(t.touches.length>1||t.preventDefault())}),{passive:!1})),Yc((()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"}))}))})),St((()=>()=>{n?.()})),{get map(){return t},resetBodyStyle:function(){md&&(document.body.setAttribute("style",ze(s)??""),document.body.style.removeProperty("--scrollbar-width"),yd&&n?.())}}}));function ah(t,e=()=>null){const s=jd(),n=ih();if(!n)return;const r=Z(e);n.map.set(s,t??!1);const o=hc.with((()=>n.map.get(s)??!1),(t=>n.map.set(s,t)));return St((()=>()=>{n.map.delete(s),lh(n.map)||(null===ze(r)?requestAnimationFrame((()=>n.resetBodyStyle())):Xc(ze(r),(()=>n.resetBodyStyle())))})),o}function lh(t){for(const[e,s]of t)if(s)return!0;return!1}function ch(t,e){W(e,!0);let s=Pn(e,"preventScroll",3,!0),n=Pn(e,"restoreScrollDelay",3,null);ah(s(),(()=>n())),H()}function dh(t,e,s=!0){if(!(0===t.length||e<0||e>=t.length))return 1===t.length&&0===e?t[0]:e===t.length-1?s?t[0]:void 0:t[e+1]}function uh(t,e,s=!0){if(!(0===t.length||e<0||e>=t.length))return 1===t.length&&0===e?t[0]:0===e?s?t[t.length-1]:void 0:t[e-1]}function hh(t,e,s,n=!0){if(0===t.length||e<0||e>=t.length)return;let r=e+s;return r=n?(r%t.length+t.length)%t.length:Math.max(0,Math.min(r,t.length-1)),t[r]}function ph(t,e,s,n=!0){if(0===t.length||e<0||e>=t.length)return;let r=e-s;return r=n?(r%t.length+t.length)%t.length:Math.max(0,Math.min(r,t.length-1)),t[r]}function fh(t,e,s){const n=e.toLowerCase();if(n.endsWith(" ")){const r=n.slice(0,-1);if(t.filter((t=>t.toLowerCase().startsWith(r))).length<=1)return fh(t,r,s);const o=s?.toLowerCase();if(o&&o.startsWith(r)&&" "===o.charAt(r.length)&&e.trim()===r)return s;const i=t.filter((t=>t.toLowerCase().startsWith(n)));if(i.length>0){const e=s?t.indexOf(s):-1;return gh(i,Math.max(e,0)).find((t=>t!==s))||s}}const r=e.length>1&&Array.from(e).every((t=>t===e[0]))?e[0]:e,o=r.toLowerCase(),i=s?t.indexOf(s):-1;let a=gh(t,Math.max(i,0));1===r.length&&(a=a.filter((t=>t!==s)));const l=a.find((t=>t?.toLowerCase().startsWith(o)));return l!==s?l:void 0}function gh(t,e){return t.map(((s,n)=>t[(e+n)%t.length]))}var vh=ls("<input>"),mh=ls("<input>");function yh(t,e){W(e,!0);let s=Pn(e,"value",15),n=Mn(e,["$$slots","$$events","$$legacy","value"]);const r=Z((()=>Rc(n,{"aria-hidden":"true",tabindex:-1,style:Nc})));var o=us(),i=xt(o),a=t=>{var e=vh();let n;Nt((()=>n=qs(e,n,{...ze(r),value:s()}))),hs(t,e)},l=t=>{var e=mh();let n;Nt((()=>n=qs(e,n,{...ze(r)}))),on(e,s),hs(t,e)};ys(i,(t=>{"checkbox"===ze(r).type?t(a):t(l,!1)})),hs(t,o),H()}var bh=["top","right","bottom","left"],wh=Math.min,xh=Math.max,kh=Math.round,_h=Math.floor,Mh=t=>({x:t,y:t}),Ah={left:"right",right:"left",bottom:"top",top:"bottom"},$h={start:"end",end:"start"};function Sh(t,e,s){return xh(t,wh(e,s))}function Ph(t,e){return"function"==typeof t?t(e):t}function Ch(t){return t.split("-")[0]}function Ih(t){return t.split("-")[1]}function Eh(t){return"x"===t?"y":"x"}function Fh(t){return"y"===t?"height":"width"}function Th(t){return["top","bottom"].includes(Ch(t))?"y":"x"}function Nh(t){return Eh(Th(t))}function Oh(t,e,s){void 0===s&&(s=!1);const n=Ih(t),r=Nh(t),o=Fh(r);let i="x"===r?n===(s?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Bh(i)),[i,Bh(i)]}function Rh(t){const e=Bh(t);return[zh(t),e,zh(e)]}function zh(t){return t.replace(/start|end/g,(t=>$h[t]))}function Dh(t,e,s){const n=["left","right"],r=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return s?e?r:n:e?n:r;case"left":case"right":return e?o:i;default:return[]}}function Lh(t,e,s,n){const r=Ih(t);let o=Dh(Ch(t),"start"===s,n);return r&&(o=o.map((t=>t+"-"+r)),e&&(o=o.concat(o.map(zh)))),o}function Bh(t){return t.replace(/left|right|bottom|top/g,(t=>Ah[t]))}function Vh(t){return{top:0,right:0,bottom:0,left:0,...t}}function jh(t){return"number"!=typeof t?Vh(t):{top:t,right:t,bottom:t,left:t}}function Uh(t){const{x:e,y:s,width:n,height:r}=t;return{width:n,height:r,top:s,left:e,right:e+n,bottom:s+r,x:e,y:s}}function Wh(t,e,s){let{reference:n,floating:r}=t;const o=Th(e),i=Nh(e),a=Fh(i),l=Ch(e),c="y"===o,d=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2,h=n[a]/2-r[a]/2;let p;switch(l){case"top":p={x:d,y:n.y-r.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-r.width,y:u};break;default:p={x:n.x,y:n.y}}switch(Ih(e)){case"start":p[i]-=h*(s&&c?-1:1);break;case"end":p[i]+=h*(s&&c?-1:1)}return p}var Hh=async(t,e,s)=>{const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:i}=s,a=o.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:u}=Wh(c,n,l),h=n,p={},f=0;for(let s=0;s<a.length;s++){const{name:o,fn:g}=a[s],{x:v,y:m,data:y,reset:b}=await g({x:d,y:u,initialPlacement:n,placement:h,strategy:r,middlewareData:p,rects:c,platform:i,elements:{reference:t,floating:e}});d=null!=v?v:d,u=null!=m?m:u,p={...p,[o]:{...p[o],...y}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await i.getElementRects({reference:t,floating:e,strategy:r}):b.rects),({x:d,y:u}=Wh(c,h,l))),s=-1)}return{x:d,y:u,placement:h,strategy:r,middlewareData:p}};async function qh(t,e){var s;void 0===e&&(e={});const{x:n,y:r,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=Ph(e,t),f=jh(p),g=a[h?"floating"===u?"reference":"floating":u],v=Uh(await o.getClippingRect({element:null==(s=await(null==o.isElement?void 0:o.isElement(g)))||s?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),m="floating"===u?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},w=Uh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:y,strategy:l}):m);return{top:(v.top-w.top+f.top)/b.y,bottom:(w.bottom-v.bottom+f.bottom)/b.y,left:(v.left-w.left+f.left)/b.x,right:(w.right-v.right+f.right)/b.x}}function Kh(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Xh(t){return bh.some((e=>t[e]>=0))}async function Yh(t,e){const{placement:s,platform:n,elements:r}=t,o=await(null==n.isRTL?void 0:n.isRTL(r.floating)),i=Ch(s),a=Ih(s),l="y"===Th(s),c=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,u=Ph(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof f&&(p="end"===a?-1*f:f),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}function Gh(){return"undefined"!=typeof window}function Jh(t){return tp(t)?(t.nodeName||"").toLowerCase():"#document"}function Zh(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Qh(t){var e;return null==(e=(tp(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function tp(t){return!!Gh()&&(t instanceof Node||t instanceof Zh(t).Node)}function ep(t){return!!Gh()&&(t instanceof Element||t instanceof Zh(t).Element)}function sp(t){return!!Gh()&&(t instanceof HTMLElement||t instanceof Zh(t).HTMLElement)}function np(t){return!(!Gh()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof Zh(t).ShadowRoot)}function rp(t){const{overflow:e,overflowX:s,overflowY:n,display:r}=up(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+s)&&!["inline","contents"].includes(r)}function op(t){return["table","td","th"].includes(Jh(t))}function ip(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(t){return!1}}))}function ap(t){const e=cp(),s=ep(t)?up(t):t;return["transform","translate","scale","rotate","perspective"].some((t=>!!s[t]&&"none"!==s[t]))||!!s.containerType&&"normal"!==s.containerType||!e&&!!s.backdropFilter&&"none"!==s.backdropFilter||!e&&!!s.filter&&"none"!==s.filter||["transform","translate","scale","rotate","perspective","filter"].some((t=>(s.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(s.contain||"").includes(t)))}function lp(t){let e=pp(t);for(;sp(e)&&!dp(e);){if(ap(e))return e;if(ip(e))return null;e=pp(e)}return null}function cp(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function dp(t){return["html","body","#document"].includes(Jh(t))}function up(t){return Zh(t).getComputedStyle(t)}function hp(t){return ep(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pp(t){if("html"===Jh(t))return t;const e=t.assignedSlot||t.parentNode||np(t)&&t.host||Qh(t);return np(e)?e.host:e}function fp(t){const e=pp(t);return dp(e)?t.ownerDocument?t.ownerDocument.body:t.body:sp(e)&&rp(e)?e:fp(e)}function gp(t,e,s){var n;void 0===e&&(e=[]),void 0===s&&(s=!0);const r=fp(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=Zh(r);if(o){const t=vp(i);return e.concat(i,i.visualViewport||[],rp(r)?r:[],t&&s?gp(t):[])}return e.concat(r,gp(r,[],s))}function vp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mp(t){const e=up(t);let s=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=sp(t),o=r?t.offsetWidth:s,i=r?t.offsetHeight:n,a=kh(s)!==o||kh(n)!==i;return a&&(s=o,n=i),{width:s,height:n,$:a}}function yp(t){return ep(t)?t:t.contextElement}function bp(t){const e=yp(t);if(!sp(e))return Mh(1);const s=e.getBoundingClientRect(),{width:n,height:r,$:o}=mp(e);let i=(o?kh(s.width):s.width)/n,a=(o?kh(s.height):s.height)/r;return i&&Number.isFinite(i)||(i=1),a&&Number.isFinite(a)||(a=1),{x:i,y:a}}var wp=Mh(0);function xp(t){const e=Zh(t);return cp()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:wp}function kp(t,e,s){return void 0===e&&(e=!1),!(!s||e&&s!==Zh(t))&&e}function _p(t,e,s,n){void 0===e&&(e=!1),void 0===s&&(s=!1);const r=t.getBoundingClientRect(),o=yp(t);let i=Mh(1);e&&(n?ep(n)&&(i=bp(n)):i=bp(t));const a=kp(o,s,n)?xp(o):Mh(0);let l=(r.left+a.x)/i.x,c=(r.top+a.y)/i.y,d=r.width/i.x,u=r.height/i.y;if(o){const t=Zh(o),e=n&&ep(n)?Zh(n):n;let s=t,r=vp(s);for(;r&&n&&e!==s;){const t=bp(r),e=r.getBoundingClientRect(),n=up(r),o=e.left+(r.clientLeft+parseFloat(n.paddingLeft))*t.x,i=e.top+(r.clientTop+parseFloat(n.paddingTop))*t.y;l*=t.x,c*=t.y,d*=t.x,u*=t.y,l+=o,c+=i,s=Zh(r),r=vp(s)}}return Uh({width:d,height:u,x:l,y:c})}function Mp(t,e){const s=hp(t).scrollLeft;return e?e.left+s:_p(Qh(t)).left+s}function Ap(t,e,s){void 0===s&&(s=!1);const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-(s?0:Mp(t,n)),y:n.top+e.scrollTop}}function $p(t){const e=Qh(t),s=hp(t),n=t.ownerDocument.body,r=xh(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=xh(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-s.scrollLeft+Mp(t);const a=-s.scrollTop;return"rtl"===up(n).direction&&(i+=xh(e.clientWidth,n.clientWidth)-r),{width:r,height:o,x:i,y:a}}function Sp(t,e){const s=Zh(t),n=Qh(t),r=s.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(r){o=r.width,i=r.height;const t=cp();(!t||t&&"fixed"===e)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:i,x:a,y:l}}function Pp(t,e){const s=_p(t,!0,"fixed"===e),n=s.top+t.clientTop,r=s.left+t.clientLeft,o=sp(t)?bp(t):Mh(1);return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:r*o.x,y:n*o.y}}function Cp(t,e,s){let n;if("viewport"===e)n=Sp(t,s);else if("document"===e)n=$p(Qh(t));else if(ep(e))n=Pp(e,s);else{const s=xp(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Uh(n)}function Ip(t,e){const s=pp(t);return!(s===e||!ep(s)||dp(s))&&("fixed"===up(s).position||Ip(s,e))}function Ep(t,e){const s=e.get(t);if(s)return s;let n=gp(t,[],!1).filter((t=>ep(t)&&"body"!==Jh(t))),r=null;const o="fixed"===up(t).position;let i=o?pp(t):t;for(;ep(i)&&!dp(i);){const e=up(i),s=ap(i);s||"fixed"!==e.position||(r=null),(o?!s&&!r:!s&&"static"===e.position&&r&&["absolute","fixed"].includes(r.position)||rp(i)&&!s&&Ip(t,i))?n=n.filter((t=>t!==i)):r=e,i=pp(i)}return e.set(t,n),n}function Fp(t,e,s){const n=sp(e),r=Qh(e),o="fixed"===s,i=_p(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Mh(0);function c(){l.x=Mp(r)}if(n||!n&&!o)if(("body"!==Jh(e)||rp(r))&&(a=hp(e)),n){const t=_p(e,!0,o,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else r&&c();o&&!n&&r&&c();const d=!r||n||o?Mh(0):Ap(r,a);return{x:i.left+a.scrollLeft-l.x-d.x,y:i.top+a.scrollTop-l.y-d.y,width:i.width,height:i.height}}function Tp(t){return"static"===up(t).position}function Np(t,e){if(!sp(t)||"fixed"===up(t).position)return null;if(e)return e(t);let s=t.offsetParent;return Qh(t)===s&&(s=s.ownerDocument.body),s}function Op(t,e){const s=Zh(t);if(ip(t))return s;if(!sp(t)){let e=pp(t);for(;e&&!dp(e);){if(ep(e)&&!Tp(e))return e;e=pp(e)}return s}let n=Np(t,e);for(;n&&op(n)&&Tp(n);)n=Np(n,e);return n&&dp(n)&&Tp(n)&&!ap(n)?s:n||lp(t)||s}var Rp={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:s,offsetParent:n,strategy:r}=t;const o="fixed"===r,i=Qh(n),a=!!e&&ip(e.floating);if(n===i||a&&o)return s;let l={scrollLeft:0,scrollTop:0},c=Mh(1);const d=Mh(0),u=sp(n);if((u||!u&&!o)&&(("body"!==Jh(n)||rp(i))&&(l=hp(n)),sp(n))){const t=_p(n);c=bp(n),d.x=t.x+n.clientLeft,d.y=t.y+n.clientTop}const h=!i||u||o?Mh(0):Ap(i,l,!0);return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:s.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:Qh,getClippingRect:function(t){let{element:e,boundary:s,rootBoundary:n,strategy:r}=t;const o=[..."clippingAncestors"===s?ip(e)?[]:Ep(e,this._c):[].concat(s),n],i=o[0],a=o.reduce(((t,s)=>{const n=Cp(e,s,r);return t.top=xh(n.top,t.top),t.right=wh(n.right,t.right),t.bottom=wh(n.bottom,t.bottom),t.left=xh(n.left,t.left),t}),Cp(e,i,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Op,getElementRects:async function(t){const e=this.getOffsetParent||Op,s=this.getDimensions,n=await s(t.floating);return{reference:Fp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:s}=mp(t);return{width:e,height:s}},getScale:bp,isElement:ep,isRTL:function(t){return"rtl"===up(t).direction}};function zp(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Dp(t,e){let s,n=null;const r=Qh(t);function o(){var t;clearTimeout(s),null==(t=n)||t.disconnect(),n=null}return function i(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(a||e(),!h||!p)return;const f={rootMargin:-_h(u)+"px "+-_h(r.clientWidth-(d+h))+"px "+-_h(r.clientHeight-(u+p))+"px "+-_h(d)+"px",threshold:xh(0,wh(1,l))||1};let g=!0;function v(e){const n=e[0].intersectionRatio;if(n!==l){if(!g)return i();n?i(!1,n):s=setTimeout((()=>{i(!1,1e-7)}),1e3)}1!==n||zp(c,t.getBoundingClientRect())||i(),g=!1}try{n=new IntersectionObserver(v,{...f,root:r.ownerDocument})}catch(t){n=new IntersectionObserver(v,f)}n.observe(t)}(!0),o}function Lp(t,e,s,n){void 0===n&&(n={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=yp(t),d=r||o?[...c?gp(c):[],...gp(e)]:[];d.forEach((t=>{r&&t.addEventListener("scroll",s,{passive:!0}),o&&t.addEventListener("resize",s)}));const u=c&&a?Dp(c,s):null;let h,p=-1,f=null;i&&(f=new ResizeObserver((t=>{let[n]=t;n&&n.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var t;null==(t=f)||t.observe(e)}))),s()})),c&&!l&&f.observe(c),f.observe(e));let g=l?_p(t):null;return l&&function e(){const n=_p(t);g&&!zp(g,n)&&s(),g=n,h=requestAnimationFrame(e)}(),s(),()=>{var t;d.forEach((t=>{r&&t.removeEventListener("scroll",s),o&&t.removeEventListener("resize",s)})),null==u||u(),null==(t=f)||t.disconnect(),f=null,l&&cancelAnimationFrame(h)}}var Bp=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var s,n;const{x:r,y:o,placement:i,middlewareData:a}=e,l=await Yh(e,t);return i===(null==(s=a.offset)?void 0:s.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:r+l.x,y:o+l.y,data:{...l,placement:i}}}}},Vp=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:n,placement:r}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:t=>{let{x:e,y:s}=t;return{x:e,y:s}}},...l}=Ph(t,e),c={x:s,y:n},d=await qh(e,l),u=Th(Ch(r)),h=Eh(u);let p=c[h],f=c[u];if(o){const t="y"===h?"bottom":"right";p=Sh(p+d["y"===h?"top":"left"],p,p-d[t])}if(i){const t="y"===u?"bottom":"right";f=Sh(f+d["y"===u?"top":"left"],f,f-d[t])}const g=a.fn({...e,[h]:p,[u]:f});return{...g,data:{x:g.x-s,y:g.y-n,enabled:{[h]:o,[u]:i}}}}}},jp=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var s,n;const{placement:r,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...v}=Ph(t,e);if(null!=(s=o.arrow)&&s.alignmentOffset)return{};const m=Ch(r),y=Th(a),b=Ch(a)===a,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=h||(b||!g?[Bh(a)]:Rh(a)),k="none"!==f;!h&&k&&x.push(...Lh(a,g,f,w));const _=[a,...x],M=await qh(e,v),A=[];let $=(null==(n=o.flip)?void 0:n.overflows)||[];if(d&&A.push(M[m]),u){const t=Oh(r,i,w);A.push(M[t[0]],M[t[1]])}if($=[...$,{placement:r,overflows:A}],!A.every((t=>t<=0))){var S,P;const t=((null==(S=o.flip)?void 0:S.index)||0)+1,e=_[t];if(e){var C;const s="alignment"===u&&y!==Th(e),n=(null==(C=$[0])?void 0:C.overflows[0])>0;if(!s||n)return{data:{index:t,overflows:$},reset:{placement:e}}}let s=null==(P=$.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:P.placement;if(!s)switch(p){case"bestFit":{var I;const t=null==(I=$.filter((t=>{if(k){const e=Th(t.placement);return e===y||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:I[0];t&&(s=t);break}case"initialPlacement":s=a}if(r!==s)return{reset:{placement:s}}}return{}}}},Up=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var s,n;const{placement:r,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=Ph(t,e),d=await qh(e,c),u=Ch(r),h=Ih(r),p="y"===Th(r),{width:f,height:g}=o.floating;let v,m;"top"===u||"bottom"===u?(v=u,m=h===(await(null==i.isRTL?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,v="end"===h?"top":"bottom");const y=g-d.top-d.bottom,b=f-d.left-d.right,w=wh(g-d[v],y),x=wh(f-d[m],b),k=!e.middlewareData.shift;let _=w,M=x;if(null!=(s=e.middlewareData.shift)&&s.enabled.x&&(M=b),null!=(n=e.middlewareData.shift)&&n.enabled.y&&(_=y),k&&!h){const t=xh(d.left,0),e=xh(d.right,0),s=xh(d.top,0),n=xh(d.bottom,0);p?M=f-2*(0!==t||0!==e?t+e:xh(d.left,d.right)):_=g-2*(0!==s||0!==n?s+n:xh(d.top,d.bottom))}await l({...e,availableWidth:M,availableHeight:_});const A=await i.getDimensions(a.floating);return f!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}},Wp=function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:n="referenceHidden",...r}=Ph(t,e);switch(n){case"referenceHidden":{const t=Kh(await qh(e,{...r,elementContext:"reference"}),s.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:Xh(t)}}}case"escaped":{const t=Kh(await qh(e,{...r,altBoundary:!0}),s.floating);return{data:{escapedOffsets:t,escaped:Xh(t)}}}default:return{}}}}},Hp=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:n,placement:r,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Ph(t,e)||{};if(null==c)return{};const u=jh(d),h={x:s,y:n},p=Nh(r),f=Fh(p),g=await i.getDimensions(c),v="y"===p,m=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=o.reference[f]+o.reference[p]-h[p]-o.floating[f],x=h[p]-o.reference[p],k=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c));let _=k?k[b]:0;_&&await(null==i.isElement?void 0:i.isElement(k))||(_=a.floating[b]||o.floating[f]);const M=w/2-x/2,A=_/2-g[f]/2-1,$=wh(u[m],A),S=wh(u[y],A),P=$,C=_-g[f]-S,I=_/2-g[f]/2+M,E=Sh(P,I,C),F=!l.arrow&&null!=Ih(r)&&I!==E&&o.reference[f]/2-(I<P?$:S)-g[f]/2<0,T=F?I<P?I-P:I-C:0;return{[p]:h[p]+T,data:{[p]:E,centerOffset:I-E-T,...F&&{alignmentOffset:T}},reset:F}}}),qp=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:s,y:n,placement:r,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ph(t,e),d={x:s,y:n},u=Th(r),h=Eh(u);let p=d[h],f=d[u];const g=Ph(a,e),v="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const t="y"===h?"height":"width",e=o.reference[h]-o.floating[t]+v.mainAxis,s=o.reference[h]+o.reference[t]-v.mainAxis;p<e?p=e:p>s&&(p=s)}if(c){var m,y;const t="y"===h?"width":"height",e=["top","left"].includes(Ch(r)),s=o.reference[u]-o.floating[t]+(e&&(null==(m=i.offset)?void 0:m[u])||0)+(e?0:v.crossAxis),n=o.reference[u]+o.reference[t]+(e?0:(null==(y=i.offset)?void 0:y[u])||0)-(e?v.crossAxis:0);f<s?f=s:f>n&&(f=n)}return{[h]:p,[u]:f}}}},Kp=(t,e,s)=>{const n=new Map,r={platform:Rp,...s},o={...r.platform,_c:n};return Hh(t,e,{...r,platform:o})};function Xp(t){return"function"==typeof t?t():t}function Yp(t){return"undefined"==typeof window?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Gp(t,e){const s=Yp(t);return Math.round(e*s)/s}function Jp(t){return{[`--bits-${t}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`--bits-${t}-content-available-width`]:"var(--bits-floating-available-width)",[`--bits-${t}-content-available-height`]:"var(--bits-floating-available-height)",[`--bits-${t}-anchor-width`]:"var(--bits-floating-anchor-width)",[`--bits-${t}-anchor-height`]:"var(--bits-floating-anchor-height)"}}function Zp(t){const e=t.whileElementsMounted,s=Z((()=>Xp(t.open)??!0)),n=Z((()=>Xp(t.middleware))),r=Z((()=>Xp(t.transform)??!0)),o=Z((()=>Xp(t.placement)??"bottom")),i=Z((()=>Xp(t.strategy)??"absolute")),a=t.reference;let l=dt(0),c=dt(0);const d=hc(null);let u=dt(Y(ze(i))),h=dt(Y(ze(o))),p=dt(Y({})),f=dt(!1);const g=Z((()=>{const t={position:ze(u),left:"0",top:"0"};if(!d.current)return t;const e=Gp(d.current,ze(l)),s=Gp(d.current,ze(c));return ze(r)?{...t,transform:`translate(${e}px, ${s}px)`,...Yp(d.current)>=1.5&&{willChange:"transform"}}:{position:ze(u),left:`${e}px`,top:`${s}px`}}));let v;function m(){null!==a.current&&null!==d.current&&Kp(a.current,d.current,{middleware:ze(n),placement:ze(o),strategy:ze(i)}).then((t=>{pt(l,t.x,!0),pt(c,t.y,!0),pt(u,t.strategy,!0),pt(h,t.placement,!0),pt(p,t.middlewareData,!0),pt(f,!0)}))}function y(){"function"==typeof v&&(v(),v=void 0)}return St(m),St((function(){y(),void 0!==e?null!==a.current&&null!==d.current&&(v=e(a.current,d.current,m)):m()})),St((function(){ze(s)||pt(f,!1)})),St((()=>y)),{floating:d,reference:a,get strategy(){return ze(u)},get placement(){return ze(h)},get middlewareData(){return ze(p)},get isPositioned(){return ze(f)},get floatingStyles(){return ze(g)},get update(){return m}}}var Qp={top:"bottom",right:"left",bottom:"top",left:"right"},tf=class{anchorNode=hc(null);customAnchorNode=hc(null);triggerNode=hc(null);constructor(){St((()=>{this.customAnchorNode.current?"string"==typeof this.customAnchorNode.current?this.anchorNode.current=document.querySelector(this.customAnchorNode.current):this.anchorNode.current=this.customAnchorNode.current:this.anchorNode.current=this.triggerNode.current}))}},ef=class{opts;root;contentRef=hc(null);wrapperRef=hc(null);arrowRef=hc(null);arrowId=hc(jd());#qs=Z((()=>"string"==typeof this.opts.style?Cc(this.opts.style):this.opts.style?void 0:{}));#Ks=void 0;#Xs=new Uc((()=>this.arrowRef.current??void 0));#Ys=Z((()=>this.#Xs?.width??0));#Gs=Z((()=>this.#Xs?.height??0));#Js=Z((()=>this.opts.side?.current+("center"!==this.opts.align.current?`-${this.opts.align.current}`:"")));#Zs=Z((()=>Array.isArray(this.opts.collisionBoundary.current)?this.opts.collisionBoundary.current:[this.opts.collisionBoundary.current]));#Qs=Z((()=>ze(this.#Zs).length>0));get hasExplicitBoundaries(){return ze(this.#Qs)}set hasExplicitBoundaries(t){pt(this.#Qs,t)}#tn=Z((()=>({padding:this.opts.collisionPadding.current,boundary:ze(this.#Zs).filter(kd),altBoundary:this.hasExplicitBoundaries})));get detectOverflowOptions(){return ze(this.#tn)}set detectOverflowOptions(t){pt(this.#tn,t)}#en=dt(void 0);#sn=dt(void 0);#nn=dt(void 0);#rn=dt(void 0);#on=Z((()=>{return[Bp({mainAxis:this.opts.sideOffset.current+ze(this.#Gs),alignmentAxis:this.opts.alignOffset.current}),this.opts.avoidCollisions.current&&Vp({mainAxis:!0,crossAxis:!1,limiter:"partial"===this.opts.sticky.current?qp():void 0,...this.detectOverflowOptions}),this.opts.avoidCollisions.current&&jp({...this.detectOverflowOptions}),Up({...this.detectOverflowOptions,apply:({rects:t,availableWidth:e,availableHeight:s})=>{const{width:n,height:r}=t.reference;pt(this.#en,e,!0),pt(this.#sn,s,!0),pt(this.#nn,n,!0),pt(this.#rn,r,!0)}}),this.arrowRef.current&&Hp({element:this.arrowRef.current,padding:this.opts.arrowPadding.current}),(t={arrowWidth:ze(this.#Ys),arrowHeight:ze(this.#Gs)},{name:"transformOrigin",options:t,fn(e){const{placement:s,rects:n,middlewareData:r}=e,o=0!==r.arrow?.centerOffset,i=o?0:t.arrowWidth,a=o?0:t.arrowHeight,[l,c]=of(s),d={start:"0%",center:"50%",end:"100%"}[c],u=(r.arrow?.x??0)+i/2,h=(r.arrow?.y??0)+a/2;let p="",f="";return"bottom"===l?(p=o?d:`${u}px`,f=-a+"px"):"top"===l?(p=o?d:`${u}px`,f=`${n.floating.height+a}px`):"right"===l?(p=-a+"px",f=o?d:`${h}px`):"left"===l&&(p=`${n.floating.width+a}px`,f=o?d:`${h}px`),{data:{x:p,y:f}}}}),this.opts.hideWhenDetached.current&&Wp({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean);var t}));get middleware(){return ze(this.#on)}set middleware(t){pt(this.#on,t)}floating;#in=Z((()=>of(this.floating.placement)[0]));get placedSide(){return ze(this.#in)}set placedSide(t){pt(this.#in,t)}#an=Z((()=>of(this.floating.placement)[1]));get placedAlign(){return ze(this.#an)}set placedAlign(t){pt(this.#an,t)}#ln=Z((()=>this.floating.middlewareData.arrow?.x??0));get arrowX(){return ze(this.#ln)}set arrowX(t){pt(this.#ln,t)}#cn=Z((()=>this.floating.middlewareData.arrow?.y??0));get arrowY(){return ze(this.#cn)}set arrowY(t){pt(this.#cn,t)}#dn=Z((()=>0!==this.floating.middlewareData.arrow?.centerOffset));get cannotCenterArrow(){return ze(this.#dn)}set cannotCenterArrow(t){pt(this.#dn,t)}#un=dt();get contentZIndex(){return ze(this.#un)}set contentZIndex(t){pt(this.#un,t,!0)}#hn=Z((()=>Qp[this.placedSide]));get arrowBaseSide(){return ze(this.#hn)}set arrowBaseSide(t){pt(this.#hn,t)}#pn=Z((()=>({id:this.opts.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${this.floating.middlewareData.transformOrigin?.x} ${this.floating.middlewareData.transformOrigin?.y}`,"--bits-floating-available-width":`${ze(this.#en)}px`,"--bits-floating-available-height":`${ze(this.#sn)}px`,"--bits-floating-anchor-width":`${ze(this.#nn)}px`,"--bits-floating-anchor-height":`${ze(this.#rn)}px`,...this.floating.middlewareData.hide?.referenceHidden&&{visibility:"hidden","pointer-events":"none"},...ze(this.#qs)},dir:this.opts.dir.current})));get wrapperProps(){return ze(this.#pn)}set wrapperProps(t){pt(this.#pn,t)}#us=Z((()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:Tc({...ze(this.#qs)})})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}#fn=Z((()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0})));get arrowStyle(){return ze(this.#fn)}set arrowStyle(t){pt(this.#fn,t)}constructor(t,e){this.opts=t,this.root=e,t.customAnchor&&(this.root.customAnchorNode.current=t.customAnchor.current),jc((()=>t.customAnchor.current),(t=>{this.root.customAnchorNode.current=t})),Kc({id:this.opts.wrapperId,ref:this.wrapperRef,deps:()=>this.opts.enabled.current}),Kc({id:this.opts.id,ref:this.contentRef,deps:()=>this.opts.enabled.current}),this.floating=Zp({strategy:()=>this.opts.strategy.current,placement:()=>ze(this.#Js),middleware:()=>this.middleware,reference:this.root.anchorNode,whileElementsMounted:(...t)=>Lp(...t,{animationFrame:"always"===this.#Ks?.current}),open:()=>this.opts.enabled.current}),St((()=>{this.floating.isPositioned&&this.opts.onPlaced?.current()})),jc((()=>this.contentRef.current),(t=>{t&&(this.contentZIndex=window.getComputedStyle(t).zIndex)})),St((()=>{this.floating.floating.current=this.wrapperRef.current}))}},sf=class{opts;root;ref=hc(null);constructor(t,e){this.opts=t,this.root=e,t.virtualEl&&t.virtualEl.current?e.triggerNode=hc.from(t.virtualEl.current):Kc({id:t.id,ref:this.ref,onRefChange:t=>{e.triggerNode.current=t}})}},nf=new Hc("Floating.Root"),rf=new Hc("Floating.Content");function of(t){const[e,s="center"]=t.split("-");return[e,s]}function af(t,e){W(e,!0),nf.set(new tf);var s=us();Ss(xt(s),(()=>e.children??h)),hs(t,s),H()}function lf(t,e=1e4,s=Ud){let n=null,r=dt(Y(t));return St((()=>()=>{n&&clearTimeout(n)})),hc.with((()=>ze(r)),(o=>{pt(r,o,!0),s(o),n&&clearTimeout(n),n=window.setTimeout((()=>{pt(r,t,!0),s(t)}),e)}))}function cf(t){const e=lf("",1e3),s=t?.onMatch??(t=>t.focus()),n=t?.getCurrentItem??(()=>document.activeElement);return{search:e,handleTypeaheadSearch:function(t,r){if(!r.length)return;e.current=e.current+t;const o=n(),i=r.find((t=>t===o))?.textContent?.trim()??"",a=fh(r.map((t=>t.textContent?.trim()??"")),e.current,i),l=r.find((t=>t.textContent?.trim()===a));return l&&s(l),l},resetTypeahead:function(){e.current=""}}}function df(t){const e=lf("",1e3),s=Z((()=>t.candidateValues()));return{search:e,handleTypeaheadSearch:function(n){if(!t.enabled)return;if(!ze(s).length)return;e.current=e.current+n;const r=t.getCurrentItem(),o=ze(s).find((t=>t===r))??"",i=fh(ze(s).map((t=>t??"")),e.current,o),a=ze(s).find((t=>t===i));return a&&t.onMatch(a),a},resetTypeahead:function(){e.current=""}}}var uf=[nd,ud,cd,id,dd,ad],hf=class{opts;#gn=dt(!1);get touchedInput(){return ze(this.#gn)}set touchedInput(t){pt(this.#gn,t,!0)}#vn=dt("");get inputValue(){return ze(this.#vn)}set inputValue(t){pt(this.#vn,t,!0)}#mn=dt(null);get inputNode(){return ze(this.#mn)}set inputNode(t){pt(this.#mn,t,!0)}#yn=dt(null);get contentNode(){return ze(this.#yn)}set contentNode(t){pt(this.#yn,t,!0)}#bn=dt(null);get triggerNode(){return ze(this.#bn)}set triggerNode(t){pt(this.#bn,t,!0)}#wn=dt("");get valueId(){return ze(this.#wn)}set valueId(t){pt(this.#wn,t,!0)}#xn=dt(null);get highlightedNode(){return ze(this.#xn)}set highlightedNode(t){pt(this.#xn,t,!0)}#kn=Z((()=>this.highlightedNode?this.highlightedNode.getAttribute("data-value"):null));get highlightedValue(){return ze(this.#kn)}set highlightedValue(t){pt(this.#kn,t)}#_n=Z((()=>{if(this.highlightedNode)return this.highlightedNode.id}));get highlightedId(){return ze(this.#_n)}set highlightedId(t){pt(this.#_n,t)}#Mn=Z((()=>this.highlightedNode?this.highlightedNode.getAttribute("data-label"):null));get highlightedLabel(){return ze(this.#Mn)}set highlightedLabel(t){pt(this.#Mn,t)}isUsingKeyboard=!1;isCombobox=!1;bitsAttrs;constructor(t){this.opts=t,this.isCombobox=t.isCombobox,this.bitsAttrs=Sf(this),Pt((()=>{this.opts.open.current||this.setHighlightedNode(null)}))}setHighlightedNode(t,e=!1){this.highlightedNode=t,t&&(this.isUsingKeyboard||e)&&t.scrollIntoView({block:this.opts.scrollAlignment.current})}getCandidateNodes(){const t=this.contentNode;return t?Array.from(t.querySelectorAll(`[${this.bitsAttrs.item}]:not([data-disabled])`)):[]}setHighlightedToFirstCandidate(){this.setHighlightedNode(null);const t=this.getCandidateNodes();t.length&&this.setHighlightedNode(t[0])}getNodeByValue(t){return this.getCandidateNodes().find((e=>e.dataset.value===t))??null}setOpen(t){this.opts.open.current=t}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleOpen(){this.setOpen(!0)}handleClose(){this.setHighlightedNode(null),this.setOpen(!1)}toggleMenu(){this.toggleOpen()}},pf=class extends hf{opts;isMulti=!1;#An=Z((()=>""!==this.opts.value.current));get hasValue(){return ze(this.#An)}set hasValue(t){pt(this.#An,t)}#$n=Z((()=>{if(!this.opts.items.current.length)return"";const t=this.opts.items.current.find((t=>t.value===this.opts.value.current))?.label;return t??""}));get currentLabel(){return ze(this.#$n)}set currentLabel(t){pt(this.#$n,t)}#Sn=Z((()=>this.opts.items.current.length?this.opts.items.current.filter((t=>!t.disabled)).map((t=>t.label)):[]));get candidateLabels(){return ze(this.#Sn)}set candidateLabels(t){pt(this.#Sn,t)}#Pn=Z((()=>!this.isMulti&&0!==this.opts.items.current.length));get dataTypeaheadEnabled(){return ze(this.#Pn)}set dataTypeaheadEnabled(t){pt(this.#Pn,t)}constructor(t){super(t),this.opts=t,St((()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)})),jc((()=>this.opts.open.current),(()=>{this.opts.open.current&&this.setInitialHighlightedNode()}))}includesItem(t){return this.opts.value.current===t}toggleItem(t,e=t){this.opts.value.current=this.includesItem(t)?"":t,this.inputValue=e}setInitialHighlightedNode(){Yc((()=>{if(this.highlightedNode&&document.contains(this.highlightedNode))return;if(""!==this.opts.value.current){const t=this.getNodeByValue(this.opts.value.current);if(t)return void this.setHighlightedNode(t,!0)}const t=this.getCandidateNodes()[0];t&&this.setHighlightedNode(t,!0)}))}},ff=class extends hf{opts;isMulti=!0;#An=Z((()=>this.opts.value.current.length>0));get hasValue(){return ze(this.#An)}set hasValue(t){pt(this.#An,t)}constructor(t){super(t),this.opts=t,St((()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)})),jc((()=>this.opts.open.current),(()=>{this.opts.open.current&&this.setInitialHighlightedNode()}))}includesItem(t){return this.opts.value.current.includes(t)}toggleItem(t,e=t){this.includesItem(t)?this.opts.value.current=this.opts.value.current.filter((e=>e!==t)):this.opts.value.current=[...this.opts.value.current,t],this.inputValue=e}setInitialHighlightedNode(){Yc((()=>{if(this.highlightedNode&&document.contains(this.highlightedNode))return;if(this.opts.value.current.length&&""!==this.opts.value.current[0]){const t=this.getNodeByValue(this.opts.value.current[0]);if(t)return void this.setHighlightedNode(t,!0)}const t=this.getCandidateNodes()[0];t&&this.setHighlightedNode(t,!0)}))}},gf=class{opts;root;#Cn;#In;constructor(t,e){this.opts=t,this.root=e,Kc({...t,onRefChange:t=>{this.root.triggerNode=t}}),this.#Cn=cf({getCurrentItem:()=>this.root.highlightedNode,onMatch:t=>{this.root.setHighlightedNode(t)}}),this.#In=df({getCurrentItem:()=>this.root.isMulti?"":this.root.currentLabel,onMatch:t=>{if(this.root.isMulti)return;if(!this.root.opts.items.current)return;const e=this.root.opts.items.current.find((e=>e.label===t));e&&(this.root.opts.value.current=e.value)},enabled:!this.root.isMulti&&this.root.dataTypeaheadEnabled,candidateValues:()=>this.root.isMulti?[]:this.root.candidateLabels}),this.onkeydown=this.onkeydown.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onclick=this.onclick.bind(this)}#En(){this.root.opts.open.current=!0,this.#In.resetTypeahead(),this.#Cn.resetTypeahead()}#Fn(t){this.#En()}#Tn(){const t=this.root.highlightedValue===this.root.opts.value.current;return this.root.opts.allowDeselect.current||!t||this.root.isMulti?(null!==this.root.highlightedValue&&this.root.toggleItem(this.root.highlightedValue,this.root.highlightedLabel??void 0),!this.root.isMulti&&!t&&(this.root.handleClose(),!0)):(this.root.handleClose(),!0)}onkeydown(t){if(this.root.isUsingKeyboard=!0,t.key!==id&&t.key!==nd||t.preventDefault(),!this.root.opts.open.current){if(t.key===ld||t.key===hd||t.key===nd||t.key===id)t.preventDefault(),this.root.handleOpen();else if(!this.root.isMulti&&this.root.dataTypeaheadEnabled)return void this.#In.handleTypeaheadSearch(t.key);if(this.root.hasValue)return;const e=this.root.getCandidateNodes();if(!e.length)return;if(t.key===nd){const t=e[0];this.root.setHighlightedNode(t)}else if(t.key===id){const t=e[e.length-1];this.root.setHighlightedNode(t)}return}if(t.key===pd)return void this.root.handleClose();if((t.key===ld||t.key===hd&&""===this.#Cn.search.current)&&!t.isComposing&&(t.preventDefault(),this.#Tn()))return;if(t.key===id&&t.altKey&&this.root.handleClose(),uf.includes(t.key)){t.preventDefault();const e=this.root.getCandidateNodes(),s=this.root.highlightedNode,n=s?e.indexOf(s):-1,r=this.root.opts.loop.current;let o;if(t.key===nd?o=dh(e,n,r):t.key===id?o=uh(e,n,r):t.key===dd?o=hh(e,n,10,r):t.key===ud?o=ph(e,n,10,r):t.key===cd?o=e[0]:t.key===ad&&(o=e[e.length-1]),!o)return;return void this.root.setHighlightedNode(o)}const e=t.ctrlKey||t.altKey||t.metaKey,s=1===t.key.length,n=t.key===hd,r=this.root.getCandidateNodes();t.key!==pd&&(e||!s&&!n?this.root.highlightedNode||this.root.setHighlightedToFirstCandidate():!this.#Cn.handleTypeaheadSearch(t.key,r)&&n&&(t.preventDefault(),this.#Tn()))}onclick(t){t.currentTarget.focus()}onpointerdown(t){if(this.root.opts.disabled.current)return;if("touch"===t.pointerType)return t.preventDefault();const e=t.target;e?.hasPointerCapture(t.pointerId)&&e?.releasePointerCapture(t.pointerId),0===t.button&&!1===t.ctrlKey&&(!1===this.root.opts.open.current?this.#Fn(t):this.root.handleClose())}onpointerup(t){t.preventDefault(),"touch"===t.pointerType&&(!1===this.root.opts.open.current?this.#Fn(t):this.root.handleClose())}#us=Z((()=>({id:this.opts.id.current,disabled:!!this.root.opts.disabled.current||void 0,"aria-haspopup":"listbox","aria-expanded":Qc(this.root.opts.open.current),"aria-activedescendant":this.root.highlightedId,"data-state":Jc(this.root.opts.open.current),"data-disabled":td(this.root.opts.disabled.current),"data-placeholder":this.root.hasValue?void 0:"",[this.root.bitsAttrs.trigger]:"",onpointerdown:this.onpointerdown,onkeydown:this.onkeydown,onclick:this.onclick,onpointerup:this.onpointerup})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},vf=class{opts;root;#Nn=dt(null);get viewportNode(){return ze(this.#Nn)}set viewportNode(t){pt(this.#Nn,t,!0)}#On=dt(!1);get isPositioned(){return ze(this.#On)}set isPositioned(t){pt(this.#On,t,!0)}constructor(t,e){this.opts=t,this.root=e,Kc({...t,onRefChange:t=>{this.root.contentNode=t},deps:()=>this.root.opts.open.current}),qc((()=>{this.root.contentNode=null,this.isPositioned=!1})),jc((()=>this.root.opts.open.current),(()=>{this.root.opts.open.current||(this.isPositioned=!1)})),this.onpointermove=this.onpointermove.bind(this)}onpointermove(t){this.root.isUsingKeyboard=!1}#Rn=Z((()=>{const t=this.root.isCombobox?"--bits-combobox":"--bits-select";return{[`${t}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`${t}-content-available-width`]:"var(--bits-floating-available-width)",[`${t}-content-available-height`]:"var(--bits-floating-available-height)",[`${t}-anchor-width`]:" var(--bits-floating-anchor-width)",[`${t}-anchor-height`]:"var(--bits-floating-anchor-height)"}}));onInteractOutside=t=>{t.target!==this.root.triggerNode&&t.target!==this.root.inputNode?(this.opts.onInteractOutside.current(t),t.defaultPrevented||this.root.handleClose()):t.preventDefault()};onEscapeKeydown=t=>{this.opts.onEscapeKeydown.current(t),t.defaultPrevented||this.root.handleClose()};onOpenAutoFocus=t=>{t.preventDefault()};onCloseAutoFocus=t=>{t.preventDefault()};#ys=Z((()=>({open:this.root.opts.open.current})));get snippetProps(){return ze(this.#ys)}set snippetProps(t){pt(this.#ys,t)}#us=Z((()=>({id:this.opts.id.current,role:"listbox","aria-multiselectable":this.root.isMulti?"true":void 0,"data-state":Jc(this.root.opts.open.current),[this.root.bitsAttrs.content]:"",style:{display:"flex",flexDirection:"column",outline:"none",boxSizing:"border-box",pointerEvents:"auto",...ze(this.#Rn)},onpointermove:this.onpointermove})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus,trapFocus:!1,loop:!1,onPlaced:()=>{this.isPositioned=!0}}},mf=class{opts;root;#zn=Z((()=>this.root.includesItem(this.opts.value.current)));get isSelected(){return ze(this.#zn)}set isSelected(t){pt(this.#zn,t)}#Dn=Z((()=>this.root.highlightedValue===this.opts.value.current));get isHighlighted(){return ze(this.#Dn)}set isHighlighted(t){pt(this.#Dn,t)}prevHighlighted=new Wc((()=>this.isHighlighted));#Ln=dt(!1);get mounted(){return ze(this.#Ln)}set mounted(t){pt(this.#Ln,t,!0)}constructor(t,e){this.opts=t,this.root=e,Kc({...t,deps:()=>this.mounted}),jc([()=>this.isHighlighted,()=>this.prevHighlighted.current],(()=>{this.isHighlighted?this.opts.onHighlight.current():this.prevHighlighted.current&&this.opts.onUnhighlight.current()})),jc((()=>this.mounted),(()=>{this.mounted&&this.root.setInitialHighlightedNode()})),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onpointermove=this.onpointermove.bind(this)}handleSelect(){if(this.opts.disabled.current)return;const t=this.opts.value.current===this.root.opts.value.current;this.root.opts.allowDeselect.current||!t||this.root.isMulti?(this.root.toggleItem(this.opts.value.current,this.opts.label.current),this.root.isMulti||t||this.root.handleClose()):this.root.handleClose()}#ys=Z((()=>({selected:this.isSelected,highlighted:this.isHighlighted})));get snippetProps(){return ze(this.#ys)}set snippetProps(t){pt(this.#ys,t)}onpointerdown(t){t.preventDefault()}onpointerup(t){!t.defaultPrevented&&this.opts.ref.current&&("touch"!==t.pointerType||yd?(t.preventDefault(),this.handleSelect(),"touch"===t.pointerType&&this.root.setHighlightedNode(this.opts.ref.current)):ss(this.opts.ref.current,"click",(()=>{this.handleSelect(),this.root.setHighlightedNode(this.opts.ref.current)}),{once:!0}))}onpointermove(t){"touch"!==t.pointerType&&this.root.highlightedNode!==this.opts.ref.current&&this.root.setHighlightedNode(this.opts.ref.current)}#us=Z((()=>({id:this.opts.id.current,role:"option","aria-selected":this.root.includesItem(this.opts.value.current)?"true":void 0,"data-value":this.opts.value.current,"data-disabled":td(this.opts.disabled.current),"data-highlighted":this.root.highlightedValue!==this.opts.value.current||this.opts.disabled.current?void 0:"","data-selected":this.root.includesItem(this.opts.value.current)?"":void 0,"data-label":this.opts.label.current,[this.root.bitsAttrs.item]:"",onpointermove:this.onpointermove,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},yf=class{opts;root;#Bn=Z((()=>""!==this.root.opts.name.current));get shouldRender(){return ze(this.#Bn)}set shouldRender(t){pt(this.#Bn,t)}constructor(t,e){this.opts=t,this.root=e,this.onfocus=this.onfocus.bind(this)}onfocus(t){t.preventDefault(),this.root.isCombobox?this.root.inputNode?.focus():this.root.triggerNode?.focus()}#us=Z((()=>{return{disabled:sd(this.root.opts.disabled.current),required:(t=this.root.opts.required.current,!!t||void 0),name:this.root.opts.name.current,value:this.opts.value.current,onfocus:this.onfocus};var t}));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},bf=class{opts;content;root;#Vn=dt(0);get prevScrollTop(){return ze(this.#Vn)}set prevScrollTop(t){pt(this.#Vn,t,!0)}constructor(t,e){this.opts=t,this.content=e,this.root=e.root,Kc({...t,onRefChange:t=>{this.content.viewportNode=t},deps:()=>this.root.opts.open.current})}#us=Z((()=>({id:this.opts.id.current,role:"presentation",[this.root.bitsAttrs.viewport]:"",style:{position:"relative",flex:1,overflow:"auto"}})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},wf=class{opts;content;root;autoScrollTimer=null;userScrollTimer=-1;isUserScrolling=!1;onAutoScroll=Ud;#Ln=dt(!1);get mounted(){return ze(this.#Ln)}set mounted(t){pt(this.#Ln,t,!0)}constructor(t,e){this.opts=t,this.content=e,this.root=e.root,Kc({...t,deps:()=>this.mounted}),jc([()=>this.mounted],(()=>{this.mounted?this.isUserScrolling:this.isUserScrolling=!1})),St((()=>{this.mounted||this.clearAutoScrollInterval()})),this.onpointerdown=this.onpointerdown.bind(this),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this)}handleUserScroll(){window.clearTimeout(this.userScrollTimer),this.isUserScrolling=!0,this.userScrollTimer=window.setTimeout((()=>{this.isUserScrolling=!1}),200)}clearAutoScrollInterval(){null!==this.autoScrollTimer&&(window.clearTimeout(this.autoScrollTimer),this.autoScrollTimer=null)}onpointerdown(t){if(null!==this.autoScrollTimer)return;const e=t=>{this.onAutoScroll(),this.autoScrollTimer=window.setTimeout((()=>e(t+1)),this.opts.delay.current(t))};this.autoScrollTimer=window.setTimeout((()=>e(1)),this.opts.delay.current(0))}onpointermove(t){this.onpointerdown(t)}onpointerleave(t){this.clearAutoScrollInterval()}#us=Z((()=>({id:this.opts.id.current,"aria-hidden":"true",style:{flexShrink:0},onpointerdown:this.onpointerdown,onpointermove:this.onpointermove,onpointerleave:this.onpointerleave})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},xf=class{state;content;root;#jn=dt(!1);get canScrollDown(){return ze(this.#jn)}set canScrollDown(t){pt(this.#jn,t,!0)}scrollIntoViewTimer=null;constructor(t){this.state=t,this.content=t.content,this.root=t.root,this.state.onAutoScroll=this.handleAutoScroll,jc([()=>this.content.viewportNode,()=>this.content.isPositioned],(()=>{if(this.content.viewportNode&&this.content.isPositioned)return this.handleScroll(!0),ss(this.content.viewportNode,"scroll",(()=>this.handleScroll()))})),jc((()=>this.state.mounted),(()=>{this.state.mounted&&(this.scrollIntoViewTimer&&clearTimeout(this.scrollIntoViewTimer),this.scrollIntoViewTimer=Xc(5,(()=>{const t=this.root.highlightedNode;t?.scrollIntoView({block:this.root.opts.scrollAlignment.current})})))}))}handleScroll=(t=!1)=>{if(t||this.state.handleUserScroll(),!this.content.viewportNode)return;const e=this.content.viewportNode.scrollHeight-this.content.viewportNode.clientHeight,s=Number.parseInt(getComputedStyle(this.content.viewportNode).paddingTop,10);this.canScrollDown=Math.ceil(this.content.viewportNode.scrollTop)<e-s};handleAutoScroll=()=>{const t=this.content.viewportNode,e=this.root.highlightedNode;t&&e&&(t.scrollTop=t.scrollTop+e.offsetHeight)};#us=Z((()=>({...this.state.props,[this.root.bitsAttrs["scroll-down-button"]]:""})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},kf=class{state;content;root;#Un=dt(!1);get canScrollUp(){return ze(this.#Un)}set canScrollUp(t){pt(this.#Un,t,!0)}constructor(t){this.state=t,this.content=t.content,this.root=t.root,this.state.onAutoScroll=this.handleAutoScroll,jc([()=>this.content.viewportNode,()=>this.content.isPositioned],(()=>{if(this.content.viewportNode&&this.content.isPositioned)return this.handleScroll(!0),ss(this.content.viewportNode,"scroll",(()=>this.handleScroll()))}))}handleScroll=(t=!1)=>{if(t||this.state.handleUserScroll(),!this.content.viewportNode)return;const e=Number.parseInt(getComputedStyle(this.content.viewportNode).paddingTop,10);this.canScrollUp=this.content.viewportNode.scrollTop-e>.1};handleAutoScroll=()=>{this.content.viewportNode&&this.root.highlightedNode&&(this.content.viewportNode.scrollTop=this.content.viewportNode.scrollTop-this.root.highlightedNode.offsetHeight)};#us=Z((()=>({...this.state.props,[this.root.bitsAttrs["scroll-up-button"]]:""})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},_f=new Hc("Select.Root | Combobox.Root"),Mf=new Hc("Select.Content | Combobox.Content");function Af(t){const{type:e,...s}=t,n="single"===e?new pf(s):new ff(s);return _f.set(n)}var $f=["trigger","content","item","viewport","scroll-up-button","scroll-down-button","group","group-label","separator","arrow","input","content-wrapper","item-text","value"];function Sf(t){const e=t.isCombobox,s={};for(const t of $f)s[t]=e?`data-combobox-${t}`:`data-select-${t}`;return s}function Pf(t,e){W(e,!0);let s=Pn(e,"value",15,"");const n=(r={value:hc.with((()=>s()))},new yf(r,_f.get()));var r,o=us(),i=xt(o),a=t=>{yh(t,$n((()=>n.props),{get value(){return s()},set value(t){s(t)}}))};ys(i,(t=>{n.shouldRender&&t(a)})),hs(t,o),H()}function Cf(t,e){var s;W(e,!0),s={id:hc.with((()=>e.id)),virtualEl:hc.with((()=>e.virtualEl))},new sf(s,nf.get());var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n),H()}function If(t,e){W(e,!0);let s=Pn(e,"side",3,"bottom"),n=Pn(e,"sideOffset",3,0),r=Pn(e,"align",3,"center"),o=Pn(e,"alignOffset",3,0),i=Pn(e,"arrowPadding",3,0),a=Pn(e,"avoidCollisions",3,!0),l=Pn(e,"collisionBoundary",19,(()=>[])),c=Pn(e,"collisionPadding",3,0),d=Pn(e,"hideWhenDetached",3,!1),u=Pn(e,"onPlaced",3,(()=>{})),p=Pn(e,"sticky",3,"partial"),f=Pn(e,"updatePositionStrategy",3,"optimized"),g=Pn(e,"strategy",3,"fixed"),v=Pn(e,"dir",3,"ltr"),m=Pn(e,"style",19,(()=>({}))),y=Pn(e,"wrapperId",19,jd),b=Pn(e,"customAnchor",3,null);const w=(x={side:hc.with((()=>s())),sideOffset:hc.with((()=>n())),align:hc.with((()=>r())),alignOffset:hc.with((()=>o())),id:hc.with((()=>e.id)),arrowPadding:hc.with((()=>i())),avoidCollisions:hc.with((()=>a())),collisionBoundary:hc.with((()=>l())),collisionPadding:hc.with((()=>c())),hideWhenDetached:hc.with((()=>d())),onPlaced:hc.with((()=>u())),sticky:hc.with((()=>p())),updatePositionStrategy:hc.with((()=>f())),strategy:hc.with((()=>g())),dir:hc.with((()=>v())),style:hc.with((()=>m())),enabled:hc.with((()=>e.enabled)),wrapperId:hc.with((()=>y())),customAnchor:hc.with((()=>b()))},rf.set(new ef(x,nf.get())));var x;const k=Z((()=>Rc(w.wrapperProps,{style:{pointerEvents:"auto"}})));var _=us();Ss(xt(_),(()=>e.content??h),(()=>({props:w.props,wrapperProps:ze(k)}))),hs(t,_),H()}function Ef(t,e){W(e,!0),Cn((()=>{e.onPlaced?.()}));var s=us();Ss(xt(s),(()=>e.content??h),(()=>({props:{},wrapperProps:{}}))),hs(t,s),H()}function Ff(t,e){let s=Pn(e,"isStatic",3,!1),n=Mn(e,["$$slots","$$events","$$legacy","content","isStatic","onPlaced"]);var r=us(),o=xt(r),i=t=>{Ef(t,{get content(){return e.content},get onPlaced(){return e.onPlaced}})},a=t=>{If(t,$n({get content(){return e.content},get onPlaced(){return e.onPlaced}},(()=>n)))};ys(o,(t=>{s()?t(i):t(a,!1)})),hs(t,r)}var Tf=ls("<!> <!>",1);function Nf(t,e){W(e,!0);let s=Pn(e,"interactOutsideBehavior",3,"close"),n=Pn(e,"trapFocus",3,!0),r=Pn(e,"isValidEvent",3,(()=>!1)),o=Pn(e,"customAnchor",3,null),i=Pn(e,"isStatic",3,!1),a=Mn(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);{const l=(t,o)=>{var i=Tf(),l=xt(i),c=t=>{ch(0,{get preventScroll(){return e.preventScroll}})},d=(t,s)=>{var n=t=>{ch(0,{get preventScroll(){return e.preventScroll}})};ys(t,(t=>{e.forceMount||t(n)}),s)};ys(l,(t=>{e.forceMount&&e.enabled?t(c):t(d,!1)}));var u=kt(l,2);const p=Z((()=>e.enabled&&n()));{const t=(t,n)=>{yu(t,{get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get enabled(){return e.enabled},children:(t,i)=>{{const i=(t,s)=>{oh(t,{get id(){return e.id},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get enabled(){return e.enabled},children:(t,r)=>{var i=us(),l=xt(i),c=Q((()=>({props:Rc(a,o?.().props,s?.().props,n?.().props,{style:{pointerEvents:"auto"}}),wrapperProps:o?.().wrapperProps})));Ss(l,(()=>e.popper??h),(()=>ze(c))),hs(t,i)},$$slots:{default:!0}})};gu(t,{get id(){return e.id},get onInteractOutside(){return e.onInteractOutside},get onFocusOutside(){return e.onFocusOutside},get interactOutsideBehavior(){return s()},get isValidEvent(){return r()},get enabled(){return e.enabled},children:i,$$slots:{default:!0}})}},$$slots:{default:!0}})};Qu(u,{get id(){return e.id},get onOpenAutoFocus(){return e.onOpenAutoFocus},get onCloseAutoFocus(){return e.onCloseAutoFocus},get loop(){return e.loop},get trapFocus(){return ze(p)},get forceMount(){return e.forceMount},focusScope:t,$$slots:{focusScope:!0}})}hs(t,i)};Ff(t,{get isStatic(){return i()},get id(){return e.id},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return o()},get enabled(){return e.enabled},content:l,$$slots:{content:!0}})}H()}function Of(t,e){let s=Pn(e,"interactOutsideBehavior",3,"close"),n=Pn(e,"trapFocus",3,!0),r=Pn(e,"isValidEvent",3,(()=>!1)),o=Pn(e,"customAnchor",3,null),i=Pn(e,"isStatic",3,!1),a=Mn(e,["$$slots","$$events","$$legacy","popper","present","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic"]);{const l=t=>{Nf(t,$n({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return o()},get isStatic(){return i()},get enabled(){return e.present},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return s()},get loop(){return e.loop},get trapFocus(){return n()},get isValidEvent(){return r()},get onFocusOutside(){return e.onFocusOutside},forceMount:!1},(()=>a)))};eu(t,$n({get id(){return e.id},get present(){return e.present}},(()=>a),{presence:l,$$slots:{presence:!0}}))}}function Rf(t,e){let s=Pn(e,"interactOutsideBehavior",3,"close"),n=Pn(e,"trapFocus",3,!0),r=Pn(e,"isValidEvent",3,(()=>!1)),o=Pn(e,"customAnchor",3,null),i=Pn(e,"isStatic",3,!1),a=Mn(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);Nf(t,$n({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return o()},get isStatic(){return i()},get enabled(){return e.enabled},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return s()},get loop(){return e.loop},get trapFocus(){return n()},get isValidEvent(){return r()},get onFocusOutside(){return e.onFocusOutside}},(()=>a),{forceMount:!0}))}var zf=ls("<div><div><!></div></div>"),Df=ls("<div><div><!></div></div>");function Lf(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Pn(e,"forceMount",3,!1),o=Pn(e,"side",3,"bottom"),i=Pn(e,"onInteractOutside",3,Ud),a=Pn(e,"onEscapeKeydown",3,Ud),l=Pn(e,"preventScroll",3,!1),c=Mn(e,["$$slots","$$events","$$legacy","id","ref","forceMount","side","onInteractOutside","onEscapeKeydown","children","child","preventScroll"]);const d=(u={id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t))),onInteractOutside:hc.with((()=>i())),onEscapeKeydown:hc.with((()=>a()))},Mf.set(new vf(u,_f.get())));var u;const p=Z((()=>Rc(c,d.props)));var f=us(),g=xt(f),v=t=>{{const n=(t,s)=>{let n=()=>s?.().wrapperProps;var r=us();const o=Z((()=>Rc(s?.().props,{style:d.props.style})));var i=xt(r),a=t=>{var s=us(),r=xt(s),i=Q((()=>({props:ze(o),wrapperProps:n(),...d.snippetProps})));Ss(r,(()=>e.child),(()=>ze(i))),hs(t,s)},l=t=>{var s=zf();let r;var i=wt(s);let a;Ss(wt(i),(()=>e.children??h)),Nt((()=>{r=qs(s,r,{...n()}),a=qs(i,a,{...ze(o)})})),hs(t,s)};ys(i,(t=>{e.child?t(a):t(l,!1)})),hs(t,r)};Rf(t,$n((()=>ze(p)),(()=>d.popperProps),{get side(){return o()},get enabled(){return d.root.opts.open.current},get id(){return s()},get preventScroll(){return l()},forceMount:!0,popper:n,$$slots:{popper:!0}}))}},m=(t,n)=>{var i=t=>{{const n=(t,s)=>{let n=()=>s?.().wrapperProps;var r=us();const o=Z((()=>Rc(s?.().props,{style:d.props.style})));var i=xt(r),a=t=>{var s=us(),r=xt(s),i=Q((()=>({props:ze(o),wrapperProps:n(),...d.snippetProps})));Ss(r,(()=>e.child),(()=>ze(i))),hs(t,s)},l=t=>{var s=Df();let r;var i=wt(s);let a;Ss(wt(i),(()=>e.children??h)),Nt((()=>{r=qs(s,r,{...n()}),a=qs(i,a,{...ze(o)})})),hs(t,s)};ys(i,(t=>{e.child?t(a):t(l,!1)})),hs(t,r)};Of(t,$n((()=>ze(p)),(()=>d.popperProps),{get side(){return o()},get present(){return d.root.opts.open.current},get id(){return s()},get preventScroll(){return l()},forceMount:!1,popper:n,$$slots:{popper:!0}}))}};ys(t,(t=>{r()||t(i)}),n)};ys(g,(t=>{r()?t(v):t(m,!1)})),hs(t,f),H()}function Bf(t,e){W(e,!0);let s=Pn(e,"mounted",15,!1),n=Pn(e,"onMountedChange",3,Ud);Gc((()=>(s(!0),n()(!0),()=>{s(!1),n()(!1)}))),H()}var Vf=ls("<div><!></div>"),jf=ls("<!> <!>",1);function Uf(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Pn(e,"label",19,(()=>e.value)),o=Pn(e,"disabled",3,!1),i=Pn(e,"onHighlight",3,Ud),a=Pn(e,"onUnhighlight",3,Ud),l=Mn(e,["$$slots","$$events","$$legacy","id","ref","value","label","disabled","children","child","onHighlight","onUnhighlight"]);const c=(d={id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t))),value:hc.with((()=>e.value)),disabled:hc.with((()=>o())),label:hc.with((()=>r())),onHighlight:hc.with((()=>i())),onUnhighlight:hc.with((()=>a()))},new mf(d,_f.get()));var d;const u=Z((()=>Rc(l,c.props)));var p=jf(),f=xt(p),g=t=>{var s=us(),n=xt(s),r=Q((()=>({props:ze(u),...c.snippetProps})));Ss(n,(()=>e.child),(()=>ze(r))),hs(t,s)},v=t=>{var s=Vf();let n;Ss(wt(s),(()=>e.children??h),(()=>c.snippetProps)),Nt((()=>n=qs(s,n,{...ze(u)}))),hs(t,s)};ys(f,(t=>{e.child?t(g):t(v,!1)})),kt(f,2),Bf(0,{get mounted(){return c.mounted},set mounted(t){c.mounted=t}}),hs(t,p),H()}var Wf=ls("<div><!></div>");function Hf(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Mn(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const o=(i={id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t)))},new bf(i,Mf.get()));var i;const a=Z((()=>Rc(r,o.props)));var l=us(),c=xt(l),d=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(a)}))),hs(t,s)},u=t=>{var s=Wf();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(a)}))),hs(t,s)};ys(c,(t=>{e.child?t(d):t(u,!1)})),hs(t,l),H()}var qf=ls("<div><!></div>"),Kf=ls("<!> <!>",1);function Xf(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Pn(e,"delay",3,(()=>50)),o=Mn(e,["$$slots","$$events","$$legacy","id","ref","delay","child","children"]);const i=(a={id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t))),delay:hc.with((()=>r()))},new xf(new wf(a,Mf.get())));var a;const l=Z((()=>Rc(o,i.props)));var c=us(),d=xt(c),u=t=>{var s=Kf(),n=xt(s);Bf(0,{get mounted(){return i.state.mounted},set mounted(t){i.state.mounted=t}});var r=kt(n,2),a=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:o}))),hs(t,s)},c=t=>{var s=qf();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(l)}))),hs(t,s)};ys(r,(t=>{e.child?t(a):t(c,!1)})),hs(t,s)};ys(d,(t=>{i.canScrollDown&&t(u)})),hs(t,c),H()}var Yf=ls("<div><!></div>"),Gf=ls("<!> <!>",1);function Jf(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Pn(e,"delay",3,(()=>50)),o=Mn(e,["$$slots","$$events","$$legacy","id","ref","delay","child","children"]);const i=(a={id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t))),delay:hc.with((()=>r()))},new kf(new wf(a,Mf.get())));var a;const l=Z((()=>Rc(o,i.props)));var c=us(),d=xt(c),u=t=>{var s=Gf(),n=xt(s);Bf(0,{get mounted(){return i.state.mounted},set mounted(t){i.state.mounted=t}});var r=kt(n,2),a=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:o}))),hs(t,s)},c=t=>{var s=Yf();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(l)}))),hs(t,s)};ys(r,(t=>{e.child?t(a):t(c,!1)})),hs(t,s)};ys(d,(t=>{i.canScrollUp&&t(u)})),hs(t,c),H()}var Zf=class{opts;#yn=dt(null);get contentNode(){return ze(this.#yn)}set contentNode(t){pt(this.#yn,t,!0)}#bn=dt(null);get triggerNode(){return ze(this.#bn)}set triggerNode(t){pt(this.#bn,t,!0)}constructor(t){this.opts=t}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}},Qf=class{opts;root;constructor(t,e){this.opts=t,this.root=e,Kc({...t,onRefChange:t=>{this.root.triggerNode=t}}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||0===t.button&&this.root.toggleOpen()}onkeydown(t){this.opts.disabled.current||t.key!==ld&&t.key!==hd||(t.preventDefault(),this.root.toggleOpen())}#Wn(){if(this.root.opts.open.current&&this.root.contentNode?.id)return this.root.contentNode?.id}#us=Z((()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":Qc(this.root.opts.open.current),"data-state":Jc(this.root.opts.open.current),"aria-controls":this.#Wn(),"data-popover-trigger":"",disabled:this.opts.disabled.current,onkeydown:this.onkeydown,onclick:this.onclick})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},tg=class{opts;root;constructor(t,e){this.opts=t,this.root=e,Kc({...t,deps:()=>this.root.opts.open.current,onRefChange:t=>{this.root.contentNode=t}})}onInteractOutside=t=>{this.opts.onInteractOutside.current(t),t.defaultPrevented||wd(t.target)&&t.target.closest("[data-popover-trigger]")!==this.root.triggerNode&&this.root.handleClose()};onEscapeKeydown=t=>{this.opts.onEscapeKeydown.current(t),t.defaultPrevented||this.root.handleClose()};onCloseAutoFocus=t=>{this.opts.onCloseAutoFocus.current(t),t.defaultPrevented||(t.preventDefault(),this.root.triggerNode?.focus())};#ys=Z((()=>({open:this.root.opts.open.current})));get snippetProps(){return ze(this.#ys)}set snippetProps(t){pt(this.#ys,t)}#us=Z((()=>({id:this.opts.id.current,tabindex:-1,"data-state":Jc(this.root.opts.open.current),"data-popover-content":"",style:{pointerEvents:"auto"}})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onCloseAutoFocus:this.onCloseAutoFocus}},eg=new Hc("Popover.Root"),sg=ls("<div><div><!></div></div>"),ng=ls("<div><div><!></div></div>");function rg(t,e){W(e,!0);let s=Pn(e,"ref",15,null),n=Pn(e,"id",19,jd),r=Pn(e,"forceMount",3,!1),o=Pn(e,"onCloseAutoFocus",3,Ud),i=Pn(e,"onEscapeKeydown",3,Ud),a=Pn(e,"onInteractOutside",3,Ud),l=Pn(e,"trapFocus",3,!0),c=Pn(e,"preventScroll",3,!1),d=Mn(e,["$$slots","$$events","$$legacy","child","children","ref","id","forceMount","onCloseAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll"]);const u=(p={id:hc.with((()=>n())),ref:hc.with((()=>s()),(t=>s(t))),onInteractOutside:hc.with((()=>a())),onEscapeKeydown:hc.with((()=>i())),onCloseAutoFocus:hc.with((()=>o()))},new tg(p,eg.get()));var p;const f=Z((()=>Rc(d,u.props)));var g=us(),v=xt(g),m=t=>{{const s=(t,s)=>{let n=()=>s?.().wrapperProps;var r=us();const o=Z((()=>Rc(s?.().props,{style:Jp("popover")})));var i=xt(r),a=t=>{var s=us(),r=xt(s),i=Q((()=>({props:ze(o),wrapperProps:n(),...u.snippetProps})));Ss(r,(()=>e.child),(()=>ze(i))),hs(t,s)},l=t=>{var s=sg();let r;var i=wt(s);let a;Ss(wt(i),(()=>e.children??h)),Nt((()=>{r=qs(s,r,{...n()}),a=qs(i,a,{...ze(o)})})),hs(t,s)};ys(i,(t=>{e.child?t(a):t(l,!1)})),hs(t,r)};Rf(t,$n((()=>ze(f)),(()=>u.popperProps),{get enabled(){return u.root.opts.open.current},get id(){return n()},get trapFocus(){return l()},get preventScroll(){return c()},loop:!0,forceMount:!0,popper:s,$$slots:{popper:!0}}))}},y=(t,s)=>{var o=t=>{{const s=(t,s)=>{let n=()=>s?.().wrapperProps;var r=us();const o=Z((()=>Rc(s?.().props,{style:Jp("popover")})));var i=xt(r),a=t=>{var s=us(),r=xt(s),i=Q((()=>({props:ze(o),wrapperProps:n(),...u.snippetProps})));Ss(r,(()=>e.child),(()=>ze(i))),hs(t,s)},l=t=>{var s=ng();let r;var i=wt(s);let a;Ss(wt(i),(()=>e.children??h)),Nt((()=>{r=qs(s,r,{...n()}),a=qs(i,a,{...ze(o)})})),hs(t,s)};ys(i,(t=>{e.child?t(a):t(l,!1)})),hs(t,r)};Of(t,$n((()=>ze(f)),(()=>u.popperProps),{get present(){return u.root.opts.open.current},get id(){return n()},get trapFocus(){return l()},get preventScroll(){return c()},loop:!0,forceMount:!1,popper:s,$$slots:{popper:!0}}))}};ys(t,(t=>{r()||t(o)}),s)};ys(v,(t=>{r()?t(m):t(y,!1)})),hs(t,g),H()}var og=ls("<button><!></button>");function ig(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Pn(e,"type",3,"button"),o=Pn(e,"disabled",3,!1),i=Mn(e,["$$slots","$$events","$$legacy","children","child","id","ref","type","disabled"]);const a=(l={id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t))),disabled:hc.with((()=>Boolean(o())))},new Qf(l,eg.get()));var l;const c=Z((()=>Rc(i,a.props,{type:r()})));Cf(t,{get id(){return s()},children:(t,s)=>{var n=us(),r=xt(n),o=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(c)}))),hs(t,s)},i=t=>{var s=og();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(c)}))),hs(t,s)};ys(r,(t=>{e.child?t(o):t(i,!1)})),hs(t,n)},$$slots:{default:!0}}),H()}var ag="data-label-root",lg=class{opts;constructor(t){this.opts=t,this.onmousedown=this.onmousedown.bind(this),Kc(t)}onmousedown(t){t.detail>1&&t.preventDefault()}#us=Z((()=>({id:this.opts.id.current,[ag]:"",onmousedown:this.onmousedown})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},cg=ls("<label><!></label>");function dg(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Mn(e,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const o=(i={id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t)))},new lg(i));var i;const a=Z((()=>Rc(r,o.props,{for:e.for})));var l=us(),c=xt(l),d=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(a)}))),hs(t,s)},u=t=>{var s=cg();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(a),for:e.for}))),hs(t,s)};ys(c,(t=>{e.child?t(d):t(u,!1)})),hs(t,l),H()}function ug(t,e){W(e,!0);let s=Pn(e,"open",15,!1),n=Pn(e,"onOpenChange",3,Ud);var r;r={open:hc.with((()=>s()),(t=>{s(t),n()(t)}))},eg.set(new Zf(r)),af(t,{children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}}),H()}var hg=ls("<!> <!>",1);function pg(t,e){W(e,!0);let s=Pn(e,"value",15),n=Pn(e,"onValueChange",3,Ud),r=Pn(e,"name",3,""),o=Pn(e,"disabled",3,!1),i=Pn(e,"open",15,!1),a=Pn(e,"onOpenChange",3,Ud),l=Pn(e,"loop",3,!1),c=Pn(e,"scrollAlignment",3,"nearest"),d=Pn(e,"required",3,!1),u=Pn(e,"items",19,(()=>[])),p=Pn(e,"allowDeselect",3,!1);function f(){void 0===s()&&s("single"===e.type?"":[])}f(),jc.pre((()=>s()),(()=>{f()}));const g=Af({type:e.type,value:hc.with((()=>s()),(t=>{s(t),n()(t)})),disabled:hc.with((()=>o())),required:hc.with((()=>d())),open:hc.with((()=>i()),(t=>{i(t),a()(t)})),loop:hc.with((()=>l())),scrollAlignment:hc.with((()=>c())),name:hc.with((()=>r())),isCombobox:!1,items:hc.with((()=>u())),allowDeselect:hc.with((()=>p()))});var v=hg(),m=xt(v);af(m,{children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}});var y=kt(m,2),b=t=>{var e=us(),s=xt(e),n=t=>{var e=us();xs(xt(e),17,(()=>g.opts.value.current),bs,((t,e)=>{Pf(t,{get value(){return ze(e)}})})),hs(t,e)};ys(s,(t=>{g.opts.value.current.length&&t(n)})),hs(t,e)},w=t=>{Pf(t,{get value(){return g.opts.value.current},set value(t){g.opts.value.current=t}})};ys(y,(t=>{Array.isArray(g.opts.value.current)?t(b):t(w,!1)})),hs(t,v),H()}var fg=ls("<button><!></button>");function gg(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Pn(e,"type",3,"button"),o=Mn(e,["$$slots","$$events","$$legacy","id","ref","child","children","type"]);const i=(a={id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t)))},new gf(a,_f.get()));var a;const l=Z((()=>Rc(o,i.props,{type:r()})));var c=us();Ps(xt(c),(()=>Cf),((t,n)=>{n(t,{get id(){return s()},children:(t,s)=>{var n=us(),r=xt(n),o=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(l)}))),hs(t,s)},i=t=>{var s=fg();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(l)}))),hs(t,s)};ys(r,(t=>{e.child?t(o):t(i,!1)})),hs(t,n)},$$slots:{default:!0}})})),hs(t,c),H()}function vg(t,e,s){const n={position:"absolute"};return"lr"===t?(n.left=`${e}%`,n.right=`${s}%`):"rl"===t?(n.right=`${e}%`,n.left=`${s}%`):"bt"===t?(n.bottom=`${e}%`,n.top=`${s}%`):(n.top=`${e}%`,n.bottom=`${s}%`),n}function mg(t,e){const s={position:"absolute"};return"lr"===t?(s.left=`${e}%`,s.translate="-50% 0"):"rl"===t?(s.right=`${e}%`,s.translate="50% 0"):"bt"===t?(s.bottom=`${e}%`,s.translate="0 50%"):(s.top=`${e}%`,s.translate="0 -50%"),s}function yg(t,e,s){const n={position:"absolute"};return"lr"===t?(n.left=`${e}%`,n.translate=`${s}% 0`):"rl"===t?(n.right=`${e}%`,n.translate=-s+"% 0"):"bt"===t?(n.bottom=`${e}%`,n.translate=`0 ${-s}%`):(n.top=`${e}%`,n.translate=`0 ${s}%`),n}function bg(t,e,s,n){const r=(t-(Number.isNaN(e)?0:e))%n;let o=2*Math.abs(r)>=n?t+Math.sign(r)*(n-Math.abs(r)):t-r;Number.isNaN(e)?!Number.isNaN(s)&&o>s&&(o=Math.floor(s/n)*n):o<e?o=e:!Number.isNaN(s)&&o>s&&(o=e+Math.floor((s-e)/n)*n);const i=n.toString(),a=i.indexOf("."),l=a>=0?i.length-a:0;if(l>0){const t=10**l;o=Math.round(o*t)/t}return o}function wg(t,e,s=!0){const[n,r]=t,[o,i]=e,a=(i-o)/(r-n);return t=>{const e=o+a*(t-n);return s?e>Math.max(o,i)?Math.max(o,i):e<Math.min(o,i)?Math.min(o,i):e:e}}var xg="data-slider-root",kg="data-slider-thumb",_g="data-slider-range",Mg="data-slider-tick",Ag=class{opts;#hs=dt(!1);get isActive(){return ze(this.#hs)}set isActive(t){pt(this.#hs,t,!0)}#Hn=Z((()=>"horizontal"===this.opts.orientation.current?"rtl"===this.opts.dir.current?"rl":"lr":"rtl"===this.opts.dir.current?"tb":"bt"));get direction(){return ze(this.#Hn)}set direction(t){pt(this.#Hn,t)}constructor(t){this.opts=t,Kc(t)}#qn=Z((()=>{if(!this.opts.disabled.current)return"horizontal"===this.opts.orientation.current?"pan-y":"pan-x"}));getAllThumbs=()=>{const t=this.opts.ref.current;return t?Array.from(t.querySelectorAll(`[${kg}]`)):[]};getThumbScale=()=>{const t="vertical"===this.opts.orientation.current,e=this.getAllThumbs()[0],s=t?e?.offsetHeight:e?.offsetWidth;if(void 0===s||Number.isNaN(s)||0===s)return[0,100];const n=t?this.opts.ref.current?.offsetHeight:this.opts.ref.current?.offsetWidth;if(void 0===n||Number.isNaN(n)||0===n)return[0,100];const r=s/2/n*100;return[r,100-r]};getPositionFromValue=t=>{const e=this.getThumbScale();return wg([this.opts.min.current,this.opts.max.current],e)(t)};#us=Z((()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,"data-disabled":td(this.opts.disabled.current),style:{touchAction:ze(this.#qn)},[xg]:""})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},$g=class extends Ag{opts;isMulti=!1;constructor(t){super(t),this.opts=t,Gc((()=>Ic(ss(document,"pointerdown",this.handlePointerDown),ss(document,"pointerup",this.handlePointerUp),ss(document,"pointermove",this.handlePointerMove),ss(document,"pointerleave",this.handlePointerUp)))),jc([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],(([t,e,s,n])=>{var r;bg(r=n,e,s,t)!==r&&(this.opts.value.current=(n=>bg(n,e,s,t))(n))}))}applyPosition({clientXY:t,start:e,end:s}){const n=this.opts.min.current,r=this.opts.max.current,o=(t-e)/(s-e)*(r-n)+n;if(o<n)this.updateValue(n);else if(o>r)this.updateValue(r);else{const t=this.opts.step.current,e=Math.floor((o-n)/t),s=o>=n+e*t+t/2&&o<n+(e+1)*t+t/2?(e+1)*t+n:e*t+n;s<=r&&this.updateValue(s)}}updateValue=t=>{this.opts.value.current=bg(t,this.opts.min.current,this.opts.max.current,this.opts.step.current)};handlePointerMove=t=>{if(!this.isActive||this.opts.disabled.current)return;t.preventDefault(),t.stopPropagation();const e=this.opts.ref.current,s=this.getAllThumbs()[0];if(!e||!s)return;s.focus();const{left:n,right:r,top:o,bottom:i}=e.getBoundingClientRect();"lr"===this.direction?this.applyPosition({clientXY:t.clientX,start:n,end:r}):"rl"===this.direction?this.applyPosition({clientXY:t.clientX,start:r,end:n}):"bt"===this.direction?this.applyPosition({clientXY:t.clientY,start:i,end:o}):"tb"===this.direction&&this.applyPosition({clientXY:t.clientY,start:o,end:i})};handlePointerDown=t=>{if(0!==t.button||this.opts.disabled.current)return;const e=this.opts.ref.current,s=this.getAllThumbs()[0];if(!s||!e)return;const n=t.target;xd(n)&&e.contains(n)&&(t.preventDefault(),s.focus(),this.isActive=!0,this.handlePointerMove(t))};handlePointerUp=()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(De((()=>this.opts.value.current))),this.isActive=!1)};#Kn=Z((()=>{const t=this.opts.value.current;return Array.from({length:1},(()=>{const e=t,s=this.getPositionFromValue(e),n=mg(this.direction,s);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":e,"aria-disabled":Zc(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":e,tabindex:this.opts.disabled.current?-1:0,style:n,[kg]:""}}))}));get thumbsPropsArr(){return ze(this.#Kn)}set thumbsPropsArr(t){pt(this.#Kn,t)}#Xn=Z((()=>this.thumbsPropsArr.map(((t,e)=>e))));get thumbsRenderArr(){return ze(this.#Xn)}set thumbsRenderArr(t){pt(this.#Xn,t)}#Yn=Z((()=>{const t=this.opts.max.current,e=this.opts.min.current,s=this.opts.step.current,n=t-e;let r=Math.ceil(n/s);n%s==0&&r++;const o=this.opts.value.current;return Array.from({length:r},((t,n)=>{const i=n*s,a=wg([0,(r-1)*s],this.getThumbScale()),l=0===n?0:n===r-1?-100:-50,c=yg(this.direction,a(i),l),d=e+n*s,u=d<=o;return{"data-disabled":td(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":u?"":void 0,"data-value":d,style:c,[Mg]:""}}))}));get ticksPropsArr(){return ze(this.#Yn)}set ticksPropsArr(t){pt(this.#Yn,t)}#Gn=Z((()=>this.ticksPropsArr.map(((t,e)=>e))));get ticksRenderArr(){return ze(this.#Gn)}set ticksRenderArr(t){pt(this.#Gn,t)}#ys=Z((()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));get snippetProps(){return ze(this.#ys)}set snippetProps(t){pt(this.#ys,t)}},Sg=class extends Ag{opts;isMulti=!0;#Jn=dt(null);get activeThumb(){return ze(this.#Jn)}set activeThumb(t){pt(this.#Jn,t,!0)}#Zn=dt(0);get currentThumbIdx(){return ze(this.#Zn)}set currentThumbIdx(t){pt(this.#Zn,t,!0)}constructor(t){super(t),this.opts=t,Gc((()=>Ic(ss(document,"pointerdown",this.handlePointerDown),ss(document,"pointerup",this.handlePointerUp),ss(document,"pointermove",this.handlePointerMove),ss(document,"pointerleave",this.handlePointerUp)))),jc([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],(([t,e,s,n])=>{const r=n=>bg(n,e,s,t)===n;n.some((t=>!r(t)))&&(this.opts.value.current=n.map((n=>bg(n,e,s,t))))}))}applyPosition({clientXY:t,activeThumbIdx:e,start:s,end:n}){const r=this.opts.min.current,o=this.opts.max.current,i=(t-s)/(n-s)*(o-r)+r;if(i<r)this.updateValue(r,e);else if(i>o)this.updateValue(o,e);else{const t=this.opts.step.current,s=Math.floor((i-r)/t),n=i>=r+s*t+t/2&&i<r+(s+1)*t+t/2?(s+1)*t+r:s*t+r;n<=o&&this.updateValue(n,e)}}#Qn=t=>{const e=this.getAllThumbs();if(!e.length)return;for(const t of e)t.blur();const s=e.map((e=>{if("horizontal"===this.opts.orientation.current){const{left:s,right:n}=e.getBoundingClientRect();return Math.abs(t.clientX-(s+n)/2)}{const{top:s,bottom:n}=e.getBoundingClientRect();return Math.abs(t.clientY-(s+n)/2)}})),n=e[s.indexOf(Math.min(...s))];return{node:n,idx:e.indexOf(n)}};handlePointerMove=t=>{if(!this.isActive||this.opts.disabled.current)return;t.preventDefault(),t.stopPropagation();const e=this.opts.ref.current,s=this.activeThumb;if(!e||!s)return;s.node.focus();const{left:n,right:r,top:o,bottom:i}=e.getBoundingClientRect(),a=this.direction;"lr"===a?this.applyPosition({clientXY:t.clientX,activeThumbIdx:s.idx,start:n,end:r}):"rl"===a?this.applyPosition({clientXY:t.clientX,activeThumbIdx:s.idx,start:r,end:n}):"bt"===a?this.applyPosition({clientXY:t.clientY,activeThumbIdx:s.idx,start:i,end:o}):"tb"===a&&this.applyPosition({clientXY:t.clientY,activeThumbIdx:s.idx,start:o,end:i})};handlePointerDown=t=>{if(0!==t.button||this.opts.disabled.current)return;const e=this.opts.ref.current,s=this.#Qn(t);if(!s||!e)return;const n=t.target;xd(n)&&e.contains(n)&&(t.preventDefault(),this.activeThumb=s,s.node.focus(),this.isActive=!0,this.handlePointerMove(t))};handlePointerUp=()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(De((()=>this.opts.value.current))),this.isActive=!1)};getAllThumbs=()=>{const t=this.opts.ref.current;return t?Array.from(t.querySelectorAll(`[${kg}]`)):[]};updateValue=(t,e)=>{const s=this.opts.value.current;if(!s.length)return void this.opts.value.current.push(t);if(s[e]===t)return;const n=[...s];if(!((r=e)>=0&&r<n.length))return;var r;const o=n[e]>t?-1:1;if(this.opts.autoSort.current&&(-1===o&&t<n[e-1]||1===o&&t>n[e+1]))return(()=>{const s=e+o;n[e]=n[s],n[s]=t;const r=this.getAllThumbs();r.length&&(r[s]?.focus(),this.activeThumb={node:r[s],idx:s})})(),void(this.opts.value.current=n);const i=this.opts.min.current,a=this.opts.max.current,l=this.opts.step.current;n[e]=bg(t,i,a,l),this.opts.value.current=n};#Kn=Z((()=>{const t=this.opts.value.current;return Array.from({length:t.length||1},((e,s)=>{const n=De((()=>this.currentThumbIdx));n<t.length&&De((()=>{this.currentThumbIdx=n+1}));const r=t[s],o=this.getPositionFromValue(r??0),i=mg(this.direction,o);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":r,"aria-disabled":Zc(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":r,tabindex:this.opts.disabled.current?-1:0,style:i,[kg]:""}}))}));get thumbsPropsArr(){return ze(this.#Kn)}set thumbsPropsArr(t){pt(this.#Kn,t)}#Xn=Z((()=>this.thumbsPropsArr.map(((t,e)=>e))));get thumbsRenderArr(){return ze(this.#Xn)}set thumbsRenderArr(t){pt(this.#Xn,t)}#Yn=Z((()=>{const t=this.opts.max.current,e=this.opts.min.current,s=this.opts.step.current,n=t-e;let r=Math.ceil(n/s);n%s==0&&r++;const o=this.opts.value.current;return Array.from({length:r},((t,n)=>{const i=n*s,a=wg([0,(r-1)*s],this.getThumbScale()),l=0===n?0:n===r-1?-100:-50,c=yg(this.direction,a(i),l),d=e+n*s,u=1===o.length?d<=o[0]:o[0]<=d&&d<=o[o.length-1];return{"data-disabled":td(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":u?"":void 0,"data-value":d,style:c,[Mg]:""}}))}));get ticksPropsArr(){return ze(this.#Yn)}set ticksPropsArr(t){pt(this.#Yn,t)}#Gn=Z((()=>this.ticksPropsArr.map(((t,e)=>e))));get ticksRenderArr(){return ze(this.#Gn)}set ticksRenderArr(t){pt(this.#Gn,t)}#ys=Z((()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));get snippetProps(){return ze(this.#ys)}set snippetProps(t){pt(this.#ys,t)}},Pg=[rd,od,id,nd,cd,ad],Cg=class{opts;root;constructor(t,e){this.opts=t,this.root=e,Kc(t)}#tr=Z((()=>{const t=Array.isArray(this.root.opts.value.current)&&this.root.opts.value.current.length>1?this.root.getPositionFromValue(Math.min(...this.root.opts.value.current)??0):0,e=Array.isArray(this.root.opts.value.current)?100-this.root.getPositionFromValue(Math.max(...this.root.opts.value.current)??0):100-this.root.getPositionFromValue(this.root.opts.value.current);return{position:"absolute",...vg(this.root.direction,t,e)}}));get rangeStyles(){return ze(this.#tr)}set rangeStyles(t){pt(this.#tr,t)}#us=Z((()=>({id:this.opts.id.current,"data-orientation":this.root.opts.orientation.current,"data-disabled":td(this.root.opts.disabled.current),style:this.rangeStyles,[_g]:""})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},Ig=class{opts;root;#ps=Z((()=>this.root.opts.disabled.current||this.opts.disabled.current));constructor(t,e){this.opts=t,this.root=e,Kc(t),this.onkeydown=this.onkeydown.bind(this)}#er(t){this.root.isMulti?this.root.updateValue(t,this.opts.index.current):this.root.updateValue(t)}onkeydown(t){if(ze(this.#ps))return;const e=this.opts.ref.current;if(!e)return;const s=this.root.getAllThumbs();if(!s.length)return;const n=s.indexOf(e);if(this.root.isMulti&&(this.root.currentThumbIdx=n),!Pg.includes(t.key))return;t.preventDefault();const r=this.root.opts.min.current,o=this.root.opts.max.current,i=this.root.opts.value.current,a=Array.isArray(i)?i[n]:i,l=this.root.opts.orientation.current,c=this.root.direction,d=this.root.opts.step.current;switch(t.key){case cd:this.#er(r);break;case ad:this.#er(o);break;case rd:if("horizontal"!==l)break;if(t.metaKey){const t="rl"===c?o:r;this.#er(t)}else"rl"===c&&a<o?this.#er(a+d):"lr"===c&&a>r&&this.#er(a-d);break;case od:if("horizontal"!==l)break;if(t.metaKey){const t="rl"===c?r:o;this.#er(t)}else"rl"===c&&a>r?this.#er(a-d):"lr"===c&&a<o&&this.#er(a+d);break;case id:if(t.metaKey){const t="tb"===c?r:o;this.#er(t)}else"tb"===c&&a>r?this.#er(a-d):"tb"!==c&&a<o&&this.#er(a+d);break;case nd:if(t.metaKey){const t="tb"===c?o:r;this.#er(t)}else"tb"===c&&a<o?this.#er(a+d):"tb"!==c&&a>r&&this.#er(a-d)}this.root.opts.onValueCommit.current(this.root.opts.value.current)}#us=Z((()=>({...this.root.thumbsPropsArr[this.opts.index.current],id:this.opts.id.current,onkeydown:this.onkeydown})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},Eg=new Hc("Slider.Root");function Fg(t){const{type:e,...s}=t,n="single"===e?new $g(s):new Sg(s);return Eg.set(n)}var Tg=ls("<span><!></span>");function Ng(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"ref",15,null),r=Pn(e,"value",15),o=Pn(e,"onValueChange",3,Ud),i=Pn(e,"onValueCommit",3,Ud),a=Pn(e,"disabled",3,!1),l=Pn(e,"min",3,0),c=Pn(e,"max",3,100),d=Pn(e,"step",3,1),u=Pn(e,"dir",3,"ltr"),p=Pn(e,"autoSort",3,!0),f=Pn(e,"orientation",3,"horizontal"),g=Mn(e,["$$slots","$$events","$$legacy","children","child","id","ref","value","type","onValueChange","onValueCommit","disabled","min","max","step","dir","autoSort","orientation"]);function v(){void 0===r()&&r("single"===e.type?0:[])}v(),jc.pre((()=>r()),(()=>{v()}));const m=Fg({id:hc.with((()=>s())),ref:hc.with((()=>n()),(t=>n(t))),value:hc.with((()=>r()),(t=>{r(t),o()(t)})),onValueCommit:hc.with((()=>i())),disabled:hc.with((()=>a())),min:hc.with((()=>l())),max:hc.with((()=>c())),step:hc.with((()=>d())),dir:hc.with((()=>u())),autoSort:hc.with((()=>p())),orientation:hc.with((()=>f())),type:e.type}),y=Z((()=>Rc(g,m.props)));var b=us(),w=xt(b),x=t=>{var s=us(),n=xt(s),r=Q((()=>({props:ze(y),...m.snippetProps})));Ss(n,(()=>e.child),(()=>ze(r))),hs(t,s)},k=t=>{var s=Tg();let n;Ss(wt(s),(()=>e.children??h),(()=>m.snippetProps)),Nt((()=>n=qs(s,n,{...ze(y)}))),hs(t,s)};ys(w,(t=>{e.child?t(x):t(k,!1)})),hs(t,b),H()}var Og=ls("<span><!></span>");function Rg(t,e){W(e,!0);let s=Pn(e,"ref",15,null),n=Pn(e,"id",19,jd),r=Mn(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const o=(i={id:hc.with((()=>n())),ref:hc.with((()=>s()),(t=>s(t)))},new Cg(i,Eg.get()));var i;const a=Z((()=>Rc(r,o.props)));var l=us(),c=xt(l),d=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(a)}))),hs(t,s)},u=t=>{var s=Og();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(a)}))),hs(t,s)};ys(c,(t=>{e.child?t(d):t(u,!1)})),hs(t,l),H()}var zg=ls("<span><!></span>");function Dg(t,e){W(e,!0);let s=Pn(e,"ref",15,null),n=Pn(e,"id",19,jd),r=Pn(e,"disabled",3,!1),o=Mn(e,["$$slots","$$events","$$legacy","children","child","ref","id","index","disabled"]);const i=(a={id:hc.with((()=>n())),ref:hc.with((()=>s()),(t=>s(t))),index:hc.with((()=>e.index)),disabled:hc.with((()=>r()))},new Ig(a,Eg.get()));var a;const l=Z((()=>Rc(o,i.props)));var c=us(),d=xt(c),u=t=>{var s=us();Ss(xt(s),(()=>e.child),(()=>({props:ze(l)}))),hs(t,s)},p=t=>{var s=zg();let n;Ss(wt(s),(()=>e.children??h)),Nt((()=>n=qs(s,n,{...ze(l)}))),hs(t,s)};ys(d,(t=>{e.child?t(u):t(p,!1)})),hs(t,c),H()}var Lg="data-switch-root",Bg="data-switch-thumb",Vg=class{opts;constructor(t){this.opts=t,Kc(t),this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this)}#sr(){this.opts.checked.current=!this.opts.checked.current}onkeydown(t){t.key!==ld&&t.key!==hd||this.opts.disabled.current||(t.preventDefault(),this.#sr())}onclick(t){this.opts.disabled.current||this.#sr()}#nr=Z((()=>{return{"data-disabled":td(this.opts.disabled.current),"data-state":(t=this.opts.checked.current,t?"checked":"unchecked"),"data-required":ed(this.opts.required.current)};var t}));get sharedProps(){return ze(this.#nr)}set sharedProps(t){pt(this.#nr,t)}#ys=Z((()=>({checked:this.opts.checked.current})));get snippetProps(){return ze(this.#ys)}set snippetProps(t){pt(this.#ys,t)}#us=Z((()=>{return{...this.sharedProps,id:this.opts.id.current,role:"switch",disabled:sd(this.opts.disabled.current),"aria-checked":(e=this.opts.checked.current,e?"true":"false"),"aria-required":(t=this.opts.required.current,t?"true":"false"),[Lg]:"",onclick:this.onclick,onkeydown:this.onkeydown};var t,e}));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},jg=class{root;#Bn=Z((()=>void 0!==this.root.opts.name.current));get shouldRender(){return ze(this.#Bn)}set shouldRender(t){pt(this.#Bn,t)}constructor(t){this.root=t}#us=Z((()=>({type:"checkbox",name:this.root.opts.name.current,value:this.root.opts.value.current,checked:this.root.opts.checked.current,disabled:this.root.opts.disabled.current,required:this.root.opts.required.current})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},Ug=class{opts;root;constructor(t,e){this.opts=t,this.root=e,Kc(t)}#ys=Z((()=>({checked:this.root.opts.checked.current})));get snippetProps(){return ze(this.#ys)}set snippetProps(t){pt(this.#ys,t)}#us=Z((()=>({...this.root.sharedProps,id:this.opts.id.current,[Bg]:""})));get props(){return ze(this.#us)}set props(t){pt(this.#us,t)}},Wg=new Hc("Switch.Root");function Hg(t,e){W(e,!1);const s=new jg(Wg.get());un();var n=us(),r=xt(n),o=t=>{yh(t,$n((()=>s.props)))};ys(r,(t=>{s.shouldRender&&t(o)})),hs(t,n),H()}var qg=ls("<button><!></button>"),Kg=ls("<!> <!>",1);function Xg(t,e){W(e,!0);let s=Pn(e,"ref",15,null),n=Pn(e,"id",19,jd),r=Pn(e,"disabled",3,!1),o=Pn(e,"required",3,!1),i=Pn(e,"checked",15,!1),a=Pn(e,"value",3,"on"),l=Pn(e,"name",3,void 0),c=Pn(e,"type",3,"button"),d=Pn(e,"onCheckedChange",3,Ud),u=Mn(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","required","checked","value","name","type","onCheckedChange"]);const p=(f={checked:hc.with((()=>i()),(t=>{i(t),d()?.(t)})),disabled:hc.with((()=>r()??!1)),required:hc.with((()=>o())),value:hc.with((()=>a())),name:hc.with((()=>l())),id:hc.with((()=>n())),ref:hc.with((()=>s()),(t=>s(t)))},Wg.set(new Vg(f)));var f;const g=Z((()=>Rc(u,p.props,{type:c()})));var v=Kg(),m=xt(v),y=t=>{var s=us(),n=xt(s),r=Q((()=>({props:ze(g),...p.snippetProps})));Ss(n,(()=>e.child),(()=>ze(r))),hs(t,s)},b=t=>{var s=qg();let n;Ss(wt(s),(()=>e.children??h),(()=>p.snippetProps)),Nt((()=>n=qs(s,n,{...ze(g)}))),hs(t,s)};ys(m,(t=>{e.child?t(y):t(b,!1)})),Hg(kt(m,2),{}),hs(t,v),H()}var Yg=ls("<span><!></span>");function Gg(t,e){W(e,!0);let s=Pn(e,"ref",15,null),n=Pn(e,"id",19,jd),r=Mn(e,["$$slots","$$events","$$legacy","child","children","ref","id"]);const o=(i={id:hc.with((()=>n())),ref:hc.with((()=>s()),(t=>s(t)))},new Ug(i,Wg.get()));var i;const a=Z((()=>Rc(r,o.props)));var l=us(),c=xt(l),d=t=>{var s=us(),n=xt(s),r=Q((()=>({props:ze(a),...o.snippetProps})));Ss(n,(()=>e.child),(()=>ze(r))),hs(t,s)},u=t=>{var s=Yg();let n;Ss(wt(s),(()=>e.children??h),(()=>o.snippetProps)),Nt((()=>n=qs(s,n,{...ze(a)}))),hs(t,s)};ys(c,(t=>{e.child?t(d):t(u,!1)})),hs(t,l),H()}var Jg=ls('<div class="absolute top-1/2 left-1/2 size-10 -translate-x-1/2 -translate-y-1/2 rounded-full bg-purple-500/40 opacity-0 transition group-hover:scale-100 group-hover:opacity-80 group-focus:opacity-100 group-active:scale-0"></div> <div class="absolute top-1/2 left-1/2 size-5 -translate-x-1/2 -translate-y-1/2 rounded-full bg-slate-100 transition"></div>',1),Zg=ls('<div class="flex items-center gap-x-3"><!> <!> <!></div>');function Qg(t,e){W(e,!0);let s=Pn(e,"id",19,jd),n=Pn(e,"checked",15,!1),r=Pn(e,"ref",15,null),o=Pn(e,"labelPosition",3,"right"),i=Mn(e,["$$slots","$$events","$$legacy","id","checked","ref","labelPosition","children"]);var a=Zg(),l=wt(a),c=t=>{var n=us();Ps(xt(n),(()=>dg),((t,n)=>{n(t,{get for(){return s()},children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})})),hs(t,n)};ys(l,(t=>{e.children&&"left"===o()&&t(c)}));var d=kt(l,2);Ps(d,(()=>Xg),((t,e)=>{e(t,$n({class:"group mx-3 my-3 inline-flex h-4 w-10 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus:outline-none focus-visible:outline-none\r\n      data-disabled:pointer-events-none data-disabled:cursor-not-allowed data-disabled:brightness-50 data-[state=checked]:bg-purple-500 data-[state=unchecked]:bg-slate-600",get id(){return s()}},(()=>i),{get checked(){return n()},set checked(t){n(t)},get ref(){return r()},set ref(t){r(t)},children:(t,e)=>{var s=us();Ps(xt(s),(()=>Gg),((t,e)=>{e(t,{class:"pointer-events-none relative size-5 transition-transform focus:outline-none focus-visible:outline-none data-[state=checked]:translate-x-5 data-[state=unchecked]:-translate-x-1",children:(t,e)=>{hs(t,Jg())},$$slots:{default:!0}})})),hs(t,s)},$$slots:{default:!0}}))}));var u=kt(d,2),p=t=>{var n=us();Ps(xt(n),(()=>dg),((t,n)=>{n(t,{get for(){return s()},children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children??h)),hs(t,n)},$$slots:{default:!0}})})),hs(t,n)};ys(u,(t=>{e.children&&"right"===o()&&t(p)})),hs(t,a),H()}var tv=ls(" <!>",1),ev=ls('<div class="ml-auto"><!></div>'),sv=ls(" <!>",1),nv=ls("<div><div><!> <!> <!></div></div>"),rv=ls('<div class="relative my-1 w-full"><!> <!></div>');function ov(t,e){W(e,!0);let s=Pn(e,"value",15),n=Pn(e,"placeholder",3,"Select..."),r=Pn(e,"open",15,!1),o=Mn(e,["$$slots","$$events","$$legacy","value","items","placeholder","contentProps","open"]);const i=Z((()=>e.items.find((t=>t.value===s()))?.label));var a=us();Ps(xt(a),(()=>pg),((t,a)=>{a(t,$n({onValueChange:t=>s(t),get items(){return e.items}},(()=>o),{get open(){return r()},set open(t){r(t)},get value(){return s()},set value(t){s(t)},children:(t,s)=>{var r=rv(),o=wt(r);Ps(o,(()=>gg),((t,e)=>{e(t,{class:"inline-flex h-7 w-full max-w-full cursor-pointer items-center justify-between rounded-md border border-cyan-400/20 bg-slate-600/20 px-2 text-sm transition-colors select-none focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50 data-disabled:pointer-events-none data-disabled:cursor-not-allowed data-disabled:brightness-50 data-placeholder:text-white",children:(t,e)=>{var s=tv(),r=xt(s);hr(kt(r),{size:"16"}),Nt((()=>gs(r,`${ze(i)??n()??""} `))),hs(t,s)},$$slots:{default:!0}})})),Ps(kt(o,2),(()=>Lf),((t,s)=>{{const n=(t,s)=>{var n=us(),r=xt(n),o=t=>{var n=nv();let r;var o=wt(n);let i;var a=wt(o);Ps(a,(()=>Jf),((t,e)=>{e(t,{delay:()=>150,class:"flex w-full items-center justify-center",children:(t,e)=>{mr(t,{size:"16"})},$$slots:{default:!0}})}));var l=kt(a,2);Ps(l,(()=>Hf),((t,s)=>{s(t,{class:"p-1",children:(t,s)=>{var n=us();xs(xt(n),19,(()=>e.items),((t,e)=>e+t.value),((t,e)=>{var s=us();Ps(xt(s),(()=>Uf),((t,s)=>{{const n=(t,s)=>{var n=sv(),r=xt(n),o=kt(r),i=t=>{var e=ev();ur(wt(e),{size:"16"}),hs(t,e)};ys(o,(t=>{s?.().selected&&t(i)})),Nt((()=>gs(r,`${ze(e).label??""} `))),hs(t,n)};s(t,{class:"flex w-full cursor-pointer items-center rounded py-1 pr-1 pl-3 text-sm outline-hidden select-none data-disabled:cursor-not-allowed data-disabled:bg-gray-600/20 data-disabled:text-gray-400 data-disabled:opacity-50 data-highlighted:bg-gray-600/50",get value(){return ze(e).value},get label(){return ze(e).label},get disabled(){return ze(e).disabled},children:n,$$slots:{default:!0}})}})),hs(t,s)})),hs(t,n)},$$slots:{default:!0}})})),Ps(kt(l,2),(()=>Xf),((t,e)=>{e(t,{delay:()=>150,class:"flex w-full items-center justify-center",children:(t,e)=>{vr(t,{size:"16"})},$$slots:{default:!0}})})),Nt((()=>{r=qs(n,r,{...s?.().wrapperProps}),i=qs(o,i,{...s?.().props})})),nn(3,o,(()=>Wr),(()=>({duration:250}))),hs(t,n)};ys(r,(t=>{s?.().open&&t(o)})),hs(t,n)};s(t,$n({class:"top-full z-50 my-0.5 h-fit max-h-[min(var(--bits-select-content-available-height),16rem)] w-full min-w-[var(--bits-select-anchor-width)] rounded-md border border-cyan-400/20 bg-slate-900/95 px-0.5 py-1 text-white shadow-lg shadow-neutral-900 outline-hidden select-none",forceMount:!0},(()=>e.contentProps),{child:n,$$slots:{child:!0}}))}})),hs(t,r)},$$slots:{default:!0}}))})),hs(t,a),H()}var iv=pn((()=>Zi)),av=[{value:"auto",label:"Auto"},{value:"50",label:"50 fps"},{value:"60",label:"60 fps"},{value:"75",label:"75 fps"},{value:"100",label:"100 fps"},{value:"120",label:"120 fps"},{value:"144",label:"144 fps"},{value:"160",label:"160 fps"},{value:"240",label:"240 fps"}],lv=ls("<!> <!> <!> <!>",1);function cv(t,e){W(e,!1),un(),oc(t,{children:(t,e)=>{var s=lv(),n=xt(s);Pl(n,{level:2,children:(t,e)=>{var s=ds();s.nodeValue="General",hs(t,s)},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"instant_gameover",children:(t,e)=>{Qg(t,{get checked(){return iv().instant_gameover},set checked(t){iv(iv().instant_gameover=t)},$$legacy:!0})},$$slots:{default:!0}});var o=kt(r,2);nc(o,{name:"snakey_rotate",children:(t,e)=>{Qg(t,{get checked(){return iv().snakey_rotate},set checked(t){iv(iv().snakey_rotate=t)},$$legacy:!0})},$$slots:{default:!0}}),nc(kt(o,2),{name:"fps_limiter",children:(t,e)=>{ov(t,{type:"single",items:av,get open(){return Cl.get("fps_limiter")??!1},set open(t){var e;e=t,Cl.set("fps_limiter",e)},get value(){return iv().fps_limiter},set value(t){iv(iv().fps_limiter=t)},$$legacy:!0})},$$slots:{default:!0}}),hs(t,s)}}),H()}var dv=ls('<div class="absolute top-1/2 left-1/2 size-10 -translate-x-1/2 -translate-y-1/2 rounded-full bg-purple-500/40 opacity-0 transition group-hover:opacity-80 group-focus:opacity-100 group-active:scale-0"></div> <div class="absolute top-1/2 left-1/2 size-5 -translate-x-1/2 -translate-y-1/2 rounded-full bg-slate-100 transition"></div>',1),uv=ls('<span class="relative h-2 w-full grow cursor-pointer overflow-hidden rounded-full bg-slate-600"><!></span> <!>',1),hv=ls('<div class="w-full max-w-64 px-3"><!></div>');function pv(t,e){W(e,!0),Pn(e,"id",19,jd);let s=Pn(e,"value",15,0),n=Pn(e,"ref",15,null),r=Mn(e,["$$slots","$$events","$$legacy","id","value","ref"]);var o=hv();Ps(wt(o),(()=>Ng),((t,e)=>{{const o=(t,e)=>{var s=uv(),n=xt(s);Ps(wt(n),(()=>Rg),((t,e)=>{e(t,{class:"absolute h-full bg-purple-800"})})),xs(kt(n,2),17,(()=>e?.().thumbs),bs,((t,e)=>{var s=us();Ps(xt(s),(()=>Dg),((t,s)=>{s(t,{get index(){return ze(e)},class:"group relative size-5 cursor-pointer transition-colors focus:outline-none focus-visible:outline-none",children:(t,e)=>{hs(t,dv())},$$slots:{default:!0}})})),hs(t,s)})),hs(t,s)};e(t,$n({class:"relative flex w-full touch-none items-center select-none data-disabled:pointer-events-none data-disabled:cursor-not-allowed data-disabled:brightness-50"},(()=>r),{get value(){return s()},set value(t){s(t)},get ref(){return n()},set ref(t){n(t)},children:o,$$slots:{default:!0}}))}})),hs(t,o),H()}var fv=(t,e=h,s=h)=>{var n=gv();n.__click=()=>{Zi.background=s()};var r=wt(n),o=wt(kt(r,2));Nt((()=>{zs(n,1,"group relative flex size-32 cursor-pointer items-center justify-center overflow-clip rounded-md transition duration-300 ease-out focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50\n        "+(Zi.background===s()?"border-2 border-solid border-purple-500":"border border-dashed border-gray-300/60")),Hs(r,"src",e().img),Hs(r,"alt",e().name),gs(o,e().name)})),hs(t,n)},gv=ls('<button><img draggable="false" loading="lazy" decoding="async" class="size-full overflow-clip object-cover object-center transition delay-100 duration-500 ease-out group-hover:scale-125 group-focus-visible:scale-125"> <div class="absolute bottom-0 w-full bg-neutral-950/80 px-1 py-1 text-[0.625rem]"> </div></button>'),vv=async()=>{await ha.removeCustomImage()},mv=ls('<div class="relative"><!> <button class="absolute top-0 right-0 m-1.5 grid size-6 cursor-pointer place-items-center rounded-full bg-red-500/20 transition duration-100 ease-out hover:bg-red-500/60 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500/50 active:bg-red-500/40"><span class="sr-only">Remove custom background</span> <!></button></div>'),yv=(t,e)=>ze(e)?.click(),bv=async t=>{await ha.uploadImage(t.target?.files?.[0])},wv=ls('<button class="relative flex size-32 cursor-pointer items-center justify-center rounded-md border border-dashed border-gray-300/60 transition duration-200 ease-out hover:bg-slate-100/10 active:bg-slate-900/10"><!> <input type="file" accept="image/jpeg,image/png,image/webp" class="sr-only"> <div class="absolute bottom-0 w-full bg-neutral-950/80 px-1 py-1 text-[0.625rem]"></div></button>'),xv=ls('<div id="bg-options" class="auto-fill-32 col-span-full my-2.5 grid place-items-center gap-3"><!> <!></div>');function kv(t,e){W(e,!0);let s=dt(null);var n=xv(),r=wt(n);xs(r,19,(()=>ha.images),(t=>t.img),((t,e,s)=>{fv(t,(()=>ze(e)),(()=>ze(s)))}));var o=kt(r,2),i=t=>{var e=mv(),s=wt(e);fv(s,(()=>ha.customImage),(()=>-1));var n=kt(s,2);n.__click=[vv],Tr(kt(wt(n),2),{size:16}),hs(t,e)},a=t=>{var e=wv();e.__click=[yv,s];var n=wt(e);_r(n,{size:32});var r=kt(n,2);r.__change=[bv],dn(r,(t=>pt(s,t)),(()=>ze(s))),kt(r,2).textContent="Upload image",hs(t,e)};ys(o,(t=>{ha.customImage?t(i):t(a,!1)})),hs(t,n),H()}rs(["click","change"]);var _v=(t,e,s)=>{const n=t.currentTarget.value;e(n),s.onchange?.(n)},Mv=ls('<div class="inline-flex items-center gap-x-1.5 p-1.5 has-disabled:pointer-events-none has-disabled:cursor-not-allowed has-disabled:text-gray-300 has-disabled:brightness-75"><label class="relative cursor-pointer rounded-lg transition duration-200 ease-out focus-within:ring-2 focus-within:ring-cyan-400/50"><input type="color" class="sr-only bottom-0"> <div class="m-1 size-5 rounded ring-1 ring-white ring-offset-2 ring-offset-black"></div></label> <span class="w-16 font-mono text-sm transition-colors duration-200 ease-out"> </span></div>');function Av(t,e){W(e,!0);let s=Pn(e,"value",15,"#ff0000"),n=Pn(e,"disabled",3,!1);var r=Mv(),o=wt(r),i=wt(o);i.__input=[_v,s,e];var a=kt(i,2),l=wt(kt(o,2));Nt((()=>{i.disabled=n(),Ls(a,`background-color: ${s()??""}`),gs(l,s())})),on(i,s),hs(t,r),H()}function $v(t,e){var s=us();Ps(xt(s),(()=>Hd),((t,s)=>{s(t,{class:"w-full",type:"multiple",children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.children)),hs(t,n)},$$slots:{default:!0}})})),hs(t,s)}rs(["input"]);var Sv=ls('<span class="text-base"> </span> <div class="rounded-full p-1 transition-colors duration-150 ease-out hover:bg-slate-100/20"><!></div>',1),Pv=ls("<div><!></div>"),Cv=ls("<!> <!>",1);function Iv(t,e){var s=us();Ps(xt(s),(()=>Kd),((t,s)=>{s(t,{get value(){return e.value},children:(t,s)=>{var n=Cv(),r=xt(n);Ps(r,(()=>Yd),((t,s)=>{s(t,{children:(t,s)=>{var n=us();Ps(xt(n),(()=>Jd),((t,s)=>{s(t,{class:"group flex w-full flex-1 items-center justify-between rounded-sm px-2 py-2 transition-colors duration-100 ease-out select-none hover:bg-blue-400/10 focus-visible:ring-2 focus-visible:ring-cyan-400/50 focus-visible:outline-none",children:(t,s)=>{var n=Sv(),r=xt(n),o=wt(r);hr(wt(kt(r,2)),{class:"transition-transform duration-150 ease-out group-data-[state=open]:rotate-180"}),Nt((()=>gs(o,e.text))),hs(t,n)},$$slots:{default:!0}})})),hs(t,n)},$$slots:{default:!0}})})),Ps(kt(r,2),(()=>nu),((t,s)=>{s(t,{forceMount:!0,child:(t,s)=>{var n=us(),r=xt(n),o=t=>{var n=Pv();let r;Ss(wt(n),(()=>e.children)),Nt((()=>r=qs(n,r,{...s?.().props,class:"px-2 py-1"}))),nn(3,n,(()=>Hr),(()=>({duration:250,easing:zr}))),hs(t,n)};ys(r,(t=>{s?.().open&&t(o)})),hs(t,n)},$$slots:{child:!0}})})),hs(t,n)},$$slots:{default:!0}})})),hs(t,s)}var Ev=Symbol(),Fv=class{#rr=dt(!1);get selectable(){return ze(this.#rr)}set selectable(t){pt(this.#rr,t,!0)}#or=dt(null);get selected(){return ze(this.#or)}set selected(t){pt(this.#or,t,!0)}onselect=Tn;constructor({selectable:t=!1,selected:e=null,onselect:s=Tn}={}){this.selectable=t,this.selected=e,this.onselect=s}},Tv=ls('<div class="inline-flex rounded-lg shadow-sm"><!></div>');function Nv(t,e){W(e,!0);let s=Pn(e,"selected",15,""),n=Pn(e,"onselect",3,Tn);const r=new Fv({selectable:e.selectable,selected:s(),onselect:t=>{s(t),n()(t)}});U(Ev,r);var o=Tv();Ss(wt(o),(()=>e.children)),hs(t,o),H()}var Ov=ls("<button><!></button>");function Rv(t,e){W(e,!0);const s=j(Ev);let n=Z((()=>s.selectable&&s.selected===e.value));var r=Ov();r.__click=()=>{s.selectable?(s.selected=e.value,s.onselect(e.value)):e.onclick?.(e.value)},Ss(wt(r),(()=>e.children)),Nt((()=>zs(r,1,"-ms-px cursor-pointer border border-cyan-400/20 px-2 py-1 text-xs font-normal text-white shadow-sm transition duration-100\n\tfirst:ms-0 first:rounded-s last:rounded-e focus:z-10 focus:ring-2 focus:ring-cyan-400/50 focus:outline-none\n\tdisabled:pointer-events-none disabled:cursor-not-allowed disabled:brightness-50\n\t"+(ze(n)?"bg-purple-500/60 hover:bg-purple-800/60":"bg-slate-600/20 hover:bg-purple-400/40")))),hs(t,r),H()}rs(["click"]);var zv=[{value:"Skinless",label:"Skinless"},{value:"Rough",label:"Rough"},{value:"Normal",label:"Normal"},{value:"High",label:"High"}],Dv=Z((()=>[{value:"Default",label:"Default"},{value:"Rounded",label:"Rounded"},{value:"Squared",label:"Squared"},{value:"Glass",label:"Glass",disabled:"Skinless"!==Zi.skin_quality}])),Lv=[{value:"Circle",label:"Circle"},{value:"Square",label:"Square"},{value:"Star",label:"Star"}],Bv=dt(""),Vv=ls("<!> <!> <!>",1),jv=ls('<!> <span class="inline-block min-w-10 text-center text-xs"> </span>',1),Uv=ls('<!> <span class="inline-block min-w-10 text-center text-xs"> </span>',1),Wv=ls("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Hv=ls("<!> <!> <!> <!> <!>",1),qv=ls('<!> <span class="inline-block min-w-10 text-center text-xs"> </span>',1),Kv=ls("<!> <!> <!> <!> <!> <!>",1),Xv=ls("<!> <!>",1),Yv=ls("<!> <!> <!> <!> <!>",1),Gv=ls('<!> <div class="flex min-h-10 w-full max-w-full items-center"><div class="shrink-0 basis-40 text-sm"></div> <div class="flex grow items-center justify-center"><!></div></div> <!> <div class="col-span-full w-full"><!></div>',1);function Jv(t,e){W(e,!0);const s=t=>{pt(Bv,t,!0),ra(t)};oc(t,{children:(t,e)=>{var n=Gv(),r=xt(n);Pl(r,{level:2,children:(t,e)=>{var s=ds();s.nodeValue="Graphics",hs(t,s)},$$slots:{default:!0}});var o=kt(r,2),i=wt(o);i.textContent="Graphic Quality Preset",Ps(wt(kt(i,2)),(()=>Nv),((t,e)=>{e(t,{selectable:!1,children:(t,e)=>{var n=Vv(),r=xt(n);Ps(r,(()=>Rv),((t,e)=>{e(t,{value:"Low",onclick:s,children:(t,e)=>{var s=ds();s.nodeValue="Low",hs(t,s)},$$slots:{default:!0}})}));var o=kt(r,2);Ps(o,(()=>Rv),((t,e)=>{e(t,{value:"Medium",onclick:s,children:(t,e)=>{var s=ds();s.nodeValue="Medium",hs(t,s)},$$slots:{default:!0}})})),Ps(kt(o,2),(()=>Rv),((t,e)=>{e(t,{value:"High",onclick:s,children:(t,e)=>{var s=ds();s.nodeValue="High",hs(t,s)},$$slots:{default:!0}})})),hs(t,n)},$$slots:{default:!0}})}));var a=kt(o,2);nc(a,{name:"brightness",children:(t,e)=>{var s=jv(),n=xt(s);pv(n,{type:"single",min:0,max:10,step:1,get value(){return Zi.brightness},set value(t){Zi.brightness=t}});var r=wt(kt(n,2));Nt((()=>gs(r,Zi.brightness))),hs(t,s)},$$slots:{default:!0}}),$v(wt(kt(a,2)),{children:(t,e)=>{var s=Yv(),n=xt(s);Iv(n,{text:"Change Background",children:(t,e)=>{kv(t,{})}});var r=kt(n,2);Iv(r,{text:"Snake",children:(t,e)=>{oc(t,{children:(t,e)=>{var s=Wv(),n=xt(s);nc(n,{name:"skin_quality",children:(t,e)=>{ov(t,{type:"single",items:zv,get open(){return Cl.get("skin_quality")??!1},set open(t){var e;e=t,Cl.set("skin_quality",e)},get value(){return Zi.skin_quality},set value(t){Zi.skin_quality=t}})},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"skin_texture",children:(t,e)=>{ov(t,{type:"single",get items(){return ze(Dv)},get open(){return Cl.get("skin_texture")??!1},set open(t){var e;e=t,Cl.set("skin_texture",e)},get value(){return Zi.skin_texture},set value(t){Zi.skin_texture=t}})},$$slots:{default:!0}});var o=kt(r,2);nc(o,{name:"boost_glow",children:(t,e)=>{Qg(t,{get checked(){return Zi.boost_glow},set checked(t){Zi.boost_glow=t}})},$$slots:{default:!0}});var i=kt(o,2);nc(i,{name:"snake_shadow",children:(t,e)=>{Qg(t,{get checked(){return Zi.snake_shadow},set checked(t){Zi.snake_shadow=t}})},$$slots:{default:!0}});var a=kt(i,2);nc(a,{name:"dying_animation",children:(t,e)=>{Qg(t,{get checked(){return Zi.dying_animation},set checked(t){Zi.dying_animation=t}})},$$slots:{default:!0}});var l=kt(a,2);nc(l,{name:"show_score",children:(t,e)=>{Qg(t,{get checked(){return Zi.show_score},set checked(t){Zi.show_score=t}})},$$slots:{default:!0}});var c=kt(l,2);nc(c,{name:"show_nick",children:(t,e)=>{Qg(t,{get checked(){return Zi.show_nick},set checked(t){Zi.show_nick=t}})},$$slots:{default:!0}});var d=kt(c,2);nc(d,{name:"nick_colored",children:(t,e)=>{Qg(t,{get checked(){return Zi.nick_colored},set checked(t){Zi.nick_colored=t}})},$$slots:{default:!0}});var u=kt(d,2);nc(u,{name:"nick_size",children:(t,e)=>{var s=Uv(),n=xt(s);pv(n,{type:"single",min:10,max:30,step:1,get value(){return Zi.nick_size},set value(t){Zi.nick_size=t}});var r=wt(kt(n,2));Nt((()=>gs(r,`${Zi.nick_size??""}px`))),hs(t,s)},$$slots:{default:!0}}),nc(kt(u,2),{name:"invisible_my_snake",children:(t,e)=>{Qg(t,{get checked(){return Zi.invisible_my_snake},set checked(t){Zi.invisible_my_snake=t}})},$$slots:{default:!0}}),hs(t,s)},$$slots:{default:!0}})}});var o=kt(r,2);Iv(o,{text:"Food",children:(t,e)=>{oc(t,{children:(t,e)=>{var s=Hv(),n=xt(s);nc(n,{name:"food_glow_effect",children:(t,e)=>{Qg(t,{get checked(){return Zi.food_glow_effect},set checked(t){Zi.food_glow_effect=t}})},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"small_food",children:(t,e)=>{Qg(t,{get checked(){return Zi.small_food},set checked(t){Zi.small_food=t}})},$$slots:{default:!0}});var o=kt(r,2);nc(o,{name:"shake_food",children:(t,e)=>{Qg(t,{get checked(){return Zi.shake_food},set checked(t){Zi.shake_food=t}})},$$slots:{default:!0}});var i=kt(o,2);nc(i,{name:"food_shadow",children:(t,e)=>{Qg(t,{get checked(){return Zi.food_shadow},set checked(t){Zi.food_shadow=t}})},$$slots:{default:!0}}),nc(kt(i,2),{name:"legacy_food",children:(t,e)=>{Qg(t,{get checked(){return Zi.legacy_food},set checked(t){Zi.legacy_food=t}})},$$slots:{default:!0}}),hs(t,s)},$$slots:{default:!0}})}});var i=kt(o,2);Iv(i,{text:"Custom Food",children:(t,e)=>{oc(t,{children:(t,e)=>{var s=Kv(),n=xt(s);nc(n,{name:"custom_food",children:(t,e)=>{Qg(t,{get checked(){return Zi.custom_food},set checked(t){Zi.custom_food=t}})},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"custom_food_size",children:(t,e)=>{var s=qv(),n=xt(s);const r=Z((()=>!Zi.custom_food));pv(n,{type:"single",min:1,max:10,step:1,get disabled(){return ze(r)},get value(){return Zi.custom_food_size},set value(t){Zi.custom_food_size=t}});var o=wt(kt(n,2));Nt((()=>gs(o,Zi.custom_food_size))),hs(t,s)},$$slots:{default:!0}});var o=kt(r,2);nc(o,{name:"custom_food_default_color",children:(t,e)=>{const s=Z((()=>!Zi.custom_food));Qg(t,{get disabled(){return ze(s)},get checked(){return Zi.custom_food_default_color},set checked(t){Zi.custom_food_default_color=t}})},$$slots:{default:!0}});var i=kt(o,2);nc(i,{name:"custom_food_color",children:(t,e)=>{const s=Z((()=>!Zi.custom_food||Zi.custom_food_default_color));Av(t,{get disabled(){return ze(s)},get value(){return Zi.custom_food_color},set value(t){Zi.custom_food_color=t}})},$$slots:{default:!0}});var a=kt(i,2);nc(a,{name:"custom_food_shape",children:(t,e)=>{const s=Z((()=>!Zi.custom_food));ov(t,{type:"single",items:Lv,get open(){return Cl.get("custom_food_shape")??!1},set open(t){var e;e=t,Cl.set("custom_food_shape",e)},get disabled(){return ze(s)},get value(){return Zi.custom_food_shape},set value(t){Zi.custom_food_shape=t}})},$$slots:{default:!0}}),nc(kt(a,2),{name:"custom_food_filled",children:(t,e)=>{const s=Z((()=>!Zi.custom_food));Qg(t,{get disabled(){return ze(s)},get checked(){return Zi.custom_food_filled},set checked(t){Zi.custom_food_filled=t}})},$$slots:{default:!0}}),hs(t,s)},$$slots:{default:!0}})}}),Iv(kt(i,2),{text:"Border",children:(t,e)=>{oc(t,{children:(t,e)=>{var s=Xv(),n=xt(s);nc(n,{name:"border_color",children:(t,e)=>{Av(t,{get value(){return Zi.border_color},set value(t){Zi.border_color=t}})},$$slots:{default:!0}}),nc(kt(n,2),{name:"border_outside_color",children:(t,e)=>{Av(t,{get value(){return Zi.border_outside_color},set value(t){Zi.border_outside_color=t}})},$$slots:{default:!0}}),hs(t,s)},$$slots:{default:!0}})}}),hs(t,s)}}),hs(t,n)}}),H()}var Zv=pn((()=>Zi)),Qv=ls('<!> <span class="inline-block min-w-10 text-center text-xs"> </span>',1),tm=ls("<!> <!> <!>",1);function em(t,e){W(e,!1),un(),oc(t,{children:(t,e)=>{var s=tm(),n=xt(s);Pl(n,{level:2,children:(t,e)=>{var s=ds();s.nodeValue="Zoom",hs(t,s)},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"zoom_smooth",children:(t,e)=>{Qg(t,{get checked(){return Zv().zoom_smooth},set checked(t){Zv(Zv().zoom_smooth=t)},$$legacy:!0})},$$slots:{default:!0}}),nc(kt(r,2),{name:"zoom_sensitivity",children:(t,e)=>{var s=Qv(),n=xt(s);pv(n,{type:"single",min:1,max:15,step:1,get value(){return Zv().zoom_sensitivity},set value(t){Zv(Zv().zoom_sensitivity=t)},$$legacy:!0});var r=wt(kt(n,2));Nt((()=>gs(r,Zv().zoom_sensitivity))),hs(t,s)},$$slots:{default:!0}}),hs(t,s)}}),H()}var sm=ls("<div><div><!></div></div>"),nm=ls("<!> <!>",1);function rm(t,e){W(e,!0);let s=Pn(e,"open",15,!1),n=Pn(e,"disabled",3,!1),r=Mn(e,["$$slots","$$events","$$legacy","button","content","open","disabled"]);var o=us();Ps(xt(o),(()=>ug),((t,o)=>{o(t,$n((()=>r),{get open(){return s()},set open(t){s(t)},children:(t,s)=>{var r=nm(),o=xt(r);Ps(o,(()=>ig),((t,s)=>{s(t,{get disabled(){return n()},class:"inline-flex h-7 w-full max-w-full cursor-pointer items-center justify-center rounded border border-gray-600 bg-slate-600/20 px-2 text-sm font-medium whitespace-nowrap shadow-sm transition-all select-none hover:bg-indigo-800/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50 disabled:pointer-events-none disabled:cursor-not-allowed disabled:brightness-50",children:(t,s)=>{var n=us();Ss(xt(n),(()=>e.button)),hs(t,n)},$$slots:{default:!0}})})),Ps(kt(o,2),(()=>rg),((t,s)=>{s(t,{forceMount:!0,class:"z-30 mt-1 w-full rounded-md border border-gray-600 bg-slate-900/95 p-4 shadow",child:(t,s)=>{var n=us(),r=xt(n),o=t=>{var n=sm();let r;var o=wt(n);let i;Ss(wt(o),(()=>e.content)),Nt((()=>{r=qs(n,r,{...s?.().wrapperProps}),i=qs(o,i,{...s?.().props})})),nn(3,o,(()=>Wr),(()=>({y:-4,duration:200,easing:Dr}))),hs(t,n)};ys(r,(t=>{s?.().open&&t(o)})),hs(t,n)},$$slots:{child:!0}})})),hs(t,r)},$$slots:{default:!0}}))})),hs(t,o),H()}var om=(t,e=h,s=h)=>{var n=im();n.__click=()=>{Zi.map_dot=e()};var r=wt(n);Nt((()=>Hs(r,"src",s()))),hs(t,n)},im=ls('<button class="cursor-pointer rounded-full bg-transparent p-2 transition duration-100 ease-out hover:bg-white/10 focus:ring-2 focus:ring-white/50 focus:outline-none"><img alt="" width="14" height="14"></button>'),am=ls('<div><img alt="" width="14" height="14" draggable="false"></div>'),lm=ls('<div class="grid grid-cols-9"><!> <div class="col-start-2 col-end-10"></div> <!></div>'),cm=ls('<div class="w-16"><!></div>');function dm(t,e){W(e,!0);let s=Pn(e,"open",15);var n=cm();{const t=t=>{var e=am(),s=wt(e);Nt((()=>Hs(s,"src",Yo.mylocsrc))),hs(t,e)},e=t=>{var e=lm(),s=wt(e);om(s,(()=>0),(()=>Ko)),xs(kt(s,4),17,(()=>tr),bs,((t,e)=>{om(t,(()=>ze(e)[0]),(()=>ze(e)[1]))})),hs(t,e)};rm(wt(n),{get open(){return s()},set open(t){s(t)},button:t,content:e,$$slots:{button:!0,content:!0}})}hs(t,n),H()}rs(["click"]);var um=pn((()=>Zi)),hm=ls("<!> <!> <!>",1);function pm(t,e){W(e,!1),un(),oc(t,{children:(t,e)=>{var s=hm(),n=xt(s);Pl(n,{level:2,children:(t,e)=>{var s=ds();s.nodeValue="Minimap",hs(t,s)},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"save_last_pos",children:(t,e)=>{Qg(t,{get checked(){return um().save_last_pos},set checked(t){um(um().save_last_pos=t)},$$legacy:!0})},$$slots:{default:!0}}),nc(kt(r,2),{name:"map_dot",children:(t,e)=>{dm(t,{get open(){return Cl.get("map_dot")??!1},set open(t){var e;e=t,Cl.set("map_dot",e)},$$legacy:!0})},$$slots:{default:!0}}),hs(t,s)}}),H()}var fm=pn((()=>Zi)),gm=ls('<!> <span class="inline-block min-w-10 text-center text-xs"> </span>',1),vm=ls("<!> <!> <!>",1);function mm(t,e){W(e,!1),un(),oc(t,{children:(t,e)=>{var s=vm(),n=xt(s);Pl(n,{level:2,children:(t,e)=>{var s=ds();s.nodeValue="Bot",hs(t,s)},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"visualize",children:(t,e)=>{Qg(t,{get checked(){return fm().visualize},set checked(t){fm(fm().visualize=t)},$$legacy:!0})},$$slots:{default:!0}}),nc(kt(r,2),{name:"follow_circle_length",children:(t,e)=>{var s=gm(),n=xt(s);pv(n,{type:"single",min:1e3,max:5e4,step:1e3,get value(){return fm().follow_circle_length},set value(t){fm(fm().follow_circle_length=t)},$$legacy:!0});var r=wt(kt(n,2));Nt((()=>gs(r,fm().follow_circle_length))),hs(t,s)},$$slots:{default:!0}}),hs(t,s)}}),H()}var ym=pn((()=>Zi)),bm=ls("<!> <!> <!> <!> <!> <!>",1);function wm(t,e){W(e,!1),un(),oc(t,{children:(t,e)=>{var s=bm(),n=xt(s);Pl(n,{level:2,children:(t,e)=>{var s=ds();s.nodeValue="Peek",hs(t,s)},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"peek_true_skin",children:(t,e)=>{Qg(t,{get checked(){return ym().peek_true_skin},set checked(t){ym(ym().peek_true_skin=t)},$$legacy:!0})},$$slots:{default:!0}});var o=kt(r,2);nc(o,{name:"peek_big_food",children:(t,e)=>{Qg(t,{get checked(){return ym().peek_big_food},set checked(t){ym(ym().peek_big_food=t)},$$legacy:!0})},$$slots:{default:!0}});var i=kt(o,2);nc(i,{name:"peek_own_skin",children:(t,e)=>{Qg(t,{get checked(){return ym().peek_own_skin},set checked(t){ym(ym().peek_own_skin=t)},$$legacy:!0})},$$slots:{default:!0}});var a=kt(i,2);nc(a,{name:"peek_own_nick",children:(t,e)=>{Qg(t,{get checked(){return ym().peek_own_nick},set checked(t){ym(ym().peek_own_nick=t)},$$legacy:!0})},$$slots:{default:!0}}),nc(kt(a,2),{name:"peek_key_owner",children:(t,e)=>{Qg(t,{get checked(){return ym().peek_key_owner},set checked(t){ym(ym().peek_key_owner=t)},$$legacy:!0})},$$slots:{default:!0}}),hs(t,s)}}),H()}var xm=pn((()=>Zi)),km=ls("<!> <!> <!> <!> <!> <!> <!>",1);function _m(t,e){W(e,!1),un(),oc(t,{children:(t,e)=>{var s=km(),n=xt(s);Pl(n,{level:2,children:(t,e)=>{var s=ds();s.nodeValue="Assist",hs(t,s)},$$slots:{default:!0}});var r=kt(n,2);nc(r,{name:"asst_lazer_color",children:(t,e)=>{Av(t,{get value(){return xm().asst_lazer_color},set value(t){xm(xm().asst_lazer_color=t)},$$legacy:!0})},$$slots:{default:!0}});var o=kt(r,2);nc(o,{name:"asst_go_skinless",children:(t,e)=>{Qg(t,{get checked(){return xm().asst_go_skinless},set checked(t){xm(xm().asst_go_skinless=t)},$$legacy:!0})},$$slots:{default:!0}});var i=kt(o,2);nc(i,{name:"asst_show_spine",children:(t,e)=>{Qg(t,{get checked(){return xm().asst_show_spine},set checked(t){xm(xm().asst_show_spine=t)},$$legacy:!0})},$$slots:{default:!0}});var a=kt(i,2);nc(a,{name:"asst_lazer_on_top",children:(t,e)=>{Qg(t,{get checked(){return xm().asst_lazer_on_top},set checked(t){xm(xm().asst_lazer_on_top=t)},$$legacy:!0})},$$slots:{default:!0}});var l=kt(a,2);nc(l,{name:"asst_hide_food",children:(t,e)=>{Qg(t,{get checked(){return xm().asst_hide_food},set checked(t){xm(xm().asst_hide_food=t)},$$legacy:!0})},$$slots:{default:!0}}),nc(kt(l,2),{name:"asst_hide_tag_cosme",children:(t,e)=>{Qg(t,{get checked(){return xm().asst_hide_tag_cosme},set checked(t){xm(xm().asst_hide_tag_cosme=t)},$$legacy:!0})},$$slots:{default:!0}}),hs(t,s)}}),H()}var Mm=ls('<div class="h-8 grow px-0 not-first:border-l not-first:border-cyan-400/30"><button class="flex h-full w-full cursor-pointer flex-row items-center justify-center px-2 transition duration-150 hover:bg-purple-400/15 focus-visible:ring-2 focus-visible:ring-cyan-400/50 focus-visible:outline-none active:bg-purple-400/5 data-active:bg-purple-400/30" type="button"><span class="mx-0.5 text-xs tracking-wide"> </span></button></div>'),Am=ls('<div id="settings-modal" class="fixed inset-0 z-50 flex h-screen w-screen items-center justify-center select-none"><div id="settings" class="relative flex h-5/6 max-h-192 w-5/6 max-w-188 flex-col rounded bg-gradient-to-br from-cyan-950/80 via-blue-950/80 to-purple-950/80 py-3.5 text-white backdrop-blur-sm backdrop-brightness-75 text-shadow-neutral-900 text-shadow-sm"><div class="relative mb-3 flex items-center justify-center gap-2 text-2xl"><img alt="" draggable="false"> <span>Stellar settings</span></div> <div class="absolute top-5 right-5"><!></div> <div class="flex w-full flex-row border-y border-cyan-400/20 bg-slate-900/60 py-1"></div> <div class="flex grow scroll-py-16 flex-col gap-y-4 overflow-y-auto rounded-sm bg-indigo-500/5 px-3 pt-4 pb-6 [scrollbar-gutter:stable_both-edges]"><!> <!></div> <!></div></div>');function $m(t,e){W(e,!0);let s=dt(0);const n=[{name:"Controls",component:tc},{name:"General",component:cv},{name:"Graphics",component:Jv},{name:"Zoom",component:em},{name:"Minimap",component:pm},{name:"Bot",component:mm},{name:"Peek",component:wm},{name:"Assist",component:_m}];let r=Z((()=>n[ze(s)].component));var o=us(),i=xt(o),a=t=>{var e=Am(),o=wt(e),i=wt(o);Hs(wt(i),"src",yl);var a=kt(i,2);Rr(wt(a),{onclose:()=>{ya.close()}});var l=kt(a,2);xs(l,21,(()=>n),bs,((t,e,n)=>{var r=Mm(),o=wt(r);o.__click=()=>{pt(s,n,!0)};var i=wt(o),a=wt(i);Nt((()=>{Hs(o,"data-active",ze(s)===n?"":void 0),gs(a,ze(e).name)})),hs(t,r)}));var c=kt(l,2),d=wt(c);Pl(d,{level:1,children:(t,e)=>{var s=ds();s.nodeValue="Controls & Settings",hs(t,s)},$$slots:{default:!0}}),Ps(kt(d,2),(()=>ze(r)),((t,e)=>{e(t,{})})),Ml(kt(c,2),{}),ns("scroll",c,(()=>{for(const[t,e]of Cl)Cl.set(t,!1)})),nn(3,o,(()=>Wr),(()=>({y:-700,duration:400,easing:Dr}))),hs(t,e)};ys(i,(t=>{ya.opened&&t(a)})),hs(t,o),H()}rs(["click"]);var Sm=(t,e,s)=>{const n=Number(t),r=Number(e),o=Number(s);return o<n?o:r>n?r:n},Pm=(t,e,s,n,r)=>{const o=Number(t),i=Number(e),a=Number(s),l=Number(n),c=Number(r);return o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY?o:(o-i)*(c-l)/(a-i)+l},Cm=Math.PI/180,Im=t=>t*Cm,Em=t=>Sm(t,0,255),Fm=(t,e,s,n=1)=>{const r=Em(t),o=Em(e),i=Em(s),a=Math.round(100*Sm(n,0,1))/100;return 1===n?`rgb(${r} ${o} ${i})`:`rgb(${r} ${o} ${i} / ${a})`},Tm=(t,e,s)=>Em(t)<<16|Em(e)<<8|Em(s),Nm=(t,e,s)=>`#${`000000${Tm(t,e,s).toString(16)}`.slice(-6)}`,Om=new Uint8ClampedArray([192,144,128,128,238,255,255,255,224,255,144,80,255,40,100,120,72,160,255,56,56,78,255,101,128,60,0,217,255,144,32,240,240,240,240,32,40,104,0,104,0,128]),Rm=new Uint8ClampedArray([128,153,208,255,238,160,144,64,48,255,153,80,192,136,117,134,84,80,224,68,68,35,86,200,132,192,255,69,64,144,32,32,240,144,32,240,60,128,0,40,0,128]),zm=new Uint8ClampedArray([255,255,208,128,112,96,144,64,224,255,255,80,80,96,255,255,255,255,64,255,255,192,9,232,144,72,83,69,64,144,240,32,32,32,240,32,173,255,112,170,0,255]),Dm=[...Om].map(((t,e)=>[Om[e],Rm[e],zm[e]])),Lm=zn,Bm=[],Vm=[],jm=[],Um=[],Wm=[],Hm=[],qm=[],Km=[],Xm=[],Ym=[],Gm=[],Jm=[],Zm=[],Qm=[],ty=[],ey=[],sy=[],ny=[],ry=[],oy=[],iy=[];{const t=t=>{const e=new OffscreenCanvas(t,t),s=e.getContext("2d");if(null==s)throw new Error("Failed to get the 2D context.");return[e,s]};for(let e=0,s=Dm.length;e<s;e++){const[s,n,r]=Dm[e],o=[],i=[],a=[],l=[],c=[],d=[],u=Nm(s,n,r);{const s={26:3,29:9,30:15,31:7,32:4,33:5,34:0,35:3,36:7,41:15}[e]??e;let n=Om[s],r=Rm[s],o=zm[s];const i=(n+r+o)/3;if(24>=i)n=r=o=90;else{const t=120/i;n=Math.min(255,Math.floor(n*t)),r=Math.min(255,Math.floor(r*t)),o=Math.min(255,Math.floor(o*t))}const[a,l]=t(62),c=l.canvas.width,d=c/2,u=l.getImageData(0,0,c,c),h=u.data,p=h.length;for(let t=0,e=0,s=0;t<p;t+=4){let i=1-Math.sqrt((d-e)**2+(d-s)**2)/32;i=0>i?0:.5*(1-Math.cos(Math.PI*i)),h[t]=n,h[t+1]=r,h[t+2]=o,h[t+3]=Math.floor(255*i),e++,e>=c&&(e=0,s++)}l.putImageData(u,0,0),Bm.push(a)}{const i=48,a=34,l=i/2,[c,d]=t(i);d.fillStyle="#FFFFFF",d.arc(l,l,l,0,Ln),d.fill();const u=d.getImageData(0,0,i,i),h=u.data,p=h.length,f=36!==e?7:60;for(let g=0;g<f;g++){for(let t=0,o=0,c=0;t<p;t+=4){const d=Sm(1-Math.sqrt((o-l)**2+(c-l)**2)/a,0,1);let u,p,v,m,y=0;switch(Lm?y=d**.5:(y=Sm(1-Math.abs(c-l)/l,0,1)**.35,y+=.375*(d-y)),e){case 24:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min((1.05*t)**4,1),u=y*(1.22-.44*g/(f-1)),p=s+(306-s)*t,v=n+(192*1.2-n)*t,m=r+(76.8-r)*t;break}case 26:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=y*(1.22-.44*g/(f-1)),i=s*e,a=n*e,d=r*e;u=1,p=i+(140.8-i)*t,v=a+(280.5-a)*t,m=d+(136*1.1-d)*t;break}case 27:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=y*(1.22-.44*g/(f-1)),i=s*e,a=n*e,d=r*e;u=1,p=i+(217*1.1-i)*t,v=a+(75.9-a)*t,m=d+(75.9-d)*t;break}case 28:{const t=.5-.5*Math.cos(Math.PI*g/f);u=Math.min(1.1*y,1),p=s+(128-s)*t,v=n+(128-n)*t,m=r+(255-r)*t;break}case 29:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=y*(1.44-.88*g/(f-1)),s=32*e,n=32*e,r=32*e;u=1,p=s+(255-s)*t,v=n+(255-n)*t,m=r+(255-r)*t;break}case 30:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=(.1+.9*g/f)%1,s=80*e,n=80*e,r=128+160*e;u=1,p=s+.3*(255-s)*t,v=n+.3*(255-n)*t,m=r+.3*(357-r)*t;break}case 31:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=(.1+.9*g/f)%1,s=128+160*e,n=80*e,r=80*e;u=1,p=s+.3*(357-s)*t,v=n+.3*(255-n)*t,m=r+.3*(255-r)*t;break}case 32:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=(.1+.9*g/f)%1,s=96+128*e,n=96+128*e,r=80*e;u=1,p=s+.6*(306-s)*t,v=n+.6*(306-n)*t,m=r+.6*(255-r)*t;break}case 33:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=(.1+.9*g/f)%1,s=96+128*e,n=48+80*e,r=48*e;u=1,p=s+.6*(306-s)*t,v=n+.6*(280.5-n)*t,m=r+.6*(255-r)*t;break}case 34:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=(.1+.9*g/f)%1,s=96+128*e,n=80*e,r=96+128*e;u=1,p=s+.6*(306-s)*t,v=n+.6*(255-n)*t,m=r+.6*(306-r)*t;break}case 35:{let t=Math.sqrt((.5*(o-l))**2+(c-l)**2)/l;t=Math.min(t**2,1);const e=(.1+.9*g/f)%1,s=80*e,n=96+128*e,r=80*e;u=1,p=s+.6*(255-s)*t,v=n+.6*(306-n)*t,m=r+.6*(255-r)*t;break}case 36:{let t=s,a=n,d=r,h=(g/f+.6+o/i*.25)%1,b=(c-l)/i;b=1.3*(b-1.3*(h-.5)),b*=2,0>b&&(b=-b),b*=2.4,1>b&&(t+=(561-t)*(1-b),a+=(561-a)*(1-b),d+=(561-d)*(1-b)),b=.5>h?(c-.055*l-l)/i:(c+.055*l-l)/i,b=1.3*(b-1.3*(h-.5)),b*=2,0>b&&(b=-b),b*=4.8,1>b&&(t+=(255-t)*(1-b),a+=(32-a)*(1-b),d+=(64-d)*(1-b)),b=(l-c)/i,b=1.3*(b-1.3*(h-.5)),b*=2,0>b&&(b=-b),b*=2.4,1>b&&(t+=(561-t)*(1-b),a+=(561-a)*(1-b),d+=(561-d)*(1-b)),b=.5>h?(l+.055*l-c)/i:(l-.055*l-c)/i,b=1.3*(b-1.3*(h-.5)),b*=2,0>b&&(b=-b),b*=4.8,1>b&&(t+=(255-t)*(1-b),a+=(32-a)*(1-b),d+=(64-d)*(1-b)),b=(c-l)/i,.47<=h&&.53>=h?(t=255,a=32,d=64):-.1<=b&&.1>=b?(h=.5-h,0>h&&(h=-h),h=1-(h/.5)**2,t+=(255-t)*h,a+=(32-a)*h,d+=(64-d)*h):(.44<=h&&.56>=h||-.15<=b&&.15>=b)&&(h=.5-h,0>h&&(h=-h),h=1-(h/.5)**2,t+=(255-t)*h,a+=(255-a)*h,d+=(255-d)*h),Lm||(y=Sm(1-Math.abs(c-l)/l,0,1)**.35,b=Sm(1-Math.abs(c-l)/l,0,1)**.5,t+=(Om[e]-t)*(1-b),a+=(Rm[e]-a)*(1-b),d+=(zm[e]-d)*(1-b)),u=y,p=t,v=a,m=d;break}case 41:{let t=Math.sqrt((.5*(o-l))**2+(1*(c-l))**2)/l;t=Math.min(t**2,1);const e=(.1+.9*g/f)%1,s=240*e,n=255*e,r=160+255*e;u=1,p=s+.3*(255-s)*t,v=n+.3*(255-n)*t,m=r+.3*(357-r)*t;break}default:u=y*(1.22-.44*g/(f-1)),p=s,v=n,m=r}h[t+0]=Sm(Math.floor(p*u),0,255),h[t+1]=Sm(Math.floor(v*u),0,255),h[t+2]=Sm(Math.floor(m*u),0,255),o++,o>=i&&(o=0,c++)}d.putImageData(u,0,0);const[v,m]=t(i);switch(m.drawImage(c,0,0),e){case 10:{const[t,e]=Lm?[-4,3]:[-1,1],s=i/32;for(let n=t;n<=e;n++){const t=Ln*n/8,e=l+s*Math.cos(t)*13,r=l+s*Math.sin(t)*13;m.fillStyle="#FFFFFF",m.beginPath();for(let t=0;5>=t;t++){const n=Ln*t/5,o=e+s*Math.cos(n)*.05*24,i=r+s*Math.sin(n)*.05*24;0===t?m.moveTo(o,i):m.lineTo(o,i);const a=Ln*(t+.5)/5,l=e+s*Math.cos(a)*3.1,c=r+s*Math.sin(a)*3.1;m.lineTo(l,c)}m.fill()}break}case 19:{const[t,e]=Lm?[-7,7]:[-2,2],s=i/32;for(let n=t;n<=e;n++){const t=Ln*n/15,e=l+s*Math.cos(t)*13,r=l+s*Math.sin(t)*13;m.globalAlpha=.7,m.fillStyle="#FFFFFF",m.beginPath();for(let t=0;5>=t;t++){const n=Ln*t/5,o=e+s*Math.cos(n)*.05*12,i=r+s*Math.sin(n)*.05*12;0===t?m.moveTo(o,i):m.lineTo(o,i);const a=Ln*(t+.5)/5,l=e+s*Math.cos(a)*1.55,c=r+s*Math.sin(a)*1.55;m.lineTo(l,c)}m.fill()}break}case 20:{const[t,e]=Lm?[-6.5,7.5]:[-1.5,1.5],s=i/32;for(let n=t;n<=e;n++){const t=Ln*n/15,e=l+s*Math.cos(t)*13,r=l+s*Math.sin(t)*13;m.globalAlpha=.7,m.fillStyle="#FFFFFF",m.beginPath();for(let t=0;5>=t;t++){const n=Ln*t/5,o=e+s*Math.cos(n)*.05*14,i=r+s*Math.sin(n)*.05*14;0===t?m.moveTo(o,i):m.lineTo(o,i);const a=Ln*(t+.5)/5,l=e+s*Math.cos(a)*1.8,c=r+s*Math.sin(a)*1.8;m.lineTo(l,c)}m.fill()}break}}o.push(v)}}for(let o=2.8;o<=18.8;o++){{const a=Math.ceil(2*(.65*o+0)),l=a/2,[c,d]=t(a),u=.2,h=d.createRadialGradient(l,l,0,l,l,l);let p=s,f=n,g=r;9===e&&(p=160,f=160,g=160),h.addColorStop(0,Fm(p,f,g,1)),h.addColorStop(.99,Fm(p,f,g,u)),h.addColorStop(1,Fm(p,f,g,0)),d.fillStyle=h,d.fillRect(0,0,a,a),i.push(c),0===e&&(Um.push(a),Wm.push(l))}if(0===e){const e=Math.ceil(2*(.7*o+0))+2+20,s=e/2,[n,r]=t(e),i=e-20;r.shadowBlur=6,r.shadowOffsetY=1+2*o/18.8,r.shadowColor="#000000",r.globalAlpha=1,r.beginPath();for(let t=0;t<=600;t++){const e=s+Math.cos(Ln*t/600)*i/2,n=s+Math.sin(Ln*t/600)*i/2;0===t?r.moveTo(e,n):r.lineTo(e,n)}r.fill(),Hm.push(n),qm.push(e),Km.push(s)}{const i=Math.ceil(8*o+6),l=i/2,[c,d]=t(i),u=d.createRadialGradient(l,l,1,l,l,4*o);u.addColorStop(0,Fm(s,n,r,1)),u.addColorStop(1,Fm(s,n,r,0)),d.fillStyle=u,d.fillRect(0,0,i,i),a.push(c),0===e&&(Ym.push(i),Gm.push(l))}{const s=Math.ceil(2.5*o+28),n=s/2,[r,i]=t(s);i.fillStyle=u,i.arc(n,n,.65*o,0,Ln),i.shadowBlur=12,i.shadowOffsetY=0,i.shadowColor=u,i.globalAlpha=.8,i.fill(),i.globalAlpha=1,i.fill(),l.push(r),0===e&&(Zm.push(s),Qm.push(n))}{const i=Math.ceil(1.3*o+6),a=i/2,[l,d]=t(i),u=.2,h=Math.floor(s*u),p=Math.floor(n*u),f=Math.floor(r*u),g=d.createRadialGradient(a,a,0,a,a,o/2);g.addColorStop(0,Fm(s,n,r,1)),g.addColorStop(.99,Fm(h,p,f,1)),g.addColorStop(1,Fm(h,p,f,0)),d.fillStyle=g,d.fillRect(0,0,i,i),d.strokeStyle="#000000",d.lineWidth=2,d.arc(a,a,.65*o,0,Ln),d.globalAlpha=1,d.stroke(),c.push(l),0===e&&(ey.push(i),sy.push(a))}}for(let s=3;s<=24;s++){const n=Math.ceil(2*s+38),r=n/2,[o,i]=t(n);i.fillStyle=u,i.arc(r,r,s/2,0,Ln),i.shadowBlur=22,i.shadowOffsetY=0,i.shadowColor=u,i.fill(),i.fill(),d.push(o),0===e&&(ry.push(n),oy.push(r))}Vm.push(o),jm.push(i),Xm.push(a),Jm.push(l),ty.push(c),ny.push(d),iy.push(u)}}var ay=t=>{if(!Array.isArray(t))throw new Error("Parsed data is not an array!");if(!t.length)throw new Error("No data found in the file!");return t.forEach(((t,e)=>{if("object"!=typeof t||null===t)throw new Error(`Invalid data at index ${e}: Expected an object.`);if(!("build"in t)||!("cosmetic"in t)||!("tag"in t))throw new Error(`Missing 'build / cosmetic / tag' in object at index ${e}`)})),!0},ly=async t=>{if(!(t&&t instanceof File))return alert("No file selected!");if(!t.name.endsWith(".stellar"))return alert("Invalid file type! Please select a .stellar file.");try{const e=await t.text(),s=JSON.parse(e);if(ay(s)){const t=await On.get("custom_skin");if(0<t.length)for(const e of s)-1===t.findIndex((t=>JSON.stringify(t.build)===JSON.stringify(e.build)&&JSON.stringify(t.cosmetic)===JSON.stringify(e.cosmetic)&&t.tag===e.tag))&&t.push(e);else t.push(...s);ma.total=66+t.length,await On.set("custom_skin",t),alert("Import successful!")}}catch(t){t instanceof Error?alert(`Import failed: ${t.message}`):alert("Import failed: Unknown error occurred.")}},cy=async()=>{try{const t=await On.get("custom_skin");if(!t)throw new Error("No skins found in chrome storage!");if(0===t.length)throw new Error("No Custom Skins Found!");const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(e),s.download="skins.stellar",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(s.href)}catch(t){t instanceof Error?alert(`Export failed: ${t.message}`):alert("Export failed: Unknown error occurred.")}},dy="zxcvbnm,asdfghjklqwertyuiop[1234567890-",uy=`${dy}`.split(""),hy=new RegExp(`[^a-zA-Z${dy}]`,"g"),py=!1,fy=t=>{if(py)return;py=!0,ma.bskbtns.length=0;const e=[],s=[];for(let s=0,n=0;s<4;s++){const r=t.length*(s+1)>>2;let o=0;for(let t=n;t<r;t++,o++);e.push(o),n=r}e[0]--,e[1]--,e[2]++,e[3]++;let n=0;for(const r of e){const e=[];for(let s=0;s<r;s++)e.push(t[n++]);s.push(e)}let r=0;for(const t of s){const e=[];for(const s of t)if(s>=0&&s<Vm.length){const t=Vm[s][0],n=new OffscreenCanvas(t.width,t.height),o=n.getContext("2d");if(null==n||null==o)return;o.rotate(Math.PI),o.drawImage(t,-t.width,-t.height),o.setTransform(1,0,0,1,0,0),o.font="bold 16px Arial",o.fillStyle="white",o.textAlign="right",o.textBaseline="bottom",o.shadowColor="rgba(0, 0, 0, 0.9)",o.shadowBlur=4,o.shadowOffsetX=2,o.shadowOffsetY=2,o.fillText(uy[r],n.width,n.height),e.push({ww:t.width,hh:t.height,cv:s,ii:null,fn:()=>{ma.clickColor(s)},cc:n}),r++}ma.bskbtns.push(e)}},gy="/assets/notallow.webp",vy=new Map,my=t=>{const e=new OffscreenCanvas(t.w,t.h),s=e.getContext("2d");if(null==s)throw new Error("Failed to get canvas context");const n=new Image;return n.src=t.i,n.onload=()=>{s.translate(t.w/2,t.h/2),s.rotate(Im(t.a)),s.drawImage(n,-t.w/2,-t.h/2,t.w,t.h)},e},yy=(t,e)=>t.a!==e.a||t.l!==e.l||t.t!==e.t||t.w!==e.w||t.h!==e.h,by=t=>{const e=vy.get(t.i);if(null==e||yy(e,t)){const e=my(t);vy.set(t.i,{i:t.i,cc:e,a:t.a,l:t.l,t:t.t,w:t.w,h:t.h})}},wy=new Map,xy=t=>{const e=t.w+42,s=t.h+42,n=new OffscreenCanvas(e,s),r=n.getContext("2d"),o=new OffscreenCanvas(e,s),i=o.getContext("2d");if(null==r||null==i)throw new Error("Failed to get canvas context");const a=new Image;return a.src=t.i,a.onload=()=>{i.translate(e/2,s/2),i.rotate(Im(t.a)),i.drawImage(a,0,0,a.width,a.height,-t.w/2,-t.h/2,t.w,t.h),r.shadowColor="#000000",r.shadowBlur=20,r.drawImage(o,0,0)},n},ky=t=>{const e=wy.get(t.i);if(null==e||(n=t,(s=e).a!==n.a||s.w!==n.w||s.h!==n.h||s.l!==n.l||s.t!==n.t||s.bc!==n.bc||s.bs!==n.bs)){const e=xy(t);wy.set(t.i,{i:t.i,cc:e,a:t.a,l:t.l,t:t.t,w:t.w,h:t.h,bc:t.bc,bs:t.bs})}var s,n};async function _y(t){const e=await On.get("credentials");e.forEach((e=>{e.type===t&&(e.isActive=!1)})),await On.set("credentials",e)}async function My(t){const e=await On.get("credentials"),s=e.findIndex((e=>e.id===t.i.toString()&&e.type===t.type));s>=0&&(e[s].name=t.a),await On.set("credentials",e)}var Ay=new Map,$y=vn(Ay);$y.subscribe((t=>{Ay=t;for(const[,e]of t)ky(e)}));var Sy=new Map,Py=vn(Sy);Py.subscribe((t=>{Sy=t;for(const[,e]of t)by(e)}));var Cy=null;function Iy(t){Cy&&Cy.readyState===WebSocket.OPEN&&Cy.send(JSON.stringify(t))}var Ey=Rn(gy),Fy=[{u:Rn("/assets/a_oakley.png"),sc:.205,px:66,py:87,loaded:!1},{u:Rn("/assets/a_graduation.png"),sc:.2,px:205,py:101,loaded:!1},{u:Rn("/assets/a_funkystar.png"),sc:.205,px:83,py:87,loaded:!1},{u:Rn("/assets/a_headphones.png"),sc:.25,px:130,py:97,loaded:!1},{u:Rn("/assets/a_eyebrows.png"),sc:.25,px:64,py:82,loaded:!1},{u:Rn("/assets/a_spikecollar.png"),sc:.25,px:94,py:79,loaded:!1},{u:Rn("/assets/a_disguise.png"),sc:.25,px:64,py:90,loaded:!1},{u:Rn("/assets/a_cape.png"),sc:.32,px:170,py:86,loaded:!1},{u:Rn("/assets/a_crown.png"),sc:.18,px:180,py:75,loaded:!1},{u:Rn("/assets/a_antlers.png"),sc:.3,px:120,py:100,loaded:!1},{u:Rn("/assets/a_unicorn.png"),sc:.3,px:201,py:40,loaded:!1},{u:Rn("/assets/a_angel.png"),sc:.3,px:152,py:125,loaded:!1},{u:Rn("/assets/a_bat.png"),sc:.25,px:132,py:150,loaded:!1},{u:Rn("/assets/a_dragon.png"),sc:.25,px:145,py:140,loaded:!1},{u:Rn("/assets/a_bear.png"),sc:.165,px:115,py:90,loaded:!1},{u:Rn("/assets/a_rabbit.png"),sc:.19,px:172,py:125,loaded:!1},{u:Rn("/assets/a_cat.png"),sc:.19,px:127,py:90,loaded:!1},{u:Rn("/assets/a_dreadlocks.png"),sc:.25,px:114,py:80,loaded:!1},{u:Rn("/assets/a_blonde.png"),sc:.225,px:144,py:85,loaded:!1},{u:Rn("/assets/a_ginger.png"),sc:.225,px:154,py:89,loaded:!1},{u:Rn("/assets/a_blackhair.png"),sc:.215,px:159,py:91,loaded:!1},{u:Rn("/assets/a_mohawk.png"),sc:.215,px:184,py:47,loaded:!1},{u:Rn("/assets/a_catglass.png"),sc:.19,px:88,py:106,loaded:!1},{u:Rn("/assets/a_swirly.png"),sc:.19,px:63,py:106,loaded:!1},{u:Rn("/assets/a_nerdglass.png"),sc:.19,px:93,py:105,loaded:!1},{u:Rn("/assets/a_3dglass.png"),sc:.17,px:94,py:122,loaded:!1},{u:Rn("/assets/a_heartglass.png"),sc:.153,px:54,py:113,loaded:!1},{u:Rn("/assets/a_monocle.png"),sc:.175,px:60,py:22,loaded:!1},{u:Rn("/assets/a_deerstalker.png"),sc:.19,px:195,py:77,loaded:!1},{u:Rn("/assets/a_visor.png"),sc:.21,px:77,py:92,loaded:!1},{u:Rn("/assets/a_cap.png"),sc:.19,px:194,py:80,loaded:!1},{u:Rn("/assets/a_hardhat.png"),sc:.16,px:223,py:90,loaded:!1}].map(((t,e)=>{const s=new Image,n={ai:e,u:t.u,sc:t.sc,px:t.px,py:t.py,loaded:!1,img:s,ww:0,hh:0};return s.src=n.u,s.onload=()=>{n.ww=s.width,n.hh=s.height,n.loaded=!0},n})),Ty=[],Ny=vn(Ty);Ny.subscribe((t=>{Ty=t})),async function(){try{const t=await fetch("https://server.stellarslither.com/api/get-cosmetics");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();Ny.set(e.keys)}catch(t){}}().then((()=>{Ty.forEach((t=>{const e=new Image;e.src=t.imageUrl,e.onload=()=>{Fy.push({ai:t.id,u:t.imageUrl,sc:0,px:0,py:0,loaded:!0,img:e,ww:e.width,hh:e.height,custom:t})}}))}));var Oy=new Image;Oy.src=Ey,Oy.onload=()=>{zy.ww=Oy.width*Dy,zy.hh=Oy.height*Dy};var Ry=async()=>{ma.clickCosmetic(255);const t=await On.get("credentials");t.forEach(((t,e)=>{"cosmetic"===t.type&&(t.isActive=!1)})),await On.set("credentials",t),await On.set("publicCosmetic",0)},zy={ww:0,hh:0,fn:async()=>{await Ry(),Py.set(new Map)},ai:255,u:Ey},Dy=.2,Ly=!1,By=()=>{if(!Ly){Ly=!0,ma.cosbtns.length=0;for(const t of Fy)ma.cosbtns.push({ww:.32*t.ww,hh:.32*t.hh,fn:async()=>{if(t.custom){await Ry();const e=new Map;e.set("1",{a:t.custom.angle,l:t.custom.leftPos,t:t.custom.topPos,w:t.custom.width,h:t.custom.height,i:t.custom.imageUrl,s:In.serverAddress,si:"1"}),Py.set(e),await On.set("publicCosmetic",t.custom.id)}else await Ry(),Py.set(new Map),ma.clickCosmetic(t.ai)},custom:!!t.custom,ai:t.ai,u:t.u});ma.cosbtns.push(zy)}},Vy=Rn(gy),jy=[],Uy=[],Wy=vn(Uy);Wy.subscribe((t=>{Uy=t})),async function(){try{const t=await fetch("https://server.stellarslither.com/api/get-tag");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();Wy.set(e.keys)}catch(t){}}().then((()=>{Uy.forEach((t=>{const e=new Image;e.src=t.imageUrl,e.onload=()=>{jy.push({ai:t.id,u:t.imageUrl,loaded:!0,img:e,ww:e.width,hh:e.height,custom:t})}}))}));var Hy=new Image;Hy.src=Vy,Hy.onload=()=>{Ky.ww=Hy.width*Xy,Ky.hh=Hy.height*Xy};var qy=async()=>{const t=await On.get("credentials");t.forEach(((t,e)=>{"tag"===t.type&&(t.isActive=!1)})),await On.set("credentials",t),await On.set("publicTag",0)},Ky={ww:0,hh:0,fn:async()=>{await qy(),$y.set(new Map)},ai:255,u:Vy},Xy=.2,Yy=!1,Gy=()=>{if(!Yy){Yy=!0,ma.tagbtns.length=0;for(const t of jy)ma.tagbtns.push({ww:.32*t.ww,hh:.32*t.hh,fn:async()=>{if(t.custom){await qy();const e=new Map;e.set("1",{a:t.custom.angle,l:t.custom.leftPos,t:t.custom.topPos,w:t.custom.width,h:t.custom.height,i:t.custom.imageUrl,bc:t.custom.borderColor,bs:t.custom.borderShadow,s:In.serverAddress,si:"1"}),$y.set(e),await On.set("publicTag",t.custom.id)}else await qy(),$y.set(new Map)},custom:!!t.custom,ai:t.ai,u:t.u});ma.tagbtns.push(Ky)}},Jy=()=>{},Zy=()=>{},Qy=()=>{},tb=()=>{},eb=()=>{},sb=()=>{},nb=()=>{},rb=t=>{ly(t.target.files[0])},ob=()=>{cy()},ib=ls('<button class="fixed right-5 bottom-6 z-50 h-25 w-auto cursor-pointer" id="build-skin-button"><img class="pointer-events-none h-full" alt="" draggable="false"> Skin</button> <button class="fixed right-32 bottom-6 z-50 h-25 w-auto cursor-pointer" id="select-cosmetics"><img class="pointer-events-none h-full" alt="" draggable="false"> Cosmetic</button> <button class="fixed right-60 bottom-6 z-50 h-25 w-auto cursor-pointer" id="select-tag"><img class="pointer-events-none h-full" alt="" draggable="false"> Tag</button> <div class="pointer-events-none fixed top-1/2 left-1/2 z-52 flex h-[140px] -translate-x-1/2 translate-y-[var(--y)] items-center justify-center"><button type="button" id="previous-skin-button" class="pointer-events-auto w-auto cursor-pointer"><img alt="Previous Skin" class="h-[140px]" height="140" draggable="false"></button> <button type="button" id="save-skin-button" class="pointer-events-auto relative z-53 w-auto translate-y-[var(--y)] cursor-pointer"><img alt="Save Skin" class="h-[100px]" height="100" draggable="false"> <span class="absolute top-1/2 left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 text-white">Save</span></button> <button type="button" id="next-skin-button" class="pointer-events-auto w-auto cursor-pointer"><img alt="Next Skin" class="h-[140px]" height="140" draggable="false"></button></div> <div class="fixed top-1/2 left-1/2 z-53 -translate-1/2 translate-y-[var(--y)] text-white"><div class="flex items-center justify-start">Find Skin : <input class="mx-2 h-8 w-12 rounded border-1 border-white/50 bg-transparent text-center text-base text-white outline-none focus-visible:ring-2 focus-visible:ring-blue-400" type="text"> <span class="mx-1"> </span> <button type="button" class="cursor-pointer hover:opacity-70"><img alt="delete custom skin" draggable="false"></button></div></div> <div class="pointer-events-none fixed top-1/2 z-53 w-full translate-y-[var(--y)]"><div class="flex w-full gap-x-1 px-[5%]"><input type="text" id="build-skin-input" class="pointer-events-auto grow border-b border-b-gray-500 bg-transparent text-white focus:outline-none" placeholder="Enter your skin code" spellcheck="false"> <button type="button" id="build-skin-copy" class="pointer-events-auto shrink-0 cursor-pointer hover:opacity-70!"><img alt="Copy Skin Code" draggable="false"></button></div> <div class="mt-44 flex justify-center"><button type="button" id="reset-button" class="pointer-events-auto relative cursor-pointer"><img alt="" draggable="false"> <span class="absolute top-1/2 left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 pb-1.5 text-white">Reset</span></button> <button type="button" id="extend-save-button" class="pointer-events-auto relative cursor-pointer"><img alt="" draggable="false"> <span class="absolute top-1/2 left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 pb-1.5 text-white">Extend & Save</span></button> <button type="button" id="delete-button" class="pointer-events-auto relative cursor-pointer"><img alt="" draggable="false"> <span class="absolute top-1/2 left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 pb-1.5 text-white">Delete Last</span></button></div></div> <div class="fixed top-4 right-4 z-10 flex flex-col gap-y-2"><div id="uploadBtnParent" style="display: none"><label class="relative block w-44 cursor-pointer"><img alt="" title="import .stellar file"> <span class="absolute top-1/2 left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 text-sm text-white">Import Skins</span> <input type="file" accept=".stellar" class="!hidden"></label></div> <div id="ExportButtonParent" style="display: none"><button class="relative block w-44 cursor-pointer" type="button"><img alt="" title="Export .stellar file"> <span class="absolute top-1/2 left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 text-sm text-white">Export Skins</span></button></div></div>',1);function ab(t,e){W(e,!0);const s=Rn("/assets/build_skin.webp"),n=Rn("/assets/build_skin_hover.webp"),r=Rn("/assets/choose_cosmetic.webp"),o=Rn("/assets/choose_cosmetic_hover.webp"),i=Rn("/assets/choose_tag.webp"),a=Rn("/assets/choose_tag_hover.webp"),l=Rn("/assets/left_arrow.webp"),c=Rn("/assets/left_arrow_hover.webp"),d=Rn("/assets/right_arrow.webp"),u=Rn("/assets/right_arrow_hover.webp"),h=Rn("/assets/save.webp"),p=Rn("/assets/save_hover.webp"),f=Rn(Sa),g=Rn(Pa),v=Rn("/assets/copy.webp"),m=Rn("/assets/delete.png"),y=Rn("/assets/upload.webp"),b=Rn("/assets/upload_hover.webp");let w=dt(Y(s)),x=dt(Y(r)),k=dt(Y(i)),_=dt(Y(l)),M=dt(Y(d)),A=dt(Y(h)),$=dt(Y(f)),S=dt(Y(f)),P=dt(Y(f)),C=dt(Y(y)),I=dt(Y(y)),E=Z((()=>-10*Fn.skoboym+.5*Fn.secosoym+.5*Fn.setagoym+"px")),F=Z((()=>94*Fn.skoboym+"px"));const T=t=>{const e=`${t}`.replace(/\D/g,"");if(!e)return-1;const s=Number(e);return Number.isFinite(s)?Math.min(Math.max(s,0),ma.total):-1};var N=ib(),O=xt(N),R=wt(O),z=kt(O,2),D=wt(z),L=kt(z,2),B=wt(L),V=kt(L,2);Ls(V,"",{},{"--y":"160px"});var j=wt(V);j.__click=[Jy];var U=wt(j),q=kt(j,2);let K;q.__click=[Zy];var X=wt(q),G=kt(q,2);G.__click=[Qy];var J=wt(G),Q=kt(V,2);let tt;var et=wt(Q),st=kt(wt(et)),nt=kt(st,1,!0);nt.nodeValue=" / ";var rt=kt(nt),ot=wt(rt),it=kt(rt,2);let at;it.__click=()=>ma.remove(),Hs(wt(it),"src",m);var lt=kt(Q,2);let ct;var ut=wt(lt),ht=kt(wt(ut),2);ht.__click=[tb],Hs(wt(ht),"src",v);var ft=wt(kt(ut,2));ft.__click=[eb];var gt=wt(ft),vt=kt(ft,2);vt.__click=[sb];var mt=wt(vt),yt=kt(vt,2);yt.__click=[nb];var bt=wt(yt),_t=wt(kt(lt,2)),Mt=wt(_t),At=wt(Mt);Hs(At,"draggable",!1),kt(At,4).__change=[rb];var $t=wt(kt(_t,2));$t.__click=[ob];var St=wt($t);Hs(St,"draggable",!1),Nt((()=>{Hs(R,"src",ze(w)),Hs(D,"src",ze(x)),Hs(B,"src",ze(k)),Hs(U,"src",ze(_)),K=Ls(q,"",K,{"--y":ze(E)}),Hs(X,"src",ze(A)),Hs(J,"src",ze(M)),tt=Ls(Q,"",tt,{opacity:En.opacity,display:En.display,"--y":"70px"}),gs(ot,ma.total),at=Ls(it,"",at,{visibility:65<ma.rcv?"visible":"hidden","pointer-events":65<ma.rcv?"auto":"none"}),ct=Ls(lt,"",ct,{"--y":ze(F)}),Hs(gt,"src",ze($)),Hs(mt,"src",ze(S)),Hs(bt,"src",ze(P)),Hs(At,"src",ze(C)),Hs(St,"src",ze(I))})),ns("mouseenter",O,(()=>{pt(w,n,!0)})),ns("mouseleave",O,(()=>{pt(w,s,!0)})),ns("mouseenter",z,(()=>{pt(x,o,!0)})),ns("mouseleave",z,(()=>{pt(x,r,!0)})),ns("mouseenter",L,(()=>{pt(k,a,!0)})),ns("mouseleave",L,(()=>{pt(k,i,!0)})),ns("mouseenter",j,(()=>{pt(_,c,!0)})),ns("mouseleave",j,(()=>{pt(_,l,!0)})),ns("mouseenter",q,(()=>{pt(A,p,!0)})),ns("mouseleave",q,(()=>{pt(A,h,!0)})),ns("mouseenter",G,(()=>{pt(M,u,!0)})),ns("mouseleave",G,(()=>{pt(M,d,!0)})),on(st,(()=>-1===ma.rcv?"":ma.rcv+1),(t=>{ma.rcv=T(t),-1!==ma.rcv&&ma.inputSkin()})),ns("mouseenter",ft,(()=>{pt($,g,!0)})),ns("mouseleave",ft,(()=>{pt($,f,!0)})),ns("mouseenter",vt,(()=>{pt(S,g,!0)})),ns("mouseleave",vt,(()=>{pt(S,f,!0)})),ns("mouseenter",yt,(()=>{pt(P,g,!0)})),ns("mouseleave",yt,(()=>{pt(P,f,!0)})),ns("mouseenter",Mt,(()=>{pt(C,b,!0)})),ns("mouseleave",Mt,(()=>{pt(C,y,!0)})),ns("mouseenter",$t,(()=>{pt(I,b,!0)})),ns("mouseleave",$t,(()=>{pt(I,y,!0)})),hs(t,N),H()}rs(["click","change"]);var lb=ls('<img class="absolute z-14" alt="" draggable="false">'),cb=ls('<img class="absolute z-15" width="15px" height="15px" alt="" draggable="false">'),db=ls('<img class="absolute z-15" alt="" draggable="false">'),ub=ls('<img class="absolute z-15" width="15px" height="15px" alt="" draggable="false">'),hb=ls('<img class="absolute z-15" alt="" draggable="false">'),pb=ls('<img class="absolute z-15" alt="" draggable="false">'),fb=ls('<div class="absolute z-16 size-[14px] translate-x-[var(--x)] translate-y-[var(--y)] transform-gpu rounded-full bg-yellow-500/60"></div>'),gb=ls('<div class="absolute top-0 left-0 z-20 size-full"></div>'),vb=ls('<div class="fixed right-0 bottom-36 z-10 transform-gpu"><img class="absolute top-0 left-0 z-11 transform-gpu opacity-45" alt="" draggable="false"> <canvas class="rendering-pixelated absolute top-1/2 left-1/2 z-12 -translate-x-1/2 -translate-y-1/2"></canvas> <div class="absolute top-1/2 left-1/2 z-13 -translate-x-1/2 -translate-y-1/2"><!> <!> <!> <!></div></div>');function mb(t,e){W(e,!0);const[s,n]=xn(),r=()=>wn(No,"$connected",s);let o=Z((()=>0!==Yo.alpha));var i=vb();let a;var l=wt(i),c=kt(l,2);dn(c,(t=>Yo.cc=t),(()=>Yo?.cc));var d=kt(c,2);let u;var h=wt(d),p=t=>{var e=lb();let s;Nt((()=>{Hs(e,"src",Yo.lplocsrc),s=Ls(e,"",s,{transform:Yo.lpostrf,"will-change":ze(o)?"transform":null})})),hs(t,e)};ys(h,(t=>{Yo.show_last&&t(p)}));var f=kt(h,2),g=t=>{var e=us();xs(xt(e),1,(()=>Array.from(wn(Io,"$teamData",s).values())),bs,((t,e)=>{var n=us(),r=xt(n),i=t=>{var n=us(),r=xt(n),i=t=>{var s=us(),n=xt(s),r=t=>{var s=cb();let n;Nt((t=>{Hs(s,"src","food"===ze(e).ss?Ho:Wo),n=Ls(s,"",n,{transform:t,"will-change":ze(o)?"transform":null})}),[()=>Yo.getMapPos(ze(e).po.x,ze(e).po.y)]),hs(t,s)},i=t=>{var s=db();let n;Nt(((t,r)=>{Hs(s,"src",t),Hs(s,"width",ze(e).po.size),Hs(s,"height",ze(e).po.size),n=Ls(s,"",n,{transform:r,"will-change":ze(o)?"transform":null})}),[()=>Yo.getPlayerDotSrc(ze(e).mp),()=>Yo.getMapPos(ze(e).po.x,ze(e).po.y)]),hs(t,s)};ys(n,(t=>{"food"===ze(e).ss||"sos"===ze(e).ss?t(r):t(i,!1)})),hs(t,s)},a=t=>{var s=us(),n=xt(s),r=t=>{var s=ub();let n;Nt((()=>{Hs(s,"src","food"===ze(e).ss?Ho:Wo),n=Ls(s,"",n,{transform:Yo.mypostrf,"will-change":ze(o)?"transform":null})})),hs(t,s)},i=t=>{var e=hb();let s;Nt((()=>{Hs(e,"src",Yo.mylocsrc),Hs(e,"width",Yo.isize),Hs(e,"height",Yo.isize),s=Ls(e,"",s,{transform:Yo.mypostrf,"will-change":ze(o)?"transform":null})})),hs(t,e)};ys(n,(t=>{"food"===ze(e).ss||"sos"===ze(e).ss?t(r):t(i,!1)})),hs(t,s)};ys(r,(t=>{ze(e).i!==wn(Oo,"$myId",s)?t(i):t(a,!1)})),hs(t,n)};ys(r,(t=>{ze(e).po&&ze(e).si===In.serverAddress&&t(i)})),hs(t,n)})),hs(t,e)},v=t=>{var e=pb();let s;Nt((()=>{Hs(e,"src",Yo.mylocsrc),Hs(e,"width",Yo.isize),Hs(e,"height",Yo.isize),s=Ls(e,"",s,{transform:Yo.mypostrf,"will-change":ze(o)?"transform":null})})),hs(t,e)};ys(f,(t=>{r()?t(g):t(v,!1)}));var m=kt(f,2),y=t=>{var e=fb();let s;Nt((()=>s=Ls(e,"",s,{"--x":`${Yo.mpos.x}px`,"--y":`${Yo.mpos.y}px`,"will-change":ze(o)?"transform":null}))),hs(t,e)};ys(m,(t=>{Yo.showMarker&&t(y)}));var b=kt(m,2),w=t=>{var e=gb();e.__click=t=>Yo.handleClickMarker(t.offsetX,t.offsetY),hs(t,e)};ys(b,(t=>{r()&&t(w)})),Nt((()=>{a=Ls(i,"",a,{width:`${Yo.baseSize}px`,height:`${Yo.baseSize}px`,opacity:Yo.alpha,display:ze(o)?"block":"none"}),Hs(l,"src",Yo.mapsrc),Hs(c,"width",Yo.mmsz),Hs(c,"height",Yo.mmsz),u=Ls(d,"",u,{width:`${Yo.mmsz}px`,height:`${Yo.mmsz}px`})})),hs(t,i),H(),n()}rs(["click"]);var yb=ls('<div class="saved-empty px-4 py-2 text-gray-500">No saved credentials</div>'),bb=ls('<div><button class="edit-btn flex gap-2 text-gray-500" title="Edit"><!> <span> </span></button></div>'),wb=ls('<div id="saved-dropdown" class="dropdown absolute right-0 mt-2 w-52 border border-gray-300 rounded shadow-lg z-10"><div id="saved-list" class="saved-list"><!></div></div>'),xb=ls('<div id="login-dropdown" class="dropdown absolute right-0 mt-2 w-40 border border-gray-300 rounded shadow-lg z-10"><button class="w-full text-left px-4 py-2 hover:bg-gray-100">Team Login</button> <button class="w-full text-left px-4 py-2 hover:bg-gray-100">Enter Tag Code</button> <button class="w-full text-left px-4 py-2 hover:bg-gray-100">Enter Cosmetic Code</button></div>'),kb=ls("<span><!></span>"),_b=ls("<span><!></span>"),Mb=ls('<div><div><div class="sender flex items-center gap-2 mb-1 text-xs font-semibold"><!> <span> </span></div> <div class="text-sm whitespace-pre-line"> </div> <div class="time text-xs text-gray-400 mt-1"> </div></div></div>'),Ab=ls('<button type="button" class="btn cancel-btn bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300 mr-2"> </button> <button type="button" class="btn cancel-btn bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300 mr-2">Delete</button>',1),$b=ls('<div id="login-form" class="login-form fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"><div class="modal-content rounded-lg shadow-xl w-full max-w-md"><div class="modal-header flex items-center justify-between px-6 py-4 border-b"><h3 id="login-title" class="modal-title text-lg font-semibold"> </h3> <button id="login-close" class="icon-btn close-btn text-xl text-gray-400 hover:text-gray-700" aria-label="Close">\xd7</button></div> <form id="login-form-el" class="modal-form px-6 py-4" autocomplete="off"><div class="form-group mb-4"><label for="login-name" class="block text-sm font-medium mb-1"> </label> <input type="text" id="login-name" name="name" class="w-full border border-gray-300 rounded px-3 py-2" placeholder="Enter here..." required></div> <div id="field-password" class="form-group mb-4 relative"><label for="login-password" class="block text-sm font-medium mb-1"> </label> <input type="password" id="login-password" name="password" class="w-full border border-gray-300 rounded px-3 py-2" placeholder="Enter here..." required> <button type="button" class="absolute right-3 top-1 cursor-pointer text-gray-500 hover:text-gray-700"><!></button></div> <div class="form-actions flex justify-end"><!> <button type="submit" class="btn save-btn bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">Save</button></div></form></div></div>'),Sb=ls('<div id="left-side-overlay"><div class="chat-header flex items-center justify-between px-4 py-2 border-b border-gray-200"><div class="header-left flex items-center gap-3"><img alt="Stellar Mod Logo" class="logo logo-32 w-8 h-8"> <div class="header-info flex flex-col"><button type="button" id="join-vc-btn"><!> <span>Join VC</span></button></div></div> <div class="header-actions flex items-center gap-2 relative"><button id="saved-profiles-btn" class="btn px-3 py-1 rounded bg-gray-100 text-sm flex items-center gap-1">Saved Profiles <!></button> <button id="login-options-btn" class="btn px-3 py-1 rounded bg-gray-100 text-sm flex items-center gap-1">Login Options <!></button> <!> <!></div> <div class="flex justify-center align-center w-3rem right-side-toggler absolute svelte-6nl62k"><button id="slide-btn" class="svelte-6nl62k"><!></button></div></div> <div id="messages" class="messages-container flex-1 overflow-y-auto px-4 py-5"><div class="message-logo flex justify-center my-6"><div class="logo-container rounded-full shadow"><img alt="Stellar Mod Logo" class="logo logo-48 w-12 h-12"></div></div> <!></div> <div class="chat-input px-4 py-3 border-t border-gray-200"><div class="controls flex items-center gap-2"><button id="mic-btn" title="Toggle Mic"><!></button> <button id="volume-btn" title="Toggle Volume"><!></button> <input id="message-input" class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none" type="text" placeholder="Type a message..."> <button id="send-btn" class="icon-btn send-btn p-2 rounded-full bg-indigo-600 text-white ml-1 hover:bg-indigo-700" title="Send"><!></button></div></div> <!></div>');function Pb(t,e){W(e,!1);const[s,n]=xn(),r=()=>wn(Po,"$chatMessages",s),o=()=>wn(Gr,"$showSidebar",s),i=()=>wn(No,"$connected",s),a=()=>wn(Ro,"$myUser",s),l=()=>wn(Oo,"$myId",s);async function c(t){await Re(),setTimeout((()=>{const t=document.getElementById("messages");t&&(t.scrollTop=t.scrollHeight)}),10)}let d=ut(),u=ut();function h(t){t.stopPropagation()}let p=ut(""),f=ut(!0),g=ut(!0),m=ut(!1),b=ut(!1),w=ut(!1),x=ut("team"),k=ut({id:null,password:""}),_=ut([]),M=ut(null),A=ut(!1);async function $(){return await On.get("credentials")}async function S(){pt(_,await $())}function P(t){pt(x,t),pt(w,!0),pt(b,!1),pt(k,{id:null,password:""}),pt(M,null)}function C(t){pt(M,t),pt(x,t.type),pt(k,{id:t.id,password:t.password}),pt(m,!1),pt(w,!0)}async function I(t){if(t.preventDefault(),"team"===ze(x))pt(A,!1),window.postMessage({type:"STELLAR_CLOSE_VC_POPUP"},"*"),Bo({wsUrl:"wss://server.stellarslither.com/team/ws",userKey:ze(k).password,teamId:ze(k).id});else{"cosmetic"===ze(x)?await Ry():await qy();const t=await On.get("credentials"),e=t.findIndex((t=>t.id===ze(k).id&&t.type===ze(x))),s={type:ze(x),id:ze(k).id,password:ze(k).password,isActive:!0,name:""};e>=0?t[e]=s:t.push(s),await On.set("credentials",t),Iy({type:"tag"===ze(x)?"VERIFY_TAGS":"VERIFY_COSMETICS",payload:{id:ze(k).id,password:ze(k).password}})}pt(w,!1)}function E(){if(ze(u).blur(),"/clear"===ze(p).trim())return Po.set([]),void pt(p,"");if(i()){if(!ze(p).trim())return;t=ze(p),So?.send(JSON.stringify({type:"send-chat",message:t})),pt(p,"")}var t;pt(p,"")}async function F(){if(null==ze(M))return;const t=ze(M);let e=await $();e=e.filter((e=>!(e.id===t.id&&e.password===t.password&&e.type===t.type))),"team"===ze(M).type&&ze(M).isActive&&(pt(A,!1),window.postMessage({type:"STELLAR_CLOSE_VC_POPUP"},"*"),Vo()),await On.set("credentials",e),pt(w,!1),pt(M,null),pt(k,{id:null,password:""})}async function T(){if(null==ze(M))return;const t=ze(M);let e=await $();e.forEach(((e,s)=>{t?.type===e.type&&(e.isActive=!1,"team"===e.type&&(pt(A,!1),window.postMessage({type:"STELLAR_CLOSE_VC_POPUP"},"*"),Vo()))})),await On.set("credentials",e),pt(w,!1),pt(M,null),pt(k,{id:null,password:""})}var N;Cn((async()=>{window.addEventListener("message",(t=>{if(t.source===window&&"content"===t.data?.from)if("permission"===t.data.reason){if("error"===t.data.permission)return Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Error Getting Audio Permission.",time:Date.now()}])),void window.postMessage({type:"STELLAR_CLOSE_VC_POPUP"},"*");if("success"===t.data.permission){const t=a();return pt(f,!1),pt(g,!1),void window.postMessage({type:"STELLAR_SEND_TEAM_DATA",payload:t},"*")}if("denied"===t.data.permission)return Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Audio Permission Denied.",time:Date.now()}])),void window.postMessage({type:"STELLAR_CLOSE_VC_POPUP"},"*")}else"stellar-send-message"===t.data.reason?jo(t.data.payload):"mic-status"===t.data.reason?pt(f,t.data.payload):"speaker-status"===t.data.reason&&pt(g,t.data.payload)}));const t=await $();for(let e=0;e<t.length;e++)if("team"===t[e].type&&t[e].isActive){Bo({wsUrl:"wss://server.stellarslither.com/team/ws",userKey:t[e].password,teamId:t[e].id});break}})),Ft((()=>r()),(()=>{c(r())})),Ft((()=>o()),(()=>{o()})),N=B,Tt((()=>{if(ze(N.l.r2)){for(var t of N.l.r1){var e=t.effect;0!==(e.f&v)&&Be(e,y),xe(e)&&Ce(e),t.ran=!1}N.l.r2.v=!1}})),un();var O=Sb();let R;var z=wt(O),D=wt(z),L=wt(D);Hs(L,"src",yl);var V=wt(kt(L,2));let j;Cr(wt(V),{class:"w-4 h-4"});var U=kt(D,2),q=wt(U),K=kt(wt(q)),X=t=>{gr(t,{class:"w-4 h-4"})},Y=t=>{hr(t,{class:"w-4 h-4"})};ys(K,(t=>{ze(m)?t(X):t(Y,!1)}));var G=kt(q,2),J=kt(wt(G)),Z=t=>{gr(t,{class:"w-4 h-4"})},tt=t=>{hr(t,{class:"w-4 h-4"})};ys(J,(t=>{ze(b)?t(Z):t(tt,!1)}));var et=kt(G,2),st=t=>{var e=wb(),s=wt(e),n=wt(s),r=t=>{hs(t,yb())},o=t=>{var e=us();xs(xt(e),1,(()=>ze(_)),bs,((t,e)=>{var s=bb();let n;var r=wt(s),o=wt(r),i=t=>{Sr(t,{class:"w-4 h-4"})},a=(t,s)=>{var n=t=>{Ir(t,{class:"w-4 h-4"})},r=t=>{$r(t,{class:"w-4 h-4"})};ys(t,(t=>{"team"===ze(e).type?t(n):t(r,!1)}),s)};ys(o,(t=>{"tag"===ze(e).type?t(i):t(a,!1)}));var l=wt(kt(o,2));Nt((t=>{n=zs(s,1,"saved-item flex items-center justify-between",null,n,t),gs(l,`${ze(e).name??""} (${ze(e).id??""})`)}),[()=>({active:ze(e).isActive})],Q),ns("click",r,(()=>C(ze(e)))),hs(t,s)})),hs(t,e)};ys(n,(t=>{0===ze(_).length?t(r):t(o,!1)})),hs(t,e)};ys(et,(t=>{ze(m)&&t(st)}));var nt=kt(et,2),rt=t=>{var e=xb(),s=wt(e),n=kt(s,2),r=kt(n,2);ns("click",s,(()=>P("team"))),ns("click",n,(()=>P("tag"))),ns("click",r,(()=>P("cosmetic"))),hs(t,e)};ys(nt,(t=>{ze(b)&&t(rt)}));var ot=wt(kt(U,2)),it=wt(ot),at=t=>{fr(t,{class:"w-4 h-4"})},lt=t=>{pr(t,{class:"w-4 h-4"})};ys(it,(t=>{o()?t(lt,!1):t(at)}));var ct=kt(z,2),dt=wt(ct),ft=wt(dt);Hs(wt(ft),"src",bl),xs(kt(dt,2),1,r,bs,((t,e)=>{var s=Mb();let n;var r=wt(s);let o;var c=wt(r),d=wt(c),u=t=>{var e=kb();dr(wt(e),{class:"w-4 h-4"}),hs(t,e)},h=t=>{var s=_b();Cr(wt(s),{class:"w-4 h-4"}),Nt((()=>Ls(s,`color: ${ze(e).color??""}`))),hs(t,s)};ys(d,(t=>{"bot"===ze(e).from?t(u):t(h,!1)}));var p=kt(d,2);let f;var g=wt(p),v=kt(c,2),m=wt(v),y=wt(kt(v,2));Nt(((t,i,a)=>{n=zs(s,1,"message",null,n,t),o=zs(r,1,"bubble max-w-xs md:max-w-md inline-block p-3 rounded-lg shadow-sm",null,o,i),f=Ls(p,"",f,{color:ze(e).color}),gs(g,ze(e).name),gs(m,ze(e).text),gs(y,a)}),[()=>({mentioned:i()&&ze(e)?.text?.toLowerCase().includes(`@${a()?.name?.toLowerCase()}`),"text-right":ze(e).from===l()}),()=>({"ml-auto":ze(e).from===l()}),()=>{return t=ze(e).time,new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});var t}],Q),hs(t,s)}));var gt=kt(ct,2),vt=wt(gt),mt=wt(vt);let yt;var bt=wt(mt),_t=t=>{xr(t,{class:"w-4 h-4"})},Mt=t=>{kr(t,{class:"w-4 h-4"})};ys(bt,(t=>{ze(f)?t(_t):t(Mt,!1)}));var At=kt(mt,2);let $t;var St=wt(At),Pt=t=>{Fr(t,{class:"w-4 h-4"})},Ct=t=>{Er(t,{class:"w-4 h-4"})};ys(St,(t=>{ze(g)?t(Pt):t(Ct,!1)}));var It=kt(At,2);dn(It,(t=>pt(u,t)),(()=>ze(u)));var Et=kt(It,2);Ar(wt(Et),{});var Ot=kt(gt,2),Rt=t=>{var e=$b(),s=wt(e),n=wt(s),r=wt(n),o=wt(r),i=kt(r,2),a=kt(n,2),l=wt(a),c=wt(l),d=wt(c),u=kt(c,2),p=kt(l,2),f=wt(p),g=wt(f),v=kt(f,2),m=kt(v,2),y=wt(m),b=t=>{wr(t,{class:"w-4 h-4"})};ys(y,(t=>{ze(k).password&&ze(k).password.length>0&&t(b)}));var _,A=wt(kt(p,2)),$=t=>{var e=Ab(),s=xt(e),n=wt(s),r=kt(s,2);Nt((()=>gs(n,"No "+("tag"===ze(x)?"Tag":"team"===ze(x)?"Team":"Cosmetic")))),ns("click",s,(()=>{T()})),ns("click",r,F),hs(t,e)};ys(A,(t=>{ze(M)&&t($)})),Nt((()=>{gs(o,"tag"===ze(x)?"Enter Tag Code":"team"===ze(x)?"Team Login":"Enter Cosmetic Code"),gs(d,"tag"===ze(x)?"Tag id":"team"===ze(x)?"Team id":"Cosmetic id"),gs(g,"tag"===ze(x)?"Password":"team"===ze(x)?"User key":"Password")})),ns("click",i,(()=>pt(w,!1))),on(u,(()=>ze(k).id),(t=>ht(k,ze(k).id=t))),ns("keydown",u,h),on(v,(()=>ze(k).password),(t=>ht(k,ze(k).password=t))),ns("keydown",v,h),ns("click",m,(()=>{const t=document.getElementById("login-password");t.type="password"===t.type?"text":"password"})),ns("submit",a,(_=I,function(...t){return t[0].preventDefault(),_?.apply(this,t)})),hs(t,e)};ys(Ot,(t=>{ze(w)&&t(Rt)})),dn(O,(t=>pt(d,t)),(()=>ze(d))),Nt(((t,e,s,n)=>{R=zs(O,1,"chat-box fixed left-0 top-0 h-full shadow-xl flex flex-col z-50",null,R,t),j=zs(V,1,"cursor-pointer vc-button flex items-center gap-2 px-2 py-1 text-indigo-700 rounded text-xs font-medium",null,j,e),Hs(q,"aria-expanded",ze(m)),Hs(G,"aria-expanded",ze(b)),yt=zs(mt,1,"icon-btn p-2 rounded-full hover:bg-gray-100",null,yt,s),$t=zs(At,1,"icon-btn p-2 rounded-full hover:bg-gray-100",null,$t,n)}),[()=>({close:!o()}),()=>({"bg-gray-900":ze(A)}),()=>({"bg-red-100":ze(f)}),()=>({"bg-red-100":ze(g)})],Q),ns("click",V,(function(){i()&&(pt(A,!ze(A)),ze(A)?window.postMessage({type:"STELLAR_OPEN_VC_POPUP"},"*"):window.postMessage({type:"STELLAR_CLOSE_VC_POPUP"},"*"))})),ns("click",q,(function(){pt(m,!ze(m)),pt(b,!1),S()})),ns("click",G,(function(){pt(b,!ze(b)),pt(m,!1)})),ns("click",ot,(()=>Gr.update((t=>!t)))),ns("click",mt,(()=>{window.postMessage({type:"STELLAR_TOGGLE_MIC",payload:!ze(f)},"*")})),ns("click",At,(()=>{window.postMessage({type:"STELLAR_TOGGLE_SPEAKER",payload:!ze(g)},"*")})),on(It,(()=>ze(p)),(t=>pt(p,t))),ns("keydown",It,(function(t){var e;"Enter"===(e=t).key&&(e.preventDefault(),e.stopPropagation(),E()),t.stopPropagation()})),ns("click",Et,E),ns("wheel",O,(function(t){t.stopPropagation()}),!0),hs(t,O),H(),n()}var Cb=ls('<canvas id="main_canvas" class="pointer-events-none fixed top-0 left-0 z-5 brightness-[var(--brightness)] select-none"></canvas>');function Ib(t,e){W(e,!0);let s=Z((()=>Pm(Zi.brightness,0,10,.5,1.5)));var n=Cb();let r;Nt((()=>r=Ls(n,"",r,{"--brightness":ze(s)}))),hs(t,n),H()}var Eb=ls('<button class="grid h-24 w-28 cursor-pointer place-items-center opacity-70 hover:opacity-100 active:opacity-60" type="button"><img alt="" draggable="false"></button>'),Fb=ls('<div class="fixed top-1/2 left-1/2 z-20 w-198 -translate-x-1/2 translate-y-[var(--y)] max-h-[30vh]"><div class="flex w-full flex-wrap-reverse"></div></div>');function Tb(t,e){W(e,!1),un();var s=Fb();let n;xs(wt(s),5,(()=>ma.tagbtns),bs,((t,e)=>{var s=Eb();s.__click=function(...t){ze(e).fn?.apply(this,t)};var n=wt(s);let r;Nt((t=>{r=zs(n,1,"pointer-events-none",null,r,t),Hs(n,"src",ze(e).u),Hs(n,"width",ze(e).custom?72:ze(e).ww),Hs(n,"height",ze(e).custom?72:ze(e).hh)}),[()=>({"rotate-90":!ze(e).custom})],Q),hs(t,s)})),Nt((()=>n=Ls(s,"",n,{overflow:"overlay","--y":"-360px",opacity:Fn.setaga,"pointer-events":1===Fn.setaga?"auto":"none",display:0===Fn.setaga?"none":"block"}))),hs(t,s),H()}rs(["click"]);var Nb=ls("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);(function(t,{target:e,anchor:s,props:r={},events:o,context:i,intro:a=!0}){vt();var l=new Set,c=t=>{for(var s=0;s<t.length;s++){var n=t[s];if(!l.has(n)){l.add(n);var r=(i=n,Xe.includes(i));e.addEventListener(n,os,{passive:r});var o=vs.get(n);void 0===o?(document.addEventListener(n,os,{passive:r}),vs.set(n,1)):vs.set(n,o+1)}}var i};c(n(Qe)),ts.add(c);var d=void 0,u=It((()=>{var n=s??e.appendChild(mt());return Rt((()=>{i&&(W({}),B.c=i),o&&(r.$$events=o),ps=a,d=t(n,r)||{},ps=!0,i&&H()})),()=>{for(var t of l){e.removeEventListener(t,os);var r=vs.get(t);0===--r?(document.removeEventListener(t,os),vs.delete(t)):vs.set(t,r)}ts.delete(c),n!==s&&n.parentNode?.removeChild(n)}}));ms.set(d,u)})((function(t){var e=Nb(),s=xt(e);$a(s,{});var n=kt(s,2);ol(n);var r=kt(n,2);ab(r,{});var o=kt(r,2);Za(o,{});var i=kt(o,2);dl(i,{});var a=kt(i,2);fl(a,{});var l=kt(a,2);$m(l,{});var c=kt(l,2);_a(c,{});var d=kt(c,2);ml(d,{});var u=kt(d,2);Tb(u,{});var h=kt(u,2);el(h,{});var p=kt(h,2);mb(p,{});var f=kt(p,2);$o(f,{});var g=kt(f,2);Pb(g,{}),Ib(kt(g,2),{}),hs(t,e)}),{target:document.body});var Ob=document.createDocumentFragment();for(const t of["login","smh","pskh","nskh","etcod","nbg","saveh"]){const e=document.getElementById(t);e&&Ob.appendChild(e)}var Rb=document.getElementById("previous-skin-button");Rb.style.display="none";var zb=document.getElementById("next-skin-button");zb.style.display="none";var Db=document.getElementById("save-skin-button");Db.style.display="none";var Lb=document.getElementById("reset-button");Lb.style.display="none";var Bb=document.getElementById("extend-save-button");Bb.style.display="none";var Vb=document.getElementById("delete-button");Vb.style.display="none";var jb=document.getElementById("build-skin-copy");jb.style.display="none";var Ub=document.getElementById("build-skin-input");Ub.style.display="none";var Wb=document.getElementById("build-skin-button");Wb.style.display="none";var Hb=document.getElementById("select-cosmetics");Hb.style.display="none";var qb=document.getElementById("select-tag");qb.style.display="none";var Kb,Xb=Rn("/assets/kwk6.png"),Yb=Rn("/assets/jmou3.png"),Gb=Rn("/assets/pewd.png"),Jb=Rn("/assets/sest5.png"),Zb=Rn("/assets/play.png"),Qb=Rn("/assets/bonkers2.png"),tw=Rn("/assets/leaf.png"),ew=Rn("/assets/swiss.png"),sw=Rn("/assets/moldova.png"),nw=Rn("/assets/vietnam.png"),rw=Rn("/assets/argentina.png"),ow=Rn("/assets/mov2.png"),iw=document.createElement("canvas");iw.width=iw.height=48,(Kb=iw.getContext("2d")).fillStyle="#000000",Kb.moveTo(36,6),Kb.lineTo(30,6),Kb.quadraticCurveTo(0,24,30,42),Kb.lineTo(36,42),Kb.quadraticCurveTo(14,24,36,6),Kb.fill();var aw=document.createElement("canvas");aw.width=aw.height=32,(Kb=aw.getContext("2d")).fillStyle="#FF9966",Kb.arc(16,16,16,0,Ln),Kb.fill();var lw=52,cw=document.createElement("canvas");cw.width=cw.height=lw;var dw=(Kb=cw.getContext("2d")).getImageData(0,0,lw,lw),uw=dw.data,hw=uw.length,pw=0,fw=0,gw=0;for(pw=0;pw<hw;pw+=4){let t=Math.abs(Math.sqrt((lw/2-fw)**2+(lw/2-gw)**2)-16);t=t<=4?1-t/4:0,t*=.8,uw[pw]=uw[pw+1]=uw[pw+2]=0,uw[pw+3]=Math.floor(255*t),++fw>=lw&&(fw=0,gw++)}Kb.putImageData(dw,0,0),lw=62;var vw=document.createElement("canvas");for(vw.width=vw.height=lw,hw=(uw=(dw=(Kb=vw.getContext("2d")).getImageData(0,0,lw,lw)).data).length,pw=0,fw=0,gw=0,pw=0;pw<hw;pw+=4){let t=Math.sqrt((lw/2-fw)**2+(lw/2+3-gw)**2)-15;t*=.1,t<0&&(t=-t),t>1&&(t=1),t=1-t,t*=.25,uw[pw]=uw[pw+1]=uw[pw+2]=0,uw[pw+3]=Math.floor(255*t),++fw>=lw&&(fw=0,gw++)}Kb.putImageData(dw,0,0),lw=64;var mw=document.createElement("canvas");for(mw.width=mw.height=lw,(Kb=mw.getContext("2d")).fillStyle="#ffffff",Kb.beginPath(),Kb.arc(lw/2,lw/2,lw/2,0,Ln),Kb.fill(),hw=(uw=(dw=Kb.getImageData(0,0,lw,lw)).data).length,fw=0,gw=0,pw=0;pw<hw;pw+=4){let t=Math.abs(lw/2-Math.sqrt((lw/2-fw)**2+(lw/2-gw)**2))/(lw/2);t=1.06*t-.06,t<0?t=0:(t=t**.35,t*=1.35),t+=.25*(1-t),uw[pw]=Math.max(0,Math.min(255,Math.round(72*t))),uw[pw+1]=Math.max(0,Math.min(255,Math.round(255*t))),uw[pw+2]=Math.max(0,Math.min(255,Math.round(116*t))),++fw>=lw&&(fw=0,gw++),t=lw/2-Math.sqrt((lw/2-fw)**2+(lw/2-gw)**2),uw[pw+3]=t<=3?Math.max(0,Math.min(255,Math.round(t/3*255))):255}Kb.putImageData(dw,0,0),lw=48;var yw=document.createElement("canvas");for(yw.width=yw.height=lw,(Kb=yw.getContext("2d")).fillStyle="#ffffff",Kb.beginPath(),Kb.arc(lw/2,lw/2,lw/2,0,Ln),Kb.fill(),hw=(uw=(dw=Kb.getImageData(0,0,lw,lw)).data).length,pw=0,fw=0,gw=0,pw=0;pw<hw;pw+=4){let t=Math.abs(lw/2-Math.sqrt((lw/2-fw)**2+(lw/2-gw)**2))/(lw/2);t=t>.5?0:1-(t/.5)**1,t*=.8,0==t?(uw[pw]=0,uw[pw+1]=0,uw[pw+2]=0):(uw[pw]=Math.max(0,Math.min(255,Math.round(28+59*t))),uw[pw+1]=Math.max(0,Math.min(255,Math.round(83+85*t))),uw[pw+2]=Math.max(0,Math.min(255,Math.round(128+110*t)))),++fw>=lw&&(fw=0,gw++)}Kb.putImageData(dw,0,0);var bw=document.createElement("canvas");bw.width=bw.height=64;var ww=(Kb=bw.getContext("2d")).createRadialGradient(32,32,1,32,32,31);ww.addColorStop(0,"rgba(255, 255, 255, 1)"),ww.addColorStop(.83,"rgba(150,150,150, 1)"),ww.addColorStop(.84,"rgba(80,80,80, 1)"),ww.addColorStop(.99,"rgba(80,80,80, 1)"),ww.addColorStop(1,"rgba(80,80,80, 0)"),Kb.fillStyle=ww,Kb.fillRect(0,0,64,64);var xw=document.createElement("canvas");xw.width=84,xw.height=84;var kw=document.createElement("canvas");kw.width=84,kw.height=84,(Kb=kw.getContext("2d")).fillStyle="#ff5609",Kb.fillRect(13,10,29,64),Kb.fillRect(13,10,58,22),Kb.fillRect(13,54,58,22),(Kb=xw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(kw,0,0),Kb.drawImage(kw,0,0);var _w=document.createElement("canvas");_w.width=_w.height=64,(ww=(Kb=_w.getContext("2d")).createRadialGradient(32,32,1,32,32,31)).addColorStop(0,"rgba(255, 128, 128, 1)"),ww.addColorStop(.5,"rgba(222, 3, 3, 1)"),ww.addColorStop(.96,"rgba(157, 18, 18, 1)"),ww.addColorStop(1,"rgba(0,0,0, 0)"),Kb.fillStyle=ww,Kb.fillRect(0,0,64,64);var Mw=document.createElement("canvas");Mw.width=172,Mw.height=113;var Aw=document.createElement("img");Aw.onload=()=>{const t=document.createElement("canvas");t.width=172,t.height=113,(Kb=t.getContext("2d")).drawImage(Aw,21,21),(Kb=Mw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Aw.src=Xb;var $w=document.createElement("canvas");$w.width=79,$w.height=130;var Sw=document.createElement("img");Sw.onload=()=>{(Kb=$w.getContext("2d")).drawImage(Sw,0,0)},Sw.src=Yb;var Pw=document.createElement("canvas");Pw.width=190,Pw.height=188;var Cw=document.createElement("img");Cw.onload=()=>{const t=document.createElement("canvas");t.width=190,t.height=188,(Kb=t.getContext("2d")).drawImage(Cw,21,21),(Kb=Pw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Cw.src=Gb;var Iw=document.createElement("canvas");Iw.width=105,Iw.height=88;var Ew=document.createElement("img");Ew.onload=()=>{(Kb=Iw.getContext("2d")).drawImage(Ew,0,0)},Ew.src=Jb;var Fw=document.createElement("canvas");Fw.width=142,Fw.height=149;var Tw=document.createElement("img");Tw.onload=()=>{const t=document.createElement("canvas");t.width=142,t.height=149,(Kb=t.getContext("2d")).drawImage(Tw,21,21),(Kb=Fw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Tw.src=Zb;var Nw=document.createElement("canvas");Nw.width=173,Nw.height=178;var Ow=document.createElement("img");Ow.onload=()=>{const t=document.createElement("canvas");t.width=173,t.height=178,(Kb=t.getContext("2d")).drawImage(Ow,21,21),(Kb=Nw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Ow.src=Qb;var Rw=document.createElement("canvas");Rw.width=143,Rw.height=161;var zw=document.createElement("img");zw.onload=()=>{const t=document.createElement("canvas");t.width=143,t.height=161,(Kb=t.getContext("2d")).drawImage(zw,21,21),(Kb=Rw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},zw.src=tw;var Dw=document.createElement("canvas");Dw.width=140,Dw.height=140;var Lw=document.createElement("img");Lw.onload=()=>{const t=document.createElement("canvas");t.width=140,t.height=140,(Kb=t.getContext("2d")).drawImage(Lw,21,21),(Kb=Dw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Lw.src=ew;var Bw=document.createElement("canvas");Bw.width=162,Bw.height=137;var Vw=document.createElement("img");Vw.onload=()=>{const t=document.createElement("canvas");t.width=162,t.height=137,(Kb=t.getContext("2d")).drawImage(Vw,21,21),(Kb=Bw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Vw.src=sw;var jw=document.createElement("canvas");jw.width=137,jw.height=142;var Uw=document.createElement("img");Uw.onload=()=>{const t=document.createElement("canvas");t.width=137,t.height=142,(Kb=t.getContext("2d")).drawImage(Uw,21,21),(Kb=jw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Uw.src=nw;var Ww=document.createElement("canvas");Ww.width=152,Ww.height=152;var Hw=document.createElement("img");Hw.onload=()=>{const t=document.createElement("canvas");t.width=152,t.height=152,(Kb=t.getContext("2d")).drawImage(Hw,21,21),(Kb=Ww.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Hw.src=rw;var qw=document.createElement("canvas");qw.width=142,qw.height=163;var Kw=document.createElement("img");Kw.onload=()=>{const t=document.createElement("canvas");t.width=142,t.height=163,(Kb=t.getContext("2d")).drawImage(Kw,21,21),(Kb=qw.getContext("2d")).shadowColor="#000000",Kb.shadowBlur=20,Kb.drawImage(t,0,0)},Kw.src=ow,document.getElementById("playerList");var Xw=document.createElement("div");Xw.textContent="BETA",Object.assign(Xw.style,{position:"fixed",bottom:"16px",left:"16px",color:"white",opacity:"0.5",fontWeight:"100",fontSize:"26px",zIndex:"1000"}),document.body.appendChild(Xw),Rb.onclick=()=>{dx(ma.rcv-1)},zb.onclick=()=>{dx(ma.rcv+1)},Db.onclick=()=>{if(null!=f_)if(!YM||GM){if(Jw&&!Zw)return zb.style.display=Rb.style.display="inline",En.display="inline",Wb.style.display="inline",Hb.style.display="inline",qb.style.display="inline",ax.style.display="inline",lx.style.display="inline",void(Zw=!0);if(Qw&&!tx)return zb.style.display=Rb.style.display="inline",En.display="inline",Wb.style.display="inline",Hb.style.display="inline",qb.style.display="inline",ax.style.display="inline",lx.style.display="inline",void(tx=!0);C_&&(so(!0),al(!0),I_=C_=!1,F_=performance.now()-5e3),[Rb,zb,Wb,Hb,qb,ax,lx,Db,Lb,Vb,Bb,Ub,jb].forEach((t=>t.style.display="none")),En.display="none"}else{zb.style.display=Rb.style.display="inline",En.display="inline",Wb.style.display="inline",Hb.style.display="inline",qb.style.display="inline",ax.style.display="inline",lx.style.display="inline",GM=!0;let t=Yw.length?Rk(!1):null;if(!t)try{let e=localStorage.custom_skin;e?.length&&(t=new Uint8Array(e.split(",").map(Number)))}catch{}if(t?.length){Fk(f_,0,t),cx();try{localStorage.custom_skin=t.join(","),localStorage.want_custom_skin="1"}catch{}}else{const t=ma.rcv;Fk(f_,t,null);try{localStorage.want_custom_skin="0"}catch{}}}},jb.onclick=()=>{Ub.select(),document.execCommand("copy")},Ub.oninput=function(){if(XM&&YM){let t=this.value.slice(0,214).replace(hy,"").toLowerCase();this.value=t,Yw=[];const e=new Map([[36,37],[37,39],[38,41]]);for(let s=0,n=t.length;s<n;s++){let n=uy.indexOf(t[s]);-1!==n&&Yw.push(e.get(n)||n)}Fk(f_,0,Rk(!0))}};var Yw=[];function Gw(){const t={37:"9",39:"0",41:"-"};Ub.value=Yw.map((e=>t[e]||uy[e])).join("")}Wb.onclick=()=>{if(YM)return;fy(n_),YM=!0,GM=!1,t_=s_;let t="";try{t=localStorage.custom_skin||""}catch(t){}if(Yw=[],t.length>0){const e=t.split(",");let s=0,n=-1,r=!0;for(let t=8,o=e.length;t<o;t++)r?s=Number(e[t]):(n=Number(e[t]),Yw.push(...Array(s).fill(n))),r=!r}Gw(),Fk(f_,0,Rk(!0)),fy(n_),[Lb,Vb,Bb,Ub,jb].forEach((t=>t.style.display="inline")),Ub.focus()},ma.onclickcolor=t=>{null==f_||!XM||!YM||Yw.length>249||(Yw.push(t),Gw(),Fk(f_,0,Rk(!0)))};var Jw=!1,Zw=!1;Hb.onclick=()=>{Jw||(Jw=!0,Zw=!1,By())};var Qw=!1,tx=!1;qb.onclick=()=>{Qw||(Qw=!0,tx=!1,Gy())},ma.onclickcosmetic=t=>{if(null==f_||!XM||!Jw||Qw)return;const e=ma.rcv;var s;e>65?ei(e-va,t):(s=t,localStorage.setItem(pa,s.toString())),f_.accessory=t};var ex=document.getElementById("nick"),sx=document.getElementById("select-server-input");document.getElementById("play-button").onclick=()=>{nl(!0),Yr.enabled=!1,qM()};var nx=!1,rx=!1;function ox(){hl(!0)}function ix(){hl(!1)}document.getElementById("settings-button").onclick=()=>{ya.open(),Gr.set(!1)},document.getElementById("change-skin-button").onclick=async()=>{if(-1==F_){Gr.set(!1),WM(),pk=0,wk(),gM=!1,XM=!0,[Rb,zb,Wb,Hb,qb,ax,lx,Db].forEach((t=>{t.style.opacity="1",t.style.display="inline"})),En.opacity=1,En.display="inline",so(!1),al(!1),0==si&&oi(300);for(var t=[],e=108;e>=1;e--){var s={xx:Ux/2-10*e,yy:Ux/2,fx:0,fy:0,fltn:0,da:0,ltn:1};s.fxs=new Float32Array(Xn),s.fys=new Float32Array(Xn),s.fltns=new Float32Array(Xn),s.fsmus=new Float32Array(Xn),s.fpos=0,s.ftg=0,s.smu=1,s.fsmu=0,s.da=0,s.ebx=10,s.eby=0,t.push(s)}var n=ma.rcv,r=null,o=!1,i="";try{o="1"==localStorage.want_custom_skin,i=localStorage.custom_skin}catch(t){}if(o&&i&&i.length>0)for(i=(""+i).split(","),r=new Uint8Array(i.length),e=0;e<i.length;e++)r[e]=Number(i[e]);var a=Ok(1,Ux/2,Ux/2,n,0,t,fk,r);f_=a;try{let t;const e=ti.custom_skin;ma.total=va+e.length,t=n>65?e[n-va].cosmetic:localStorage.cosmetic||255,t==""+Number(t)&&(f_.accessory=Number(t));const s=await On.get("publicCosmetic");if(s){const t=Ty.find((t=>t.id==s)),e=new Map;e.set("1",{a:t.angle,l:t.leftPos,t:t.topPos,w:t.width,h:t.height,i:t.imageUrl,s:In.serverAddress,si:"1"}),Py.set(e)}const r=await On.get("publicTag");if(r){const t=Uy.find((t=>t.id==r)),e=new Map;e.set("1",{a:t.angle,l:t.leftPos,t:t.topPos,w:t.width,h:t.height,i:t.imageUrl,bc:t.borderColor,bs:t.borderShadow,s:In.serverAddress,si:"1"}),$y.set(e)}}catch(t){}a.nk="",a.ip="",a.onk="",a.eang=a.wang=a.ang,a.sp=4.8,a.spang=a.sp/ak,a.spang>1&&(a.spang=1),a.sc=1,a.scang=1,a.ssp=lk+ck*a.sc,a.fsp=a.ssp+.1,a.wsep=6*a.sc;var l=Math.min(Yx/pM,18);a.wsep<l&&(a.wsep=l),a.sep=a.wsep,a.sep=a.wsep=18.25,zk(a),a.alive_amt=1,a.rex=1.66,(BM={}).send=function(t){},BM.close=function(){},BM.readyState=WebSocket.OPEN,I_=!0,C_=!0,M_=!0,$_=1,P_=1,Ek(),Yo.alpha=0,ba.alpha=0}},window.addEventListener("message",(function(t){const e=t.data;if(!("close"in e)||!e.close)return"serverId"in e&&e.serverId?(Go(t.data.serverId),ix(),void qM()):void 0;ix()})),document.getElementById("leaderboards-button").onclick=()=>{gM=!1,Gr.set(!1),ox()},ya.onopen=()=>{!nx&&In.animating&&(nx=!0,Sx()||(Yr.enabled=!0),Ix=!1,!XM&&C_?zM(0):(rx=!0,gM=!0,qM()))},ya.onclose=()=>{nx&&(nx=!1,rx&&(rx=!1,gM=!1,F_=performance.now()-5e3,E_=!0,Yr.enabled=!1))},ma.onremove=()=>{const t=ma.rcv;if(t>=va){const e=t-va,s=ti.custom_skin;s.splice(e,1),ti.custom_skin=s,dx(t-1)}},ma.oninputskin=()=>{let t=ma.rcv;const e=ti.custom_skin;let s=va+(e?.length||0);t<1?t=1:t>s&&(t=s),dx(t-1)},Lb.onclick=()=>{if(YM&&!GM){Yw=[],Ub.value="";const t=Rk(!0);Fk(f_,0,t)}},Bb.onclick=()=>{if(YM&&!GM){let t=Yw.length;if(t){let e=Yw[t-1];for(;Yw.length<214;)Yw.push(e);Gw()}Db.click()}},Vb.onclick=()=>{YM&&!GM&&Yw.length&&(Yw.pop(),Gw(),Fk(f_,0,Rk(!0)))};var ax=document.getElementById("uploadBtnParent"),lx=document.getElementById("ExportButtonParent");function cx(){const t=ti.custom_skin,e={build:Yw,cosmetic:255===f_.accessory||void 0===f_.accessory?255:f_.accessory,tag:0};if(0===t.length)ti.custom_skin=[e],ma.total=67,ma.rcv=va;else{const s=t.findIndex((t=>JSON.stringify(t.build)===JSON.stringify(e.build)&&JSON.stringify(t.cosmetic)===JSON.stringify(e.cosmetic)&&t.tag===e.tag));-1!==s?ma.rcv=va+s:(t.push(e),ma.rcv=va+t.length-1,ti.custom_skin=t),ma.total=va+t.length}}function dx(t){if(t<0)return;if(null==f_)return;const e=ti.custom_skin;if(!(t>va+e.length-1)){if(t<va)Fk(f_,t,null),f_.accessory=fa(),localStorage.want_custom_skin="0";else{const s=e[t-va];Yw=s.build,f_.accessory=s.cosmetic;let n=Yw.length?Rk(!1):null;Fk(f_,0,n),localStorage.custom_skin=n.join(","),localStorage.want_custom_skin="1"}ma.rcv=t,ma.total=va+e.length}}var ux=document.getElementById("main_canvas");ux.width=ci,ux.height=di,ux.style.display="none";var hx=0,px=0,fx=[],gx=new Image;gx.src=Rn("/assets/team_enemy.png");var vx=new Image;vx.src=Rn("/assets/team_ally.png");var mx="0123456789abcdefghijklmnopqrstuvwxyz",yx=[],bx=!1,wx="",xx="none",kx=0,_x=0,Mx=1.5*Math.PI,Ax=!1,$x=!1,Sx=()=>$x||Ax,Px=t=>{const e=$x?t.ang+Mx:Ax?t.ang-Mx:0;d_=t.xx+t.fx+29*t.sc*Math.cos(e)-r_,u_=t.yy+t.fy+29*t.sc*Math.sin(e)-o_},Cx=!1,Ix=!1,Ex=0,Fx=0,Tx=0,Nx=0,Ox=0,Rx=0,zx=0,Dx=0,Lx=0,Bx=0,Vx=0,jx=0,Ux=16384,Wx=16384,Hx=0,qx=0,Kx=[],Xx=0,Yx=4.5,Gx=[],Jx=[],Zx=0,Qx=[],tk={},ek=!1,sk=0,nk=0,rk=[],ok=480,ik=ok/256,ak=4.8,lk=4.25,ck=.5,dk=12,uk=.033,hk=.028,pk=.43,fk=42,gk=0,vk=0,mk=100,yk=mk-3,bk=new Float32Array(mk);function wk(){bk=new Float32Array(mk);for(var t=0,e=0,s=0;s<mk;s++)s<3?bk[s]=1:(++t<=4&&(e=pk*t/4),bk[s]=1-e)}wk();var xk,kk=-1,_k=0,Mk=0,Ak=!1,$k=.475,Sk=new Uint8Array(0);function Pk(t,e){Yo.resize(t,e)&&(kk=Yo.mmsz,Yo.mmrad,Sk=new Uint8Array(kk*kk))}var Ck="",Ik="";function Ek(){Xk=1,Xa(!1),ux.style.opacity="1",Yo.alpha=_k,ux.style.display="inline",ba.alpha=1,In.currentScore=0,In.kills=0,RM(),XM||(Ik=Ck,Ck=In.serverAddress,Zi.save_last_pos&&Ik===Ck?(Yo.lsx=Yo.tsx,Yo.lsy=Yo.tsy):Yo.resetPos())}function Fk(t,e,s){if(t.rcv=e,t.er=6,t.pr=3.5,t.pma=2.3,t.ec="#FFFFFF",t.ecv=16777215,t.eca=.75,t.ppa=1,t.ppc="#000000",t.ppcv=0,t.antenna=!1,t.one_eye=!1,t.drez=!1,t.ed=6,t.esp=6,t.easp=.1,t.eac=!1,t.jyt=!1,t.jse=!1,t.slg=!1,t.eo=0,t.swell=0,t.cusk=!1,t.ca=s,null!=s){var n=s.length;if(n>=10){for(var r,o=8,i=[],a=0,l=0;o<n;)if(a=s[o],++o<n&&(l=s[o],o++,1==t_[l]))for(r=0;r<a;r++)i.push(l);i.length>0&&(t.rbcs=i,e=t.rbcs[0],t.cv=e,t.cusk=!0)}}var c=null,d=null,u=0;if(!t.cusk){switch(e){case 24:t.antenna=!0,t.atba=0,t.atc1="#00688c",t.atc2="#64c8e7",t.atwg=!0,t.atia=.35,t.abrot=!1;var h=8;t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h);for(var p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=_w,t.blbx=-10,t.blby=-10,t.blbw=20,t.blbh=20,t.bsc=1,t.blba=.75;break;case 25:for(t.ec="#FF5609",t.ecv=16733705,t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#000000",t.atc2="#5630d7",t.atia=1,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=xw,t.blbx=-5,t.blby=-10,t.blbw=20,t.blbh=20,t.bsc=1.6,t.blba=1;break;case 27:t.jse=!0,t.one_eye=!0,t.ebi=mw,t.ebiw=64,t.ebih=64,t.ebisz=29,t.epi=yw,t.epiw=48,t.epih=48,t.episz=14,t.pma=4,t.swell=.06;break;case 37:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#301400",t.atc2="#ff6813",t.atwg=!0,t.atia=.5,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=Mw,t.blbx=-39,t.blby=-63,t.blbw=172,t.blbh=113,t.bsc=.42,t.blba=1;break;case 39:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#1d3245",t.atc2="#44d4ff",t.atwg=!0,t.atia=.43,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=Pw,t.blbx=-36,t.blby=-100,t.blbw=190,t.blbh=188,t.bsc=.25,t.blba=1;break;case 40:t.eac=!0,t.jyt=!0;break;case 41:t.ed=34,t.esp=14,t.eca=1,t.eo=3,t.er=8,t.easp=.038,t.pr=4.5,t.pma=3,t.slg=!0;break;case 42:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#002828",t.atc2="#80d0d0",t.atwg=!0,t.atia=.5,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=Fw,t.blbx=-29,t.blby=-74,t.blbw=142,t.blbh=149,t.bsc=.36,t.blba=1;break;case 44:t.ec="#D4D4D4",t.ecv=13948116;break;case 45:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#c02020",t.atc2="#ff4040",t.atwg=!0,t.atia=.5,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=Rw,t.blbx=-32.11,t.blby=-81,t.blbw=143,t.blbh=161,t.bsc=.33,t.blba=1;break;case 46:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#c02020",t.atc2="#ff4040",t.atwg=!0,t.atia=.5,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=Dw,t.blbx=-31.78,t.blby=-70,t.blbw=140,t.blbh=140,t.bsc=.285,t.blba=1;break;case 47:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#3030ff",t.atc2="#6060ff",t.atwg=!0,t.atia=.5,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=Bw,t.blbx=-34.2,t.blby=-69,t.blbw=162,t.blbh=137,t.bsc=.33,t.blba=1;break;case 48:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#c02020",t.atc2="#ff4040",t.atwg=!0,t.atia=.75,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=jw,t.blbx=-31.45,t.blby=-71,t.blbw=137,t.blbh=142,t.bsc=.3,t.blba=1;break;case 49:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#64accf",t.atc2="#84dcff",t.atwg=!0,t.atia=.7,t.abrot=!0,h=11,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=Ww,t.blbx=-33.1,t.blby=-76,t.blbw=152,t.blbh=152,t.bsc=.3,t.blba=1;break;case 59:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#886818",t.atc2="#ffe040",t.atwg=!0,t.atia=.55,t.abrot=!0,h=11,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=qw,t.blbx=-41,t.blby=-91,t.blbw=142,t.blbh=163,t.bsc=.3,t.blba=1;break;case 60:t.drez=!0;break;case 62:for(t.eca=1,t.antenna=!0,t.atba=0,t.atc1="#402200",t.atc2="#ffc20f",t.atwg=!0,t.atia=.5,t.abrot=!0,h=9,t.atx=new Float32Array(h),t.aty=new Float32Array(h),t.atvx=new Float32Array(h),t.atvy=new Float32Array(h),t.atax=new Float32Array(h),t.atay=new Float32Array(h),p=h-1;p>=0;p--)t.atx[p]=t.xx,t.aty[p]=t.yy;t.bulb=Nw,t.blbx=-29,t.blby=-89,t.blbw=173,t.blbh=178,t.bsc=.25,t.blba=1;break;case 63:t.ec="#000000",t.ecv=0,t.eca=1,t.ppc="#CCCCCC",t.ppcv=13421772,t.pr=2.5;break;case 64:t.ec="#FFFF80",t.ecv=16777088,t.eca=1}var f=null;switch(e){case 9:f=[7,9,7,9,7,9,7,9,7,9,7,10,10,10,10,10,10,10,10,10];break;case 10:f=[9,9,9,9,9,1,1,1,1,1,7,7,7,7,7];break;case 11:f=[11,11,11,11,11,7,7,7,7,7,12,12,12,12,12];break;case 12:f=[7,7,7,7,7,9,9,9,9,9,13,13,13,13,13];break;case 13:f=[14,14,14,14,14,9,9,9,9,9,7,7,7,7,7];break;case 14:f=[9,9,9,9,9,9,9,7,7,7,7,7,7,7];break;case 15:f=[0,1,2,3,4,5,6,7,8];break;case 16:f=[15,15,15,15,15,15,15,4,4,4,4,4,4,4];break;case 17:f=[9,9,9,9,9,9,9,16,16,16,16,16,16,16];break;case 18:f=[7,7,7,7,7,7,7,9,9,9,9,9,9,9];break;case 19:f=[9];break;case 20:f=[3,3,3,3,3,0,0,0,0,0];break;case 21:f=[3,3,3,3,3,3,3,18,18,18,18,18,18,20,19,20,19,20,19,20,18,18,18,18,18,18];break;case 22:f=[5,5,5,5,5,5,5,9,9,9,9,9,9,9,13,13,13,13,13,13,13];break;case 23:f=[16,16,16,16,16,16,16,18,18,18,18,18,18,18,7,7,7,7,7,7,7];break;case 24:f=[23,23,23,23,23,23,23,23,23,18,18,18,18,18,18,18,18,18];break;case 25:f=[21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22];break;case 26:f=[24];break;case 27:f=[25];break;case 28:f=[18,18,18,18,18,18,18,25,25,25,25,25,25,25,7,7,7,7,7,7,7];break;case 29:f=[11,11,4,11,11,11,11,4,11,11];break;case 30:f=[10,10,19,20,10,10,20,19];break;case 31:f=[10,10];break;case 32:f=[20,20];break;case 33:f=[12,11,11];break;case 34:f=[7,7,9,13,13,9,16,16,9,12,12,9,7,7,9,16,16,9];break;case 35:f=[7,7,9,9,6,6,9,9];break;case 36:f=[16,16,9,9,15,15,9,9];break;case 37:f=[22];break;case 38:case 59:f=[18];break;case 39:f=[23];break;case 40:f=[26];break;case 41:f=[27];break;case 42:f=[2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,5,7,7,7,7,7,7,7,7];break;case 43:f=[28];break;case 44:f=[29];break;case 45:f=[7,7,7,9,9,9,9,9,9,9,9,7,7,7];break;case 46:case 48:f=[7];break;case 47:f=[16,16,16,18,18,18,18,18,18,18,18,18,7,7,7,7,7,7,7,7,16,16,16,16];break;case 49:f=[23,23,23,23,23,9,9,9,9,9,9,9,9,23,23];break;case 50:f=[18,18,18,18,18,18,18,18,18,18,18,18,18,18,16,16,16,16,16,16,16,16,7,7,7,7,7,7,7,7];break;case 51:f=[7,7,7,9,9,16,16,16,16,16,16,9,9];break;case 52:f=[7,7,7,7,18,18,18,18,18,18,18,18,18,7,7,7,7,7];break;case 53:f=[30];break;case 54:f=[31];break;case 55:f=[32];break;case 56:f=[33];break;case 57:f=[34];break;case 58:f=[35];break;case 60:f=[36],c=37,d=38,u=30;break;case 61:f=[30,30,30,30,30,30,35,35,35,35,35,35,33,33,33,33,33,33,31,31,31,31,31,31,32,32,32,32,32,32,34,34,34,34,34,34];break;case 62:f=[17,17,17,17,17,39,39,39,39,39];break;case 63:f=[7,7,7,11,11,11];break;case 64:f=[16,16,11,11];break;case 65:f=[4,4,4,4,9,9,9,9];break;default:e%=9}f&&(e=f[0]),t.rbcs=f||void 0,t.cv=e}t.fdhc=c,t.fdtc=d,t.fdl=u}function Tk(t){Gx.splice(t,1)}function Nk(t,e,s,n){let r;return e<t.gptz.length?r=t.gptz[e]:(r={xx:0,yy:0},t.gptz.push(r)),r.xx=s,r.yy=n,r}function Ok(t,e,s,n,r,o,i,a,l){const c={};c.id=t,c.xx=e,c.yy=s,Fk(c,n,a),n=c.cv,c.fnfr=0,c.na=1,c.chl=0,c.tsp=0,c.sfr=0,c.gptz=[],c.accessory=l,c.kill_count=0,c.rr=Math.min(255,Om[n]+Math.floor(20*Math.random())),c.gg=Math.min(255,Rm[n]+Math.floor(20*Math.random())),c.bb=Math.min(255,zm[n]+Math.floor(20*Math.random()));const d=t=>("00"+Math.min(255,Math.max(0,Math.round(t))).toString(16)).slice(-2);let u=d(c.rr),h=d(c.gg),p=d(c.bb);c.cs="#"+u+h+p;let f=.4;return u=d(c.rr*f),h=d(c.gg*f),p=d(c.bb*f),c.cs04="#"+u+h+p,f=1.5,u=d(.5*(255+c.rr)),h=d(.5*(255+c.gg)),p=d(.5*(255+c.bb)),c.csw="#"+u+h+p,c.sc=1,c.ssp=lk+ck*c.sc,c.fsp=c.ssp+.1,c.msp=dk,c.fxs=new Float32Array(qn),c.fys=new Float32Array(qn),c.fchls=new Float32Array(qn),c.fpos=0,c.ftg=0,c.fx=0,c.fy=0,c.fchl=0,c.fas=new Float32Array(Gn),c.fapos=0,c.fatg=0,c.fa=0,c.ehang=r,c.wehang=r,c.ehl=1,c.msl=i,c.fam=0,c.rsc=0,c.ang=r,c.eang=r,c.wang=r,c.rex=0,c.rey=0,c.sp=2,o?(c.pts=o,c.sct=o.length,o[0].dying&&c.sct--):(c.pts=[],c.sct=0),c.flpos=0,c.fls=new Float32Array(Wn),c.fl=0,c.fltg=0,c.tl=c.sct+c.fam,c.cfl=c.tl,c.scang=1,c.dead_amt=0,c.alive_amt=0,Gx.splice(0,0,c),tk["s"+c.id]=c,c}function Rk(t){var e,s,n=[];if(n.push(255),n.push(255),n.push(255),n.push(0),n.push(0),n.push(0),n.push(Math.floor(256*Math.random())),n.push(Math.floor(256*Math.random())),(s=Yw.length)>0){var r,o=Yw[0],i=0;for(e=0;e<s;e++)(r=Yw[e])!=o&&(i>255&&(i=255),n.push(i),n.push(o),i=0,o=r),i++;i>0&&(n.push(i),n.push(o))}t&&(n.push(250),n.push(40));var a=new Uint8Array(n.length);for(e=0;e<n.length;e++)a[e]=n[e];return a}function zk(t){const e=t.tl;t.tl=t.sct+Math.min(1,t.fam);const s=t.tl-e;let n=t.flpos;for(let e=0;e<Wn;e++)t.fls[n]-=s*Hn[e],n++,n>=Wn&&(n=0);t.fl=t.fls[t.flpos],t.fltg=Wn}function Dk(t,e,s,n,r,o){const i={};i.id=t,i.xx=e,i.yy=s,i.rx=e,i.ry=s,i.rsp=r?3:1,i.cv=o,i.rad=1e-5,i.sz=n,i.lrrad=i.rad,i.tiny=i.sz<12;const a=Um.length;return i.cs=iy[i.cv],i.cv2=Math.floor(a*i.sz/16.5),i.cv2<0&&(i.cv2=0),i.cv2>=a&&(i.cv2=a-1),i.fi=jm[i.cv][i.cv2],i.fw=Um[i.cv2],i.fh=Um[i.cv2],i.fw2=Wm[i.cv2],i.fh2=Wm[i.cv2],i.ofi=Hm[i.cv2],i.ofw=qm[i.cv2],i.ofh=qm[i.cv2],i.ofw2=Km[i.cv2],i.ofh2=Km[i.cv2],i.gcv=Math.floor(a*(.25+.75*i.sz/16.5)),i.gcv<0&&(i.gcv=0),i.gcv>=a&&(i.gcv=a-1),i.gfi=Xm[i.cv][i.gcv],i.gfw=Ym[i.gcv],i.gfh=Ym[i.gcv],i.gfw2=Gm[i.gcv],i.gfh2=Gm[i.gcv],i.g2cv=Math.floor(2*a*(.25+.75*i.sz/16.5)),i.g2cv<0&&(i.g2cv=0),i.g2cv>=a&&(i.g2cv=a-1),i.g2fi=Xm[i.cv][i.g2cv],i.g2fw=Ym[i.g2cv],i.g2fh=Ym[i.g2cv],i.g2fw2=Gm[i.g2cv],i.g2fh2=Gm[i.g2cv],i.lfi=Jm[i.cv][i.cv2],i.lfw=Zm[i.cv2],i.lfh=Zm[i.cv2],i.lfw2=Qm[i.cv2],i.lfh2=Qm[i.cv2],i.lofi=ty[i.cv][i.cv2],i.lofw=ey[i.cv2],i.lofh=ey[i.cv2],i.lofw2=sy[i.cv2],i.lofh2=sy[i.cv2],i.fr=0,i.gfr=64*Math.random(),i.gr=.65+.1*i.sz,i.wsp=.0225*(2*Math.random()-1),i.eaten_fr=0,Jx[Zx++]=i,i}function Lk(t,e,s,n,r,o,i,a,l){const c={};c.id=t,c.xx=e,c.yy=s,c.rad=1e-5,c.sz=n,c.cv=r,c.dir=o,c.wang=i,c.ang=a,c.sp=l,c.fr=0,c.gfr=64*Math.random(),c.gr=.5+.15*Math.random()+.1*c.sz,c.rr=Math.min(255,Om[r]),c.gg=Math.min(255,Rm[r]),c.bb=Math.min(255,zm[r]);const d=t=>("00"+Math.min(255,Math.max(0,Math.round(t))).toString(16)).slice(-2);let u=d(c.rr),h=d(c.gg),p=d(c.bb);c.cs="#"+u+h+p;const f=ry.length;return c.cv2=Math.floor(f*c.sz/9),c.cv2<0&&(c.cv2=0),c.cv2>=f&&(c.cv2=f-1),c.fi=ny[c.cv][c.cv2],c.fw=ry[c.cv2],c.fh=ry[c.cv2],c.fw2=oy[c.cv2],c.fh2=oy[c.cv2],c.gcv=Ym.length-1,c.gfi=Xm[c.cv][c.gcv],c.gfw=Ym[c.gcv],c.gfh=Ym[c.gcv],c.gfw2=Gm[c.gcv],c.gfh2=Gm[c.gcv],c.fxs=new Float32Array(qn),c.fys=new Float32Array(qn),c.fpos=0,c.ftg=0,c.fx=0,c.fy=0,c.eaten=!1,c.eaten_fr=0,Qx.push(c),c}var Bk,Vk,jk,Uk,Wk,Hk,qk=(t,e,s,n)=>{if(XM)return 2;const r=Cx&&e,o=t===f_&&Cx&&s,i=Ix&&n;return 1===aa&&!r&&!o||i?1:2!==aa&&!r&&!o||i?-1:2},Kk=[64,32,16,8,4,2,1],Xk=0;var Yk,Gk=new Float32Array(32767),Jk=new Float32Array(32767),Zk=new Float32Array(32767),Qk=new Uint8Array(32767),t_=new Uint8Array(256),e_=new Uint8Array(256),s_=new Uint8Array(256),n_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,37,39,41];for(Yk=0;Yk<=255;Yk++)e_[Yk]=0,s_[Yk]=0;for(Yk=n_.length-1;Yk>=0;Yk--)e_[n_[Yk]]=1,s_[n_[Yk]]=1;s_[40]=1,t_=e_;var r_=0,o_=0,i_=0,a_=0,l_=0,c_=0,d_=0,u_=0,h_=0,p_=0,f_=null,g_="",v_=0,m_=0,y_=performance.now(),b_=0,w_=0,x_=!1,k_=1,__=!1,M_=!0,A_=!1,$_=1,S_=1,P_=1,C_=!1,I_=!1,E_=!1,F_=-1,T_=new Float32Array(65536),N_=(t,e)=>e>=-4&&t>=-4&&e<4&&t<4?T_[32*t+128<<8|32*e+128]:e>=-8&&t>=-8&&e<8&&t<8?T_[16*t+128<<8|16*e+128]:e>=-16&&t>=-16&&e<16&&t<16?T_[8*t+128<<8|8*e+128]:e>=-127&&t>=-127&&e<127&&t<127?T_[t+128<<8|e+128]:Math.atan2(t,e);for(let t=0;t<256;t++)for(let e=0;e<256;e++)T_[t<<8|e]=Math.atan2(t-128,e-128);var O_=0,R_=0,z_=!1,D_=!1,L_=0,B_=0,V_=0,j_=0;function U_(t,e){const s=HM>=5;let n=e&&s?t+128:t,r=new Uint8Array(2);r[0]=s?252:e?114:108,r[1]=n,BM&&BM.readyState===WebSocket.OPEN&&BM.send(r)}function W_(t){const e=HM>=5,s=new Uint8Array(e?1:2);e?s[0]=t?253:254:(s[0]=109,s[1]=t?1:0),BM&&BM.readyState===WebSocket.OPEN?BM.send(s):(E_=!0,F_=performance.now()-5e3)}function H_(t,e,s){let n=t*t+e*e>0?Math.atan2(e,t):s.wang;if(n=(n+Ln)%Ln,HM>=5){const t=Math.floor(251*n/Ln),e=new Uint8Array(1);e[0]=255&t,BM&&BM.readyState===WebSocket.OPEN?BM.send(e.buffer):(E_=!0,F_=performance.now()-5e3)}else{const t=Math.floor(16777215*n/Ln),e=new Uint8Array(4);e[0]=101,e[1]=t>>16&255,e[2]=t>>8&255,e[3]=255&t,BM&&BM.readyState===WebSocket.OPEN?BM.send(e.buffer):(E_=!0,F_=performance.now()-5e3)}}function q_(t){if(tx){if(oA>0){(oA-=.015*t)<=0&&(oA=0,tx=!1,Qw=!1,t_=e_,Fn.setaga=oA);const e=.5*(1-Math.cos(Math.PI*oA));eA=90*e,sA=120*e,Fn.setagoym=sA;const s=1-oA;[En,Rb.style,zb.style,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.opacity=s})),Fn.setaga=oA}}else if(Qw&&oA<1){(oA+=.015*t)>1&&(oA=1,[zb.style,Rb.style,En,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.display="none"})),Fn.setaga=oA);const e=.5*(1-Math.cos(Math.PI*oA));eA=90*e,sA=120*e,Fn.setagoym=sA;const s=1-oA;[En,Rb.style,zb.style,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.opacity!==s&&(t.opacity=s)})),Fn.setaga=oA}}function K_(t){if(Zw){if(rA>0){(rA-=.015*t)<=0&&(rA=0,Zw=!1,Jw=!1,t_=e_,Fn.secosa=rA);const e=.5*(1-Math.cos(Math.PI*rA));QM=90*e,tA=120*e,Fn.secosoym=tA;const s=1-rA;[En,Rb.style,zb.style,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.opacity=s})),Fn.secosa=rA}}else if(Jw&&rA<1){(rA+=.015*t)>1&&(rA=1,[zb.style,Rb.style,En,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.display="none"})),Fn.secosa=rA);const e=.5*(1-Math.cos(Math.PI*rA));QM=90*e,tA=120*e,Fn.secosoym=tA;const s=1-rA;[En,Rb.style,zb.style,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.opacity!==s&&(t.opacity=s)})),Fn.secosa=rA}}function X_(t){if(GM){if(JM>0){(JM-=.015*t)<=0&&(JM=0,GM=!1,YM=!1,t_=e_,[Lb.style,Vb.style,Bb.style,Ub.style,jb.style].forEach((t=>{t.display="none"})),Fn.bdska=JM);const e=.5*(1-Math.cos(Math.PI*JM));ZM=20*e,nA=e,Fn.skoboym=nA;const s=1-JM;[En,Rb.style,zb.style,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.opacity=s})),[Lb.style,Vb.style,Bb.style,Ub.style,jb.style].forEach((t=>{t.opacity=JM})),Fn.bdska=JM}}else if(YM&&JM<1){(JM+=.015*t)>1&&(JM=1,[zb.style,Rb.style,En,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.display="none"})),Fn.bdska=JM);const e=.5*(1-Math.cos(Math.PI*JM));ZM=20*e,nA=e,Fn.skoboym=nA;const s=1-JM;[En,Rb.style,zb.style,Wb.style,Hb.style,qb.style,ax.style,lx.style].forEach((t=>{t.opacity!==s&&(t.opacity=s)})),[Lb.style,Vb.style,Bb.style,Ub.style,jb.style].forEach((t=>{t.opacity!==JM&&(t.opacity=JM)})),Fn.bdska=JM}}function Y_(t){if(C_){let e=!1;XM||(M_!==oa&&(M_=oa,e=!0),A_!==ia&&(A_=ia,e=!0),e&&(M_?($_=1,P_=1):A_?($_=0,P_=2.8):($_=0,P_=1.7)),1===qk(f_,Zi.peek_true_skin,Zi.peek_own_skin,Zi.asst_go_skinless)&&(M_=!1,$_=0,P_=1.7));let s=.0075*t,n=4e-5*t;M_?($_<1&&($_=Math.min($_+s,1)),P_>1&&(P_=Math.max(P_-n,1))):($_>0&&($_=Math.max($_-s,0)),P_<1.7&&(P_=Math.min(P_+n,1.7))),Zi.food_glow_effect?S_<1&&(S_=Math.min(S_+s,1)):S_>0&&(S_=Math.max(S_-s,0))}}function G_(t,e){if(-1!==F_&&(e-F_>1600||gM)){(Xk-=.03*t)<=0&&(Xk=0,F_=-1,C_=!1,gM&&!XM?qM():XM&&(XM=!1,WM()),ux.style.display="none",Yo.alpha=0,ba.alpha=0),Xa(!0);const e=Xk;ux.style.opacity=e,Yo.alpha=e,ba.alpha=e}E_&&-1===F_&&(E_=!1,BM&&(BM.close(),BM=null,I_=!1,C_=!1),WM())}function J_(t){if(!__&&t-w_>1e3){w_=t,__=!0;const e=new Uint8Array(1);e[0]=HM>=5?251:112,b_=t,BM&&BM.readyState===WebSocket.OPEN?BM.send(e):(E_=!0,F_=performance.now()-5e3)}if(V_>0&&qx>0){let t=Math.min(V_,qx);qx-=t;for(let e=1;e<=t;e++)e===t&&(Wx=Kx[Xx]),Kx[Xx]=Hx,Xx=(Xx+1)%jn;In.flux_grd=Wx}else 0===qx&&(qx=-1);if(Ak&&(_k<1&&(_k=Math.min(_k+.025,1),Yo.alpha=_k),Mk<1)){Mk=Math.min(Mk+B_/230,1);const t=Yo.cc.getContext("2d");t.save(),t.reset(),t.globalAlpha=$k*(1-Mk),t.drawImage(Yo.c1,0,0),t.globalAlpha=1-(1-$k)/(1-$k*(1-Mk)),t.drawImage(Yo.c2,0,0),t.restore()}}function Z_(t){2147483647!==Ux&&t-UM>150&&(UM=performance.now(),Yo.sx=f_.xx,Yo.sy=f_.yy,-1!==F_&&(Yo.tsx=f_.xx,Yo.tsy=f_.yy)),Sx()&&Px(f_)}function Q_(t){px!==hx&&(fx.length>=5&&fx.shift(),fx.push(px),hx=px,In.maxPing=Math.max(...fx)),f_&&!XM&&(In.currentScore=0|ii(f_,!1)),In.ping=px,In.fps=j_,j_=0;try{if(To){let t={nick:Qo.nickname,serverIp:In.serverAddress,myPositionIcon:Zi.map_dot,fps:In.fps,ping:In.ping,maxPing:In.maxPing};f_&&C_&&!XM&&(t={...t,sos:xx,snakeId:String(f_.id),Position:{x:f_.xx,y:f_.yy,size:Yo.isize},rank:In.rank,score:In.currentScore,kills:In.kills,myPos:xk}),e=t,So?.send(JSON.stringify({type:"send-team-data",...e}))}}catch(t){}var e;jM=performance.now()}function tM(){if(C_&&bx&&To){36<yx.length&&(yx.length=0);for(let t=Gx.length-1;t>=0;t--){const e=Gx[t];if(e===f_)continue;if(e.dead)continue;const s=e.mk||`${e.id.toString(16)}-${e.rcv}`;yx.includes(s)||yx.push(s)}}else yx.length>0&&(yx.length=0)}function eM(t,e){const s=t/6;let n=Gx.length;for(;n--;){const r=Gx[n],o=r.pts;let i=uk*t*r.scang*r.spang;if(!r.dead){r.mk=r.mk||`${r.id.toString(16)}-${r.rcv}`;let s=r.sp-r.tsp;if(0!==s&&(r.tsp+=s*(s>0?.1:.3)+(s>0?1e-4:-1e-4),(s>0&&r.tsp>r.sp||s<0&&r.tsp<r.sp)&&(r.tsp=r.sp)),r.tsp>r.fsp&&(r.sfr+=(r.tsp-r.fsp)*t*.021),r.fltg>0){let t=Math.min(e,r.fltg);for(r.fltg-=t;t--;)r.fl=r.fls[r.flpos],r.fls[r.flpos++]=0,r.flpos>=Wn&&(r.flpos=0)}else 0===r.fltg&&(r.fltg=-1,r.fl=0);r.cfl=r.tl+r.fl}1===r.dir?r.ang=(r.ang-i+Ln)%Ln:2===r.dir?r.ang=(r.ang+i+Ln)%Ln:r.ang=r.wang;let a=(r.wang-r.ang+Ln)%Ln;if(a>Math.PI&&(a-=Ln),(1===r.dir&&a>0||2===r.dir&&a<0)&&(r.ang=r.wang,r.dir=0),r.ehl=Math.min(1,r.ehl+.03*t),1===qk(r,Zi.peek_true_skin,Zi.peek_own_skin,Zi.asst_go_skinless)){let t=o[o.length-1],e=r.xx+r.fx-t.xx-t.fx+t.ebx*(1-r.ehl),s=r.yy+r.fy-t.yy-t.fy+t.eby*(1-r.ehl);r.wehang=Math.atan2(s,e)}if(r.dead||r.ehang===r.wehang||(a=(r.wehang-r.ehang+Ln)%Ln,a>Math.PI&&(a-=Ln),r.edir=a<0?1:2),r.edir){let t=(r.wehang-r.ehang+Ln)%Ln;t>Math.PI&&(t-=Ln),r.ehang=(r.ehang+t*Vn[e]+Ln)%Ln,a=(r.wehang-r.ehang+Ln)%Ln,a>Math.PI&&(a-=Ln),(1===r.edir&&a>0||2===r.edir&&a<0)&&(r.ehang=r.wehang,r.edir=0)}if(!r.dead){let e=Math.min(r.sp*t/4,r.msl);r.xx+=Math.cos(r.ang)*e,r.yy+=Math.sin(r.ang)*e,r.chl+=e/r.msl}if(e>0){let t=o.length;for(;t--;){let s=o[t];if(s.dying&&(s.da+=.0015*e,s.da>=1&&(s.da=1,t<o.length-3&&(o.splice(t,1),s.dying=!1))),s.ftg>0){let{fxs:t,fys:n,fltns:r,fsmus:o,fpos:i}=s,a=Math.min(e,s.ftg);s.ftg-=a;for(let e=1;e<=a;e++)e===a&&(s.fx=t[i],s.fy=n[i],s.fltn=r[i],s.fsmu=o[i]),t[i]=n[i]=r[i]=o[i]=0,i=(i+1)%Xn;s.fpos=i}else 0===s.ftg&&(s.ftg=-1,s.fx=s.fy=s.fltn=s.fsmu=0)}}let l=Math.cos(r.eang)*r.pma,c=Math.sin(r.eang)*r.pma;if(r.rex+=Math.sign(l-r.rex)*Math.min(Math.abs(l-r.rex),s),r.rey+=Math.sign(c-r.rey)*Math.min(Math.abs(c-r.rey),s),e>0){if(r.ftg>0){let t=Math.min(e,r.ftg);for(r.ftg-=t;t--;)r.fx=r.fxs[r.fpos],r.fy=r.fys[r.fpos],r.fchl=r.fchls[r.fpos],r.fxs[r.fpos]=r.fys[r.fpos]=r.fchls[r.fpos]=0,r.fpos=(r.fpos+1)%qn}else 0===r.ftg&&(r.ftg=-1,r.fx=r.fy=r.fchl=0);if(r.fatg>0){let t=Math.min(e,r.fatg);for(r.fatg-=t;t--;)r.fa=r.fas[r.fapos],r.fas[r.fapos++]=0,r.fapos>=Gn&&(r.fapos=0)}else 0===r.fatg&&(r.fatg=-1,r.fa=0)}r.dead?(r.dead_amt+=.02*t,r.dead_amt>=1&&Tk(n)):r.alive_amt<1&&(r.alive_amt=Math.min(1,r.alive_amt+.015*t))}}function sM(t,e){for(let s=Qx.length-1;s>=0;s--){let n=Qx[s],r=hk*t,o=n.sp*t*.25,i=n.ftg;if(e>0&&i>0){let t=Math.min(e,i);n.ftg-=t;for(let e=0;e<t;e++)e+1===t&&(n.fx=n.fxs[n.fpos],n.fy=n.fys[n.fpos]),n.fxs[n.fpos]=0,n.fys[n.fpos]=0,n.fpos=(n.fpos+1)%qn}else 0===i&&(n.fx=n.fy=0,n.ftg=-1);let a=n.ang,l=n.wang,c=n.dir;if(c){let t;1===c?a-=r:a+=r,a=(a+Ln)%Ln,t=(l-a+Ln)%Ln,t>Math.PI&&(t-=Ln),(1===c&&t>0||2===c&&t<0)&&(a=l,n.dir=0)}else a=l;if(n.ang=a,n.xx+=Math.cos(a)*o,n.yy+=Math.sin(a)*o,n.gfr+=t*n.gr,n.eaten){let e=n.eaten_fr+=t/47;n.gfr+=t;let r=n.eaten_by;e>=1||!r?Qx.splice(s,1):n.rad=1-Math.pow(e,3)}else if(1!==n.fr){let e=n.fr+=t/150;if(e>=1)n.fr=1,n.rad=1;else{let t=Math.cos(Math.PI*e);n.rad=.5*(1-t)+.66*(.5*(1-Math.cos(Math.PI*(.5*(1-t))))-n.rad)}}}}function nM(t){let e=Zx-1;for(let s=e;s>=0;s--){let n=Jx[s];if(n.gfr+=t*n.gr,n.eaten){n.eaten_fr+=t/41;let r=n.eaten_by;if(n.eaten_fr>=1||!r)s===e?(Jx[s]=null,Zx--,e--):(Jx[s]=Jx[e],Jx[e]=null,Zx--,e--);else{let t=n.eaten_fr*n.eaten_fr;n.rad=n.lrrad*(1-n.eaten_fr*t),n.rx=n.xx+(r.xx+r.fx+Math.cos(r.ang+r.fa)*(43-24*t)*(1-t)-n.xx)*t,n.ry=n.yy+(r.yy+r.fy+Math.sin(r.ang+r.fa)*(43-24*t)*(1-t)-n.yy)*t,Zi.shake_food&&(n.rx+=6*Math.cos(n.wsp*n.gfr)*(1-n.eaten_fr),n.ry+=6*Math.sin(n.wsp*n.gfr)*(1-n.eaten_fr))}}else 1!==n.fr&&(n.fr+=n.rsp*t/150,n.fr>=1?(n.fr=1,n.rad=1):(n.rad=.5*(1-Math.cos(Math.PI*n.fr)),n.rad+=.66*(.5*(1-Math.cos(Math.PI*n.rad))-n.rad)),n.lrrad=n.rad),n.rx=n.xx,n.ry=n.yy,Zi.shake_food&&(n.rx=n.xx+6*Math.cos(n.wsp*n.gfr),n.ry=n.yy+6*Math.sin(n.wsp*n.gfr))}}function rM(){const t=Oi.getContext("2d");Oi.width=ci,Oi.height=di,t.save(),t.translate(gi,vi),t.scale(pM,pM),t.translate(-r_,-o_),t.lineJoin="round",t.lineCap="round"}setInterval((()=>{So&&So.readyState===WebSocket.OPEN&&So.send(JSON.stringify({type:"ping"})),Cy&&Cy.readyState===WebSocket.OPEN&&Cy.send(JSON.stringify({type:"ping"}))}),15e3);var oM=t=>{const e=10;if(!t.antenna||t.alen!==e){t.alen=e,t.atx=new Float32Array(e),t.aty=new Float32Array(e),t.atvx=new Float32Array(e),t.atvy=new Float32Array(e),t.atax=new Float32Array(e),t.atay=new Float32Array(e);for(let e=9;e>=0;e--)t.atx[e]=t.xx,t.aty[e]=t.yy;t.atba=0}t.antenna=!0,t.atia=.5,t.abrot=!0,t.atwg=!0,t.bsc=.285,t.blba=1};$y.subscribe((t=>{for(let e=Gx.length-1;e>=0;e--){const s=Gx[e],n=t.get(`${s.id}`);if(null==n){s.tt&&(s.tt=!1,Fk(s,s.rcv,s.ca));continue}if(In.serverAddress!==n.s)continue;const r=wy.get(n.i);null!=r&&(oM(s),s.bulb=r.cc,s.atc1=r.bc,s.atc2=r.bs,s.blbw=r.w+42,s.blbh=r.h+42,s.blbx=r.l-21,s.blby=r.t-21,s.tt=!0)}}));var iM=new WeakMap;Py.subscribe((t=>{for(let e=Gx.length-1;e>=0;e--){const s=Gx[e],n=t.get(`${s.id}`);if(null==n){s.cc&&(s.cc=!1,iM.delete(s));continue}if(In.serverAddress!==n.s)continue;const r=vy.get(n.i);null!=r&&(s.cc=!0,iM.set(s,r))}})),setInterval((async()=>{const t=await On.get("credentials"),e=await On.get("publicCosmetic"),s=await On.get("publicTag");if(s&&f_&&C_&&!XM)Iy({type:"LOGIN_TAGS",payload:{id:s,snakeId:String(f_.id),serverIp:In.serverAddress}});else if(t&&Array.isArray(t)){const e=t.find((t=>t.isActive&&"tag"===t.type));e&&f_&&C_&&!XM&&Iy({type:"LOGIN_TAGS",payload:{id:e.id,password:e.password,snakeId:String(f_.id),serverIp:In.serverAddress}})}if(e&&f_&&C_&&!XM)Iy({type:"LOGIN_COSMETICS",payload:{id:e,snakeId:String(f_.id),serverIp:In.serverAddress}});else if(t&&Array.isArray(t)){const e=t.find((t=>t.isActive&&"cosmetic"===t.type));e&&f_&&C_&&!XM&&Iy({type:"LOGIN_COSMETICS",payload:{id:e.id,password:e.password,snakeId:String(f_.id),serverIp:In.serverAddress}})}if(C_&&!XM&&Gx&&Gx.length>0)for(var n=0;n<Gx.length;n++)Iy({type:"GET_TAG_COSMETIC",payload:{snakeId:String(Gx[n].id),serverIp:In.serverAddress}})}),1e3);var aM=null,lM="",cM=async t=>{lM="";for(var e=0;e<27;e++)lM+=String.fromCharCode(65+(Math.random()<.5?0:32)+0+Math.floor(26*Math.random()));for(window.idba=new Uint8Array(lM.length),e=0;e<lM.length;e++)window.idba[e]=lM.charCodeAt(e);await dM(t)&&(BM.send(window.idba),null!=aM&&(BM.send(aM),aM=null),crypto.getRandomValues(window.idba))},dM=async t=>{let e="",s=0,n=23,r=0;for(let o=0;o<t.length;o++){let i=t.charCodeAt(o);i<=96&&(i+=32);let a=(i-97-n)%26;a<0&&(a+=26),s=16*s+a,n+=17,r?(e+=String.fromCharCode(s),s=0,r=0):r=1}try{let t=await(o=e,new Promise(((t,e)=>{const s=document.createElement("iframe");s.style.display="none",s.sandbox.add("allow-scripts"),document.body.appendChild(s);const n=r=>{r.source===s.contentWindow&&(window.removeEventListener("message",n),document.body.removeChild(s),r.data.error?e(new Error(r.data.error)):r.data.idba&&Array.isArray(r.data.idba)?t(r.data.idba):t([]))};window.addEventListener("message",n),s.srcdoc='\n            <!DOCTYPE html>\n            <html>\n            <body>\n            <script>\n                window.idba = [];\n                window.addEventListener("message", function(event) {\n                    try {\n                        // Evaluate the passed code\n                        Function(\'"use strict";\' + event.data.code)();\n\n                        // Prepare idba to send back as array of numbers\n                        let idbaArray = [];\n                        if (window.idba && window.idba.length) {\n                            // Convert TypedArray or Array-like to normal Array\n                            idbaArray = Array.from(window.idba);\n                        }\n\n                        // Send back idba\n                        event.source.postMessage({ idba: idbaArray }, "*");\n                    } catch (e) {\n                        event.source.postMessage({ error: e.message }, "*");\n                    }\n                });\n            <\/script>\n            </body>\n            </html>\n        ',s.onload=()=>{s.contentWindow.postMessage({code:o},"*")}})));window.idba=new Uint8Array(t)}catch(t){return!1}var o;if(window.idba.length>0){let t=0;for(let e=0;e<window.idba.length;e++){let s=window.idba[e],n=s>=97?97:65,r=s-n;0===e&&(t=3+r);let o=(r+t)%26;t+=2+r,window.idba[e]=o+n}}for(let e=0;e<t.length;e++){let s=t.charCodeAt(e);if(s<65||s>122)return!1}return!0},uM=0,hM=0,pM=.8,fM=.8,gM=!1;function vM(t,e,s){if(!e||!e.pts||e.pts.length<2)return;const n=e.xx+e.fx,r=e.yy+e.fy;t.save(),t.globalAlpha=.7,t.lineWidth=3,t.strokeStyle=s,t.beginPath(),t.moveTo(gi+(n-r_)*pM,vi+(r-o_)*pM),t.lineTo(kx/_i,_x/_i),t.stroke(),t.restore()}function mM(t,e,s,n,r,o,i,a){const l=Math.PI/n;let c=-Math.PI/2;t.beginPath();for(let i=0;i<2*n;i++){const n=i%2==0?r:o,a=e+Math.cos(c)*n,d=s+Math.sin(c)*n;t.lineTo(a,d),c+=l}t.closePath(),a&&(t.fillStyle=i,t.fill()),t.strokeStyle=i,t.lineWidth=2,t.stroke()}var yM=t=>{const e=pM**.5,{custom_food_default_color:s,custom_food_color:n,custom_food_shape:r,custom_food_size:o,custom_food_filled:i}=Zi,a=o/2;t.save(),t.globalCompositeOperation="lighter",t.scale(e,e);for(let l=Zx-1;l>=0;l--){const c=Jx[l];if(!c.iiv)continue;const d=c.tiny?o:1.5*o,u=c.tiny?a:.5*d,h=s?c.cs:n,p=e*(c.rx-r_),f=e*(c.ry-o_);t.globalAlpha=i&&i?.6*c.fr:c.fr,"Square"===r?i?(t.fillStyle=h,t.fillRect(p-u,f-u,d,d)):(t.strokeStyle=h,t.lineWidth=2,t.strokeRect(p-u,f-u,d,d)):"Circle"===r?(t.beginPath(),t.arc(p,f,u,0,Ln),t.closePath(),i&&(t.fillStyle=h,t.fill()),t.strokeStyle=h,t.lineWidth=2,t.stroke()):"Star"===r&&mM(t,p,f,5,u,u/2,h,i)}t.restore()},bM=(t,e,s,n)=>{const r=pM**.5;if(t.save(),t.scale(r,r),e&&s){let e=1.75;1!==S_&&(e=1.75*S_),t.save();for(let s=Zx-1;s>=0;s--){const o=Jx[s];if(!o.iiv)continue;const i=n?5:o.lofw2,a=n?5:o.lofh2,l=n?10:o.lofw,c=n?10:o.lofh;if(1===o.rad){const s=r*(o.rx-r_)-i,n=r*(o.ry-o_)-a;t.globalAlpha=e*o.fr,t.drawImage(o.lofi,s,n,l,c)}else{const s=r*(o.rx-r_)-i*o.rad,n=r*(o.ry-o_)-a*o.rad;t.globalAlpha=e*o.fr,t.drawImage(o.lofi,0,0,o.lofw,o.lofh,s,n,l*o.rad,c*o.rad)}}t.restore()}if(t.save(),t.globalCompositeOperation="lighter",e){let e=.75;1!==S_&&(e=.75*S_);let s=.75;1!==S_&&(s=1-.25*S_);for(let o=Zx-1;o>=0;o--){const i=Jx[o];if(!i.iiv)continue;const a=n?3:i.lfw2,l=n?3:i.lfh2,c=n?6:i.lfw,d=n?6:i.lfh;if(1===i.rad){const n=r*(i.rx-r_)-a,o=r*(i.ry-o_)-l;t.globalAlpha=s*i.fr,t.drawImage(i.lfi,n,o,c,d),t.globalAlpha=e*(.5+.5*Math.cos(i.gfr/13))*i.fr,t.drawImage(i.lfi,n,o,c,d)}else{const n=r*(i.rx-r_)-a*i.rad,o=r*(i.ry-o_)-l*i.rad;t.globalAlpha=s*i.fr,t.drawImage(i.lfi,0,0,i.lfw,i.lfh,n,o,c*i.rad,d*i.rad),t.globalAlpha=e*(.5+.5*Math.cos(i.gfr/13))*i.fr,t.drawImage(i.lfi,0,0,i.lfw,i.lfh,n,o,c*i.rad,d*i.rad)}}}else for(let e=Zx-1;e>=0;e--){const s=Jx[e];if(!s.iiv)continue;const o=n?5:s.lfw2,i=n?5:s.lfh2,a=n?10:s.lfw,l=n?10:s.lfh;if(1===s.rad){const e=r*(s.rx-r_)-o,n=r*(s.ry-o_)-i;t.globalAlpha=s.fr,t.drawImage(s.lfi,e,n,a,l)}else{const e=r*(s.rx-r_)-o*s.rad,n=r*(s.ry-o_)-i*s.rad;t.globalAlpha=s.fr,t.drawImage(s.lfi,0,0,s.lfw,s.lfh,e,n,a*s.rad,l*s.rad)}}t.restore(),t.restore()},wM=(t,e,s,n)=>{const r=pM**.5;if(t.save(),t.scale(r,r),t.save(),s){const e=7;for(let s=Zx-1;s>=0;s--){const o=Jx[s];if(!o.iiv)continue;const i=n?e/2:o.ofw2,a=n?e/2:o.ofh2,l=n?e:o.ofw,c=n?e:o.ofh;if(1===o.rad){const e=r*(o.rx-r_)-i,s=r*(o.ry-o_)-a;t.globalAlpha=.8*o.fr,t.drawImage(o.ofi,e,s,l,c)}else{const e=r*(o.rx-r_)-i*o.rad,s=r*(o.ry-o_)-a*o.rad;t.globalAlpha=.8*o.fr,t.drawImage(o.ofi,0,0,o.ofw,o.ofh,e,s,l*o.rad,c*o.rad)}}}if(t.restore(),t.save(),t.globalCompositeOperation="lighter",e){let e=1!==S_?S_:1,s=1;for(let o=Zx-1;o>=0;o--){const i=Jx[o];if(!i.iiv)continue;const a=n?2:i.fw2,l=n?2:i.fh2,c=n?4:i.fw,d=n?4:i.fh;if(1===i.rad){const n=r*(i.rx-r_)-a,o=r*(i.ry-o_)-l;t.globalAlpha=s*i.fr,t.drawImage(i.fi,n,o,c,d),t.globalAlpha=e*(.5+.5*Math.cos(i.gfr/13))*i.fr,t.drawImage(i.fi,n,o,c,d)}else{const n=r*(i.rx-r_)-a*i.rad,o=r*(i.ry-o_)-l*i.rad;t.globalAlpha=s*i.fr,t.drawImage(i.fi,0,0,i.fw,i.fh,n,o,c*i.rad,d*i.rad),t.globalAlpha=e*(.5+.5*Math.cos(i.gfr/13))*i.fr,t.drawImage(i.fi,0,0,i.fw,i.fh,n,o,c*i.rad,d*i.rad)}}}else for(let e=Zx-1;e>=0;e--){const s=Jx[e];if(!s.iiv)continue;const o=n?2:s.fw2,i=n?2:s.fh2,a=n?4:s.fw,l=n?4:s.fh;if(t.globalAlpha=s.fr,1===s.rad){const e=r*(s.rx-r_)-o,n=r*(s.ry-o_)-i;t.drawImage(s.fi,e,n,a,l)}else{const e=r*(s.rx-r_)-o*s.rad,n=r*(s.ry-o_)-i*s.rad;t.drawImage(s.fi,0,0,s.fw,s.fh,e,n,a*s.rad,l*s.rad)}}t.restore(),t.restore()},xM=(t,e,s,n,r,o)=>{e?yM(t):s?bM(t,n,r,o):wM(t,n,r,o)},kM=t=>{const e=pM**.5;t.save(),t.globalCompositeOperation="lighter",t.scale(e,e);for(let s=Qx.length-1;s>=0;s--){const n=Qx[s];let r=n.xx+n.fx,o=n.yy+n.fy,i=e*(r-r_),a=e*(o-o_);const l=gi+pM*(r-r_),c=vi+pM*(o-o_);if(l>=-50&&c>=-50&&l<=ui&&c<=hi){if(n.eaten){const t=n.eaten_by,s=n.eaten_fr**2,l=(43-24*s)*(1-s);r+=(t.xx+t.fx+Math.cos(t.ang+t.fa)*l-r)*s,o+=(t.yy+t.fy+Math.sin(t.ang+t.fa)*l-o)*s,i=e*(r-r_),a=e*(o-o_)}if(1===n.rad){const e=i-n.fw2,s=a-n.fh2;t.globalAlpha=.75*n.fr,t.drawImage(n.fi,e,s),t.globalAlpha=.75*(.5+.5*Math.cos(n.gfr/13))*n.fr,t.drawImage(n.fi,e,s)}else{const e=i-n.fw2*n.rad,s=a-n.fh2*n.rad;t.globalAlpha=.75*n.fr,t.drawImage(n.fi,0,0,n.fw,n.fh,e,s,n.fw*n.rad,n.fh*n.rad),t.globalAlpha=.75*(.5+.5*Math.cos(n.gfr/13))*n.fr,t.drawImage(n.fi,0,0,n.fw,n.fh,e,s,n.fw*n.rad,n.fh*n.rad)}}}t.restore()},_M=(t,e,s,n,r,o,i)=>{const a=To?[...Co.values()]:null;t.save(),t.font=`${e}px Arial, Helvetica Neue, Helvetica, sans-serif`,t.textBaseline="middle",t.textAlign="center";for(let e=Gx.length-1;e>=0;e--){const l=Gx[e],c=l.xx+l.fx,d=l.yy+l.fy,u=c,h=d+40;if(!o&&!l.na)continue;if(u<Ex-100||h<Fx||u>Tx+100||h>Nx)continue;l===f_&&(l.fnfr++,l.fnfr>200&&(l.na-=.004,l.na<0&&(l.na=0)));const p=l.alive_amt*(1-l.dead_amt),f=.8*(o?1:l.na)*p;if(f<=0)continue;let g;if(a)for(let t=0;t<a.length;t++)if(a[t].si===In.serverAddress&&a[t].sk===l.id.toString()){g=a[t];break}t.save(),t.globalAlpha=f,g?"sos"===g.ss?(t.fillStyle="#FF0000",t.shadowColor="#FF0000",t.shadowBlur=2):"food"===g.ss?(t.fillStyle="#00FF00",t.shadowColor="#00FF00",t.shadowBlur=2):s?(t.fillStyle=g.c,t.shadowColor=g.c,t.shadowBlur=6):t.fillStyle="#A020F0":(t.fillStyle=s?l.csw:"#ffffff",t.shadowColor="rgba(0, 0, 0)",t.shadowBlur=2),t.shadowOffsetX=1,t.shadowOffsetY=1;const v=gi+(c-r_)*pM,m=vi+(d-o_)*pM;let y="";i&&g?y=`@${g.n}`:n&&(y=l.nk),r&&l.sct>1&&(y+=` @${(ii(l,!0)/1e3).toFixed(2)}k`),t.fillText(y,v,m+32+11*l.sc*pM),t.restore()}t.restore()},MM=(t,e)=>{const s=e.xx+e.fx,n=e.yy+e.fy,r=e.pts,o=e.chl+e.fchl;let i=s,a=n,l=0,c=0,d=0,u=0,h=0,p=0;t.beginPath(),t.moveTo(gi+(i-r_)*pM,vi+(a-o_)*pM);let f=!1,g=e.cfl;for(let e=r.length-1;e>=0;e--){const{xx:s,yy:n,fx:v,fy:m}=r[e];if(l=i,c=a,i=s,a=n,g>0){if(i+=v,a+=m,d=h,u=p,h=(i+l)/2,p=(a+c)/2,f||(d=h,u=p),g<1){const t=1-g;l+=(d-l)*t,c+=(u-c)*t,h+=(d-h)*t,p+=(u-p)*t}f?(g--,t.quadraticCurveTo(gi+(l-r_)*pM,vi+(c-o_)*pM,gi+(h-r_)*pM,vi+(p-o_)*pM)):(g-=o,t.lineTo(gi+(h-r_)*pM,vi+(p-o_)*pM),f=!0)}}},AM=(t,e,s)=>{const{invisible_my_snake:n,boost_glow:r,snake_shadow:o,skin_texture:i,dying_animation:a}=Zi,l=29*e.sc;if(e.sep!==e.wsep&&(e.sep<e.wsep?(e.sep+=.35,e.sep>=e.wsep&&(e.sep=e.wsep)):e.sep>e.wsep&&(e.sep-=.35,e.sep<=e.wsep&&(e.sep=e.wsep))),t.save(),n&&e===f_||MM(t,e),t.save(),t.lineJoin="round",t.lineCap="round",r&&e.sp>e.fsp){const n=s*Sm((e.sp-e.ssp)/(e.msp-e.ssp),0,1);t.save(),t.lineWidth=(l-2)*pM,t.shadowBlur=30*pM,t.shadowColor=`rgba(${e.rr},${e.gg},${e.bb}, ${Math.round(1e4*n)/1e4})`,t.stroke(),t.stroke(),t.restore()}if(o&&(t.globalAlpha=.4*s,t.strokeStyle="#000000",t.lineWidth=(l+5)*pM,t.stroke()),"Glass"!==i&&(t.lineWidth=l*pM,t.strokeStyle="#000000",t.globalAlpha=1*s,t.stroke()),t.strokeStyle=e.cs,t.globalAlpha=.8*s,t.lineWidth=l*pM,t.stroke(),t.restore(),e.dead&&a){const s=(.5+.5*Math.abs(Math.sin(5*Math.PI*e.dead_amt)))*Math.sin(Math.PI*e.dead_amt);t.save(),t.lineJoin="round",t.lineCap="round",t.globalCompositeOperation="lighter",t.lineWidth=(l-3)*pM,t.globalAlpha=s,t.strokeStyle="#FFCC99",t.stroke(),t.restore()}t.restore()},$M=(t,e,s)=>{t.sep!==t.wsep&&(t.sep<t.wsep?(t.sep+=.0035,t.sep>=t.wsep&&(t.sep=t.wsep)):t.sep>t.wsep&&(t.sep-=.0035,t.sep<=t.wsep&&(t.sep=t.wsep)));const n=t.drez,r=t.gptz,o=t.msl,i=t.pts;let a,l=i[i.length-1],c=i[i.length-2],d=i[i.length-1],u=t.cfl-.6,h=0,p=l.xx+l.fx,f=l.yy+l.fy,g=e,v=s,m=0,y=0,b=0,w=6/(P_*t.sep/6);n&&(w*=2);let x=w,k=1/w,_=o/w,M=0,A=Math.sqrt((e-p)**2+(s-f)**2);const $=(e-p)/A,S=(s-f)/A,P=A/o;let C,I,E,F,T=d.xx+d.fx,N=d.yy+d.fy,O=0,R=0;p=e,f=s,c&&(O=c.xx+c.fx,R=c.yy+c.fy),A>o&&(p=T+$*o,f=N+S*o);let z=p+.5*(T-p),D=f+.5*(N-f);P<1&&(z+=(p-z)*(1-P),D+=(f-D)*(1-P)),g=O+.5*(T-O),v=R+.5*(N-R);const L=Math.sqrt((e-z)**2+(s-D)**2);let B=_,V=1,j=0,U=0,W=0,H=0,q=0,K=0,X=0,Y=0;for(C=Nk(t,U,e,s),U++,C.d=0,I=C,j++;B<L;){if(y=e-V*$*_,b=s-V*S*_,C=Nk(t,U,y,b),U++,A=_,C.d=A,I=C,j++,1===M){M=2;break}u-=k,u<=0?(M=1,V+=(k+u)/k,B+=_*(k+u)/k):(V++,B+=_)}let G=(B-L)/o;if(M<=1){if(u>=-1e-4&&u<=0&&(u=0),u>=0||1===M){for(P<1&&(T+=.5*(g-T)*(1-P),N+=.5*(v-N)*(1-P)),V=.5+P-L/o;G>=0&&G<V;){if(B=G/V,W=z+(T-z)*B,H=D+(N-D)*B,q=T+(g-T)*B,K=N+(v-N)*B,X=W+(q-W)*B,Y=H+(K-H)*B,C=Nk(t,U,X,Y),U++,A=Math.sqrt((C.xx-I.xx)**2+(C.yy-I.yy)**2),C.d=A,I=C,j++,1===M){M=2;break}u-=k,u<=0?(M=1,G+=k+u,u=0):G+=k}G-=V}u>=-1e-4&&u<=0&&(u=0)}let J=i.length,Z=0;if(M<=1){let e=!1,s=0;if(u>=0||1===M){l=i[J-1];t:for(let n=i.length-1;n>=2;n--){for(J=n,a=l,c=i[n-2],d=i[n-1],l=i[n],p=l.xx+l.fx,f=l.yy+l.fy,T=d.xx+d.fx,N=d.yy+d.fy,O=c.xx+c.fx,R=c.yy+c.fy,z=p+.5*(T-p),D=f+.5*(N-f),g=T+.5*(O-T),v=N+.5*(R-N),V=l.ltn+l.fltn,Z=2*x+2,l.smu===a.smu&&l.fsmu===a.fsmu||(G*=(a.smu+a.fsmu)/(l.smu+l.fsmu),w=x*(l.smu+l.fsmu),k=1/w,_=o/w),u-=s*k;G<V;){if(B=G/V,W=z+(T-z)*B,H=D+(N-D)*B,q=T+(g-T)*B,K=N+(v-N)*B,X=W+(q-W)*B,Y=H+(K-H)*B,C=Nk(t,U,X,Y),U++,j<=Z&&(A=Math.sqrt((C.xx-I.xx)**2+(C.yy-I.yy)**2),C.d=A,I=C,j++),1===M){M=2;break t}u-=k,u<=0?(M=1,G+=k+u):G+=k}G-=V,s=G/k,u+=G,e=!0}}e&&(u-=G)}if(M<=1&&(u>=-1e-4&&u<=0&&(u=0),u>=0||1===M))for(l=i[J-1],d=i[J-2],l&&(p=l.xx+l.fx,f=l.yy+l.fy),T=d.xx+d.fx,N=d.yy+d.fy;u>=0||1===M;){if(X=T-(p-T)*(G-.5),Y=N-(f-N)*(G-.5),C=Nk(t,U,X,Y),U++,j<=Z&&(A=Math.sqrt((C.xx-I.xx)**2+(C.yy-I.yy)**2),C.d=A,I=C,j++),1===M){M=2;break}u-=k,u<=0?(M=1,G+=k+u):G+=k,u>=-1e-4&&u<=0&&(u=0)}if(B=j-1,B>=r.length&&(B=r.length),XM&&(B=0),B>=3){let t=0;for(let e=0;e<B-1;e++)C=r[e],t+=C.d;I=r[0],F=r[0],V=t/(B-2);let e=V;for(let t=0;t<B;t++)r[t].ox=r[t].xx,r[t].oy=r[t].yy;for(let t=1,s=1;t<B;t++){for(C=r[t];;){if(E=r[s],e<E.d){C.xx=F.ox+(E.ox-F.ox)*e/E.d,C.yy=F.oy+(E.oy-F.oy)*e/E.d,C.xx+=(C.ox-C.xx)*(t/B)**2,C.yy+=(C.oy-C.yy)*(t/B)**2,e+=V;break}if(e-=E.d,F=E,s++,s>=B){t=B+1;break}}I=C}}for(let t=0,e=0,s=0;t<U;t++)p=r[t].xx,f=r[t].yy,Gk[h]=p,Jk[h]=f,Zk[h]=0,n&&(m--,m<=0&&(m=3)),p>=Ex&&f>=Fx&&p<=Tx&&f<=Nx&&(Qk[h]=n&&3!==m?1:2),h>=1&&(y=p-e,b=f-s,Zk[h]=Math.atan2(b,y)),e=p,s=f,h++;return U>=2?(Zk[0]=Zk[1],t.wehang=Zk[1]+Math.PI):t.wehang=t.ang,[h,y,b]},SM=(t,e,s,n,r,o)=>{let i=Math.cos(e.ang),a=Math.sin(e.ang);const l=s-8*i*e.sc,c=n-8*a*e.sc;if(r>=2&&l>=Lx&&c>=Bx&&l<=Vx&&c<=jx){e.atx[0]=l,e.aty[0]=c;const s=e.sc*pM;let n=e.atx.length-1,r=0,d=0;if(XM)for(let t=1;t<=n;t++)e.atvx[t]-=.3,e.atvy[t]+=.14*Math.cos(v_/23-7*t/n);else if(!e.antenna_shown){e.antenna_shown=!0;for(let t=1;t<=n;t++)e.atx[t]=l-i*t*4*e.sc,e.aty[t]=c-a*t*4*e.sc}for(let t=1;t<=n;t++){r=e.atx[t-1],d=e.aty[t-1],r+=2*Math.random()-1,d+=2*Math.random()-1,i=e.atx[t]-r,a=e.aty[t]-d;const s=N_(a,i);if(r+=4*Math.cos(s)*e.sc,d+=4*Math.sin(s)*e.sc,e.atvx[t]+=.1*(r-e.atx[t]),e.atvy[t]+=.1*(d-e.aty[t]),e.atx[t]+=e.atvx[t],e.aty[t]+=e.atvy[t],e.atvx[t]*=.88,e.atvy[t]*=.88,i=e.atx[t]-e.atx[t-1],a=e.aty[t]-e.aty[t-1],Math.sqrt(i*i+a*a)>4*e.sc){const s=N_(a,i);e.atx[t]=e.atx[t-1]+4*Math.cos(s)*e.sc,e.aty[t]=e.aty[t-1]+4*Math.sin(s)*e.sc}}t.globalAlpha=o,t.strokeStyle=e.atc1,t.lineWidth=5*s,t.lineCap="round",t.lineJoin="round",t.beginPath(),n=e.atx.length-1,i=(e.atx[n]-r_)*pM,a=(e.aty[n]-o_)*pM,t.moveTo(i,a);for(let s=n-1;s>=1;s--)r=(e.atx[s]-r_)*pM,d=(e.aty[s]-o_)*pM,Math.abs(r-i)+Math.abs(d-a)>=1&&(i=r,a=d,t.lineTo(i,a));r=(.5*(e.atx[1]+e.atx[0])-r_)*pM,d=(.5*(e.aty[1]+e.aty[0])-o_)*pM,Math.abs(r-i)+Math.abs(d-a)>=1&&(i=r,a=d,t.lineTo(i,a)),t.stroke(),t.globalAlpha=e.atia*o,t.strokeStyle=e.atc2,t.lineWidth=4*s,t.beginPath(),n=e.atx.length-1,i=(e.atx[n]-r_)*pM,a=(e.aty[n]-o_)*pM,t.moveTo(i,a);for(let s=n-1;s>=0;s--)r=(e.atx[s]-r_)*pM,d=(e.aty[s]-o_)*pM,Math.abs(r-i)+Math.abs(d-a)>=1&&(i=r,a=d,t.lineTo(i,a));if(t.stroke(),e.atwg&&(t.lineWidth=3*s,t.stroke(),t.lineWidth=2*s,t.stroke()),t.globalAlpha=o*e.blba,e.abrot){t.save(),t.translate((e.atx[n]-r_)*pM,(e.aty[n]-o_)*pM);let r=Math.atan2(e.aty[n]-e.aty[n-1],e.atx[n]-e.atx[n-1])-e.atba;(r<0||r>=Ln)&&(r%=Ln),r<-Math.PI?r+=Ln:r>Math.PI&&(r-=Ln),e.atba=(e.atba+.15*r)%Ln,t.rotate(e.atba),t.drawImage(e.bulb,e.blbx*e.bsc*s,e.blby*e.bsc*s,e.blbw*e.bsc*s,e.blbh*e.bsc*s),t.restore()}else t.drawImage(e.bulb,(e.atx[n]-r_+e.blbx*e.bsc*e.sc)*pM,(e.aty[n]-o_+e.blby*e.bsc*e.sc)*pM,e.blbw*e.bsc*s,e.blbh*e.bsc*s);e.apbs&&(t.globalAlpha=.5*o,t.lineWidth=3*s,t.stroke(),t.lineWidth=2*s,t.stroke())}else e.antenna_shown&&(e.antenna_shown=!1)},PM=t=>{const{skin_texture:e,boost_glow:s,snake_shadow:n,dying_animation:r,invisible_my_snake:o,peek_true_skin:i,peek_own_skin:a,asst_lazer_color:l,asst_go_skinless:c,asst_lazer_on_top:d,asst_hide_tag_cosme:u}=Zi,h=!(Ix&&u),p=M_||$_>0;for(let u=Gx.length-1;u>=0;u--){const f=Gx[u];if(!(XM||f.iiv&&f.sct>1))continue;const g=o&&f===f_,v=f.tsp>f.fsp&&s,m=qk(f,i,a,c),y=f.alive_amt*(1-f.dead_amt),b=f.xx+f.fx,w=f.yy+f.fy,x=f.sc;let k=y;if(1===m)AM(t,f,y);else if(2===m){const s=29*x*.5,[o,i,a]=$M(f,b,w),l=Vm[f.cv],c=f.rbcs,d=c?c.length:0,u=f.drez?12:4,m=pM*s*1.9375;let _,M=i,A=a;t.save(),t.translate(gi,vi),k*=k;let $=1,S=0,P=0;if(v){const e=1.15*f.sfr;$=y*Sm((f.tsp-f.ssp)/(f.msp-f.ssp),0,1),S=.37*$;const n=$**.5;let r=1.5*pM*s*(1+.9375*n),i=Bm[f.cv];if(P=k*n*.38,t.save(),t.globalCompositeOperation="lighter",c){for(let s=o-1;s>=0;s--)if(2===Qk[s]){const n=M,o=A;if(M=Gk[s],A=Jk[s],_=M>n?M-n:n-M,_+=A>o?A-o:o-A,_/=6,_>1&&(_=1),i=Bm[c[s%d]],t.save(),t.globalAlpha=_*P*(.6+.4*Math.cos(s/u-e)),t.translate((M-r_)*pM,(A-o_)*pM),s<4){const e=r*(1+(4-s)*f.swell);t.drawImage(i,-e,-e,2*e,2*e)}else t.drawImage(i,-r,-r,2*r,2*r);t.restore()}}else for(let s=o-1;s>=0;s--)if(2===Qk[s]){const n=M,o=A;if(M=Gk[s],A=Jk[s],_=M>n?M-n:n-M,_+=A>o?A-o:o-A,_/=6,_>1&&(_=1),t.save(),t.globalAlpha=_*P*(.6+.4*Math.cos(s/u-e)),t.translate((M-r_)*pM,(A-o_)*pM),s<4){const e=r*(1+(4-s)*f.swell);t.drawImage(i,-e,-e,2*e,2*e)}else t.drawImage(i,-r,-r,2*r,2*r);t.restore()}t.restore(),$=1-$}if(P=k*$,n&&!g&&p){const e=pM*s*1.625;let n=P;1!==$_&&(n=P*$_),t.globalAlpha=n;for(let s=o-1;s>=0;s--)if(2===Qk[s]){const n=M,r=A;if(M=Gk[s],A=Jk[s],_=M>n?M-n:n-M,_+=A>r?A-r:r-A,_/=6,_>1&&(_=1),t.save(),t.translate((M-r_)*pM,(A-o_)*pM),t.drawImage(cw,-e,-e,2*e,2*e),s<9)if(t.globalAlpha=_*k*(1-s/9),s<4){const e=m*(1+(4-s)*f.swell);t.drawImage(vw,-e,-e,2*e,2*e)}else t.drawImage(vw,-m,-m,2*m,2*m);t.restore()}for(let s=1;s<=4;s++){const n=o-s;if(n>=0&&n<o&&2===Qk[n]){const s=M,r=A;if(M=Gk[n],A=Jk[n],_=M>s?M-s:s-M,_+=A>r?A-r:r-A,_/=6,_>1&&(_=1),t.save(),t.translate((M-r_)*pM,(A-o_)*pM),t.drawImage(cw,-e,-e,2*e,2*e),t.globalAlpha=_*k*(n/9),n<4){const e=m*(1+(4-n)*f.swell);t.drawImage(vw,-e,-e,2*e,2*e)}else t.drawImage(vw,-m,-m,2*m,2*m);t.restore()}}}t.globalAlpha=P;const C=l.length,I=2*C,E=36!==f.cv;if(!g)if(c){const r=f.fdhc,i=f.fdtc,a=f.fdl;let l=0;for(let u=o-1;u>=0;u--){if(Qk[u]<1)continue;const h=Gk[u],p=Jk[u];if(u>=4&&n){const e=u-4;if(2===Qk[e]){const s=M,n=A;if(M=Gk[e],A=Jk[e],t.save(),t.translate((M-r_)*pM,(A-o_)*pM),e<9)if(t.globalAlpha=k*(e/9),e<4){const s=m*(1+(4-e)*f.swell);t.drawImage(vw,-s,-s,2*s,2*s)}else t.drawImage(vw,-m,-m,2*m,2*m);else _=M>s?M-s:s-M,_+=A>n?A-n:n-A,_/=6,_>1&&(_=1),t.globalAlpha=k*_,t.drawImage(vw,-m,-m,2*m,2*m);t.restore()}}const g=u<4?s*(1+(4-u)*f.swell):s;if(t.save(),t.globalAlpha=k,t.translate((h-r_)*pM,(p-o_)*pM),"Default"===e||"Glass"===e){let e=0;if(f.cusk||(E?(e=u%I,e>=C&&(e=I-(e+1))):e=u%C),zn||t.rotate(Zk[u]),t.drawImage(Vm[c[u%d]][e],-pM*g,-pM*g,2*pM*g,2*pM*g),r&&u<a){l=1-u/a,t.globalAlpha=k*l;const e=(1+.05*l)*s*(1+(4-u)*f.swell);t.drawImage(Vm[r][0],-pM*e,-pM*e,2*pM*e,2*pM*e)}if(i&&u>o-a){l=1-(o-u)/a,t.globalAlpha=k*l;const e=(1+.05*l)*s*(1+(4-u)*f.swell);t.drawImage(Vm[i][0],-pM*e,-pM*e,2*pM*e,2*pM*e)}}else if("Rounded"===e){if(t.beginPath(),t.arc(0,0,g*pM,0,Ln),t.fillStyle=iy[c[u%d]],t.fill(),r&&u<a){t.beginPath(),l=1-u/a,t.globalAlpha=k*l;const e=(1+.05*l)*s*(1+(4-u)*f.swell);t.arc(0,0,e*pM,0,Ln),t.fillStyle=iy[r],t.fill()}if(i&&u>o-a){t.beginPath(),l=1-(o-u)/a,t.globalAlpha=k*l;const e=(1+.05*l)*s*(1+(4-u)*f.swell);t.arc(0,0,e*pM,0,Ln),t.fillStyle=iy[i],t.fill()}}else if("Squared"===e){if(t.beginPath(),t.fillStyle=iy[c[u%d]],u<4?(t.arc(0,0,g*pM,0,Ln),t.fill()):t.fillRect(-g*pM,-g*pM,2*g*pM,2*g*pM),r&&u<a){t.beginPath(),l=1-u/a,t.globalAlpha=k*l,t.fillStyle=iy[r];const e=(1+.05*l)*s*(1+(4-u)*f.swell);u<4?(t.arc(0,0,e*pM,0,Ln),t.fill()):t.fillRect(-e*pM,-e*pM,2*e*pM,2*e*pM)}if(i&&u>o-a){t.beginPath(),l=1-u/a,t.globalAlpha=k*l;const e=(1+.05*l)*s*(1+(4-u)*f.swell);t.fillStyle=iy[i],u<4?(t.arc(0,0,e*pM,0,Ln),t.fill()):t.fillRect(-e*pM,-e*pM,2*e*pM,2*e*pM)}}t.restore()}if(v&&p){t.save(),t.globalCompositeOperation="lighter";const e=2*s;for(let s=o-1;s>=0;s--)if(2===Qk[s]){const n=M,r=A;if(M=Gk[s],A=Jk[s],_=M>n?M-n:n-M,_+=A>r?A-r:r-A,_/=6,_>1&&(_=1),t.save(),t.translate((M-r_)*pM,(A-o_)*pM),t.globalAlpha=_*k*S*$_*(.5+.5*Math.cos(s/u-f.sfr)),f.cusk,s<4){const n=e*(1+(4-s)*f.swell);t.drawImage(Bm[c[s%d]],-pM*n,-pM*n,2*pM*n,2*pM*n)}else t.drawImage(Bm[c[s%d]],-pM*e,-pM*e,2*pM*e,2*pM*e);t.restore()}t.restore()}}else{for(let r=o-1;r>=0;r--)if(Qk[r]>=1){const o=Gk[r],i=Jk[r];if(r>=4&&n){const e=r-4;if(2===Qk[e]){const s=M,n=A;if(M=Gk[e],A=Jk[e],t.save(),t.translate((M-r_)*pM,(A-o_)*pM),e<9)if(t.globalAlpha=k*(e/9),e<4){const s=m*(1+(4-e)*f.swell);t.drawImage(vw,-s,-s,2*s,2*s)}else t.drawImage(vw,-m,-m,2*m,2*m);else _=M>s?M-s:s-M,_+=A>n?A-n:n-A,_/=6,_>1&&(_=1),t.globalAlpha=k*_,t.drawImage(vw,-m,-m,2*m,2*m);t.restore()}}const a=r<4?s*(1+(4-r)*f.swell):s;if(t.save(),t.globalAlpha=k,t.translate((o-r_)*pM,(i-o_)*pM),"Default"===e||"Glass"===e){let e=0;f.cusk||(E?(e=r%I,e>=C&&(e=I-(e+1))):e=r%C),zn||t.rotate(Zk[r]),t.drawImage(l[e],-pM*a,-pM*a,2*pM*a,2*pM*a)}else"Rounded"===e?(t.beginPath(),t.arc(0,0,a*pM,0,Ln),t.fillStyle=iy[f.cv],t.fill()):"Squared"===e&&(t.beginPath(),t.fillStyle=iy[f.cv],r<4?(t.arc(0,0,a*pM,0,Ln),t.fill()):t.fillRect(-a*pM,-a*pM,2*a*pM,2*a*pM));t.restore()}if(v&&p){t.save(),t.globalCompositeOperation="lighter";const e=2*s;for(let s=o-1;s>=0;s--)if(2===Qk[s]){const n=M,r=A;if(M=Gk[s],A=Jk[s],f.cusk,_=M>n?M-n:n-M,_+=A>r?A-r:r-A,_/=6,_>1&&(_=1),t.save(),t.translate((M-r_)*pM,(A-o_)*pM),t.globalAlpha=_*k*S*$_*(.5+.5*Math.cos(s/u-f.sfr)),s<4){const n=e*(1+(4-s)*f.swell);t.drawImage(Bm[f.cv],-pM*n,-pM*n,2*pM*n,2*pM*n)}else t.drawImage(Bm[f.cv],-pM*e,-pM*e,2*pM*e,2*pM*e);t.restore()}t.restore()}}if(h&&f.antenna&&SM(t,f,b,w,o,k),r&&f.dead){t.save(),t.globalCompositeOperation="lighter";const e=15*f.dead_amt,n=(.15+.15*Math.abs(Math.sin(5*Math.PI*f.dead_amt)))*Math.sin(Math.PI*f.dead_amt),r=pM*s;for(let s=o-1;s>=0;s--)if(2===Qk[s]){const o=M,i=A;M=Gk[s],A=Jk[s],_=M>o?M-o:o-M,_+=A>i?A-i:i-A,_/=6,_>1&&(_=1);const a=Gk[s],l=Jk[s];t.save(),t.globalAlpha=_*n*(.6+.4*Math.cos(s/4-e)),t.translate((a-r_)*pM,(l-o_)*pM);const c=s<4?r*(1+(4-s)*f.swell):r;t.drawImage(aw,-c,-c,2*c,2*c),t.restore()}t.restore()}t.restore()}const _=f.ehang;if(f.one_eye){const e=3*x;let s=Math.cos(_)*e,n=Math.sin(_)*e,r=x*f.ebisz;0===f.dead_amt?t.globalAlpha=1:t.globalAlpha=Math.sqrt(1-f.dead_amt),t.drawImage(f.ebi,0,0,f.ebiw,f.ebih,gi+(s+b-r/2-r_)*pM,vi+(n+w-r/2-o_)*pM,r*pM,r*pM),s=Math.cos(_)*(e+.15)+f.rex*x,n=Math.sin(_)*(e+.15)+f.rey*x,r=x*f.episz,t.drawImage(f.epi,0,0,f.epiw,f.epih,gi+(s+b-r/2-r_)*pM,vi+(n+w-r/2-o_)*pM,r*pM,r*pM)}else{if(f.eac||TM(f,t,_,x,1,1),h){const e=iM.get(f);if(null!=e){const s=f.ed*x,n=Math.cos(_)*s,r=Math.sin(_)*s,o=f.sc*pM*.25;t.save(),t.translate(gi+(n+b-r_)*pM,vi+(r+w-o_)*pM),t.rotate(_),t.globalAlpha=k,t.drawImage(e.cc,0,0,e.w,e.h,-o*e.t,-o*e.l,o*e.w,o*e.h),t.restore()}else if(255!==f.accessory){const e=f.accessory,s=Fy.length;if(e>=0&&e<s){const s=Fy[e];if(s.loaded){const e=f.ed*x,n=Math.cos(_)*e,r=Math.sin(_)*e,o=f.sc*pM*s.sc;t.save(),t.translate(gi+(n+b-r_)*pM,vi+(r+w-o_)*pM),t.rotate(_),t.globalAlpha=k,t.drawImage(s.img,0,0,s.ww,s.hh,-o*s.px,-o*s.py,o*s.ww,o*s.hh),t.restore()}}}}if(f.jyt){let e=f.sc*pM*.25,s=-3*x,n=7*x,r=Math.cos(_)*(s+.5)+f.rex*x+Math.cos(_-Math.PI/2)*n,o=Math.sin(_)*(s+.5)+f.rey*x+Math.sin(_-Math.PI/2)*n;t.save(),t.translate(gi+(r+b-r_)*pM,vi+(o+w-o_)*pM),t.rotate(_),t.drawImage(iw,-24*e,-24*e,48*e,48*e),t.restore(),r=Math.cos(_)*(s+.5)+f.rex*x+Math.cos(_+Math.PI/2)*n,o=Math.sin(_)*(s+.5)+f.rey*x+Math.sin(_+Math.PI/2)*n,t.save(),t.translate(gi+(r+b-r_)*pM,vi+(o+w-o_)*pM),t.rotate(_),t.drawImage(iw,-24*e,-24*e,48*e,48*e),t.restore(),s=5*x,r=Math.cos(_)*(s+.5)+f.rex*x,o=Math.sin(_)*(s+.5)+f.rey*x,e=f.sc*pM*.16,t.save(),t.translate(gi+(r+b-r_)*pM,vi+(o+w-o_)*pM),t.rotate(_),t.drawImage($w,-40*e,-65*e,79*e,130*e),t.restore()}}if(t.globalAlpha=1,f.slg){const e=f.sc*pM*.25;t.save();let s=13*Math.cos(_)*x+Math.cos(_-Math.PI/2)*(6*x+.5),n=13*Math.sin(_)*x+Math.sin(_-Math.PI/2)*(6*x+.5);t.translate(gi+(s+b-r_)*pM,vi+(n+w-o_)*pM),t.rotate(_-.4),t.drawImage(Iw,-28*e,-44*e,105*e,88*e),t.restore(),t.save(),s=13*Math.cos(_)*x+Math.cos(_+Math.PI/2)*(6*x+.5),n=13*Math.sin(_)*x+Math.sin(_+Math.PI/2)*(6*x+.5),t.translate(gi+(s+b-r_)*pM,vi+(n+w-o_)*pM),t.rotate(_+.4),t.drawImage(Iw,-28*e,-44*e,105*e,88*e),t.restore()}f!==f_||XM||!Ix||d||vM(t,f_,l)}},CM=(t,e,s,n,r,o,i,a,l,c,d)=>{const{rad:u,fr:h,gfr:p}=e,f=a*u,g=l*u,v=(1===u?r:r*u**.025)*h,m=1+o*u,y=s*m-c*u,b=n*m-d*u;t.globalAlpha=v,t.drawImage(i,0,0,a,l,y,b,f,g),t.globalAlpha=v*(.5+.5*Math.cos(p/13)),t.drawImage(i,0,0,a,l,y,b,f,g)},IM=t=>{const e=pM**.5;t.save(),t.globalCompositeOperation="lighter",t.scale(e,e);for(let s=Zx-1;s>=0;s--){const n=Jx[s];if(!n.iiv)continue;const r=e*(n.rx-r_),o=e*(n.ry-o_),i=r*r+o*o;CM(t,n,r,o,.005+.09*(1-i/(86e3+i)),.06,n.gfi,n.gfw,n.gfh,n.gfw2,n.gfh2),CM(t,n,r,o,.085*(1-i/(16500+i)),.32,n.g2fi,n.g2fw,n.g2fh,n.g2fw2,n.g2fh2)}t.restore()},EM=t=>{const e=pM**.5;t.save(),t.globalCompositeOperation="lighter",t.scale(e,e);for(let s=Qx.length-1;s>=0;s--){const n=Qx[s];let r=n.xx+n.fx,o=n.yy+n.fy;if(n.eaten){const t=n.eaten_by,e=n.eaten_fr**2,s=(43-24*e)*(1-e);r+=(t.xx+t.fx+Math.cos(t.ang+t.fa)*s-r)*e,o+=(t.yy+t.fy+Math.sin(t.ang+t.fa)*s-o)*e}r-=r_,o-=o_;const i=r*r+o*o;let a=1+.08*n.rad,l=r*a,c=o*a,d=.4*(1-i/(176e3+i));1!==n.rad&&(d*=n.rad**.25);let u=l*pM+gi,h=c*pM+vi;l*=e,c*=e,1===n.rad?u>=-150&&h>=-150&&u<=pi&&h<=fi&&(l-=n.gfw2,c-=n.gfh2,t.globalAlpha=d*n.fr,t.drawImage(n.gfi,l,c),t.globalAlpha=d*(.5+.5*Math.cos(n.gfr/13))*n.fr,t.drawImage(n.gfi,l,c)):u>=-150&&h>=-150&&u<=pi&&h<=fi&&(l-=n.gfw2*n.rad,c-=n.gfh2*n.rad,t.globalAlpha=d*n.fr,t.drawImage(n.gfi,0,0,n.gfw,n.gfh,l,c,n.gfw*n.rad,n.gfh*n.rad),t.globalAlpha=d*(.5+.5*Math.cos(n.gfr/13))*n.fr,t.drawImage(n.gfi,0,0,n.gfw,n.gfh,l,c,n.gfw*n.rad,n.gfh*n.rad)),a=1+.32*n.rad,l=r*a,c=o*a,d=.35*(1-i/(46500+i)),1!==n.rad&&(d*=n.rad**.25);const p=2*n.rad;u=l*pM+gi,h=c*pM+vi,l*=e,c*=e,u>=-150&&h>=-150&&u<=pi&&h<=fi&&(l-=n.gfw2*p,c-=n.gfh2*p,t.globalAlpha=d*n.fr,t.drawImage(n.gfi,0,0,n.gfw,n.gfh,l,c,n.gfw*p,n.gfh*p),t.globalAlpha=d*(.5+.5*Math.cos(n.gfr/13))*n.fr,t.drawImage(n.gfi,0,0,n.gfw,n.gfh,l,c,n.gfw*p,n.gfh*p))}t.restore()},FM=()=>{if(!In.animating)return;const t=ux.getContext("2d");if(f_&&pM!==fM){let t=fM-pM,e=Math.sign(t)*Math.abs(t)*.034*B_;pM+=e,(t>0&&pM>=fM||t<0&&pM<=fM)&&(pM=fM)}let e=r_,s=o_;if(null!=f_){vk>0&&(vk--,l_=Zn[gk],c_=Qn[gk],Zn[gk]=0,Qn[gk]=0,++gk>=62&&(gk=0));let t=f_.xx+f_.fx+l_,s=f_.yy+f_.fy+c_;XM&&(e-=B_,t-=5*f_.pts.length,s-=ZM+QM+eA,pM=fM=.9),r_=t,o_=s,i_=Math.atan2(o_-Ux,r_-Ux),a_=Math.sqrt((r_-Ux)**2+(o_-Ux)**2),Ex=r_-(gi/pM+84),Fx=o_-(vi/pM+84),Tx=r_+(gi/pM+84),Nx=o_+(vi/pM+84),Ox=r_-(gi/pM+24),Rx=o_-(vi/pM+24),zx=r_+(gi/pM+24),Dx=o_+(vi/pM+24),Lx=r_-(gi/pM+210),Bx=o_-(vi/pM+210),Vx=r_+(gi/pM+210),jx=o_+(vi/pM+210)}uM-=1*(r_-e)/ha.width,hM-=1*(o_-s)/ha.height,(uM%=1)<0&&(uM+=1),(hM%=1)<0&&(hM+=1),t.fillStyle="#000000",t.fillRect(0,0,ci,di),ha.mainBg&&(t.save(),t.fillStyle=ha.mainBg,t.translate(gi,vi),t.scale(pM,pM),t.translate(uM*ha.width,hM*ha.height),t.globalAlpha=1,t.fillRect(3*-ci/pM,3*-di/pM,5*ci/pM,5*di/pM),t.restore());const{show_score:n,show_nick:r,nick_colored:o,nick_size:i,food_glow_effect:a,small_food:l,food_shadow:c,legacy_food:d,custom_food:u,peek_big_food:h,peek_own_nick:p,peek_key_owner:f,asst_lazer_color:g,asst_show_spine:v,asst_lazer_on_top:m,asst_hide_food:y}=Zi,b=!(Ix&&y);if(b){t.save(),t.translate(gi,vi);for(let t=Zx-1;t>=0;t--){const e=Jx[t];e.iiv=e.rx>=Ox&&e.ry>=Rx&&e.rx<=zx&&e.ry<=Dx}xM(t,u,d,a,c,l&&!(Cx&&h)),kM(t),t.restore()}if(t.save(),t.strokeStyle="#90C098",!XM){_M(t,i,o,r,n,Cx&&p,Cx&&f);for(let t=Gx.length-1,e=!1;t>=0;t--){const s=Gx[t],n=s.pts;if(s.sct>1)for(let t=n.length-1;t>=0;t--){const s=n[t],r=s.xx+s.fx,o=s.yy+s.fy;if(r>=Ex&&o>=Fx&&r<=Tx&&o<=Nx){e=!0;break}}s.iiv!==e&&(s.iiv=e,e&&(s.ehang=s.wehang=s.ang))}}if(PM(t),To){if(bx){t.save(),t.font=`${i}px Arial, Helvetica Neue, Helvetica, sans-serif`,t.fillStyle="#ffffff",t.textBaseline="middle",t.textAlign="center",t.shadowColor="rgba(0, 0, 0)",t.shadowBlur=2,t.shadowOffsetX=1,t.shadowOffsetY=1;for(let e=Gx.length-1;e>=0;e--){const s=Gx[e];if(s===f_||!s.mk)continue;const n=yx.indexOf(s.mk);if(n<0)continue;const r=mx[n],o=s.xx+s.fx,i=s.yy+s.fy;t.save(),t.globalAlpha=1;const a=gi+(o-r_)*pM,l=vi+(i-o_)*pM;t.fillText(r,a,l-32-11*s.sc*pM),t.restore()}t.restore()}if(Eo.length)for(let e=Gx.length-1;e>=0;e--){const s=Gx[e];if(s===f_||!s.mk)continue;let n;for(let t=0;t<Eo.length;t++)if(Eo[t].serverIp===In.serverAddress&&Eo[t].snakeId===s.mk){n=Eo[t];break}if(n&&"enemy"===n.type){t.save(),t.globalAlpha=1;const e=s.xx+s.fx,n=s.yy+s.fy;t.drawImage(gx,gi+(e-r_)*pM-12,vi+(n-o_)*pM-12+62+11*s.sc*pM,24,24),t.restore()}else if(n&&"ally"===n.type){t.save(),t.globalAlpha=1;const e=s.xx+s.fx,n=s.yy+s.fy;t.drawImage(vx,gi+(e-r_)*pM-12,vi+(n-o_)*pM-12+62+11*s.sc*pM,24,24),t.restore()}}}if(b&&a&&(t.save(),t.translate(gi,vi),u||IM(t),EM(t),t.restore()),!XM){if(Math.abs(Wx-a_)<4e4){const e=gi+pM*(Ux-r_),s=vi+pM*(Ux-o_);t.save(),t.globalAlpha=.8,t.beginPath(),t.lineWidth=11.5*pM,t.strokeStyle=Zi.border_color,t.arc(e,s,pM*(Wx-5.75),0,Ln),t.stroke(),t.beginPath(),t.lineWidth=23*pM,t.fillStyle=Zi.border_outside_color,t.arc(e,s,pM*Wx,0,Ln),t.arc(e,s,pM*(Wx+2e3),0,Ln,!0),t.fill(),t.restore()}C_&&null!=f_&&(Ix&&v&&(t.save(),MM(t,f_),t.lineJoin="round",t.lineCap="round",t.lineWidth=3*pM,t.strokeStyle="#333333",t.stroke(),t.lineWidth=2*pM,t.strokeStyle="#f0f0f0",t.stroke(),t.restore()),Ix&&m&&vM(t,f_,g))}if(Yo.showMarker){t.save();const e=gi+pM*(Yo.mapAreaX-r_),s=vi+pM*(Yo.mapAreaY-o_);t.fillStyle="yellow",t.globalAlpha=.5,t.beginPath(),t.arc(e,s,50*pM,0,Ln),t.fill(),t.restore()}};function TM(t,e,s,n,r,o){const i=t.ed*n,a=t.esp*n,l=t.xx+t.fx,c=t.yy+t.fy;let d=Math.cos(s)*i+Math.cos(s-Math.PI/2)*(a+.5),u=Math.sin(s)*i+Math.sin(s-Math.PI/2)*(a+.5);e.fillStyle=t.ec,t.eo>0&&(e.lineWidth=t.eo*pM,e.strokeStyle="#000000"),0===t.dead_amt?e.globalAlpha=t.eca*r:e.globalAlpha=t.eca*Math.sqrt(1-t.dead_amt)*r,e.beginPath(),e.arc(gi+(d+l-r_)*pM,vi+(u+c-o_)*pM,t.er*n*pM,0,Ln),e.closePath(),t.eo>0&&e.stroke(),e.fill(),d=Math.cos(s)*(i+.5)+t.rex*n+Math.cos(s-Math.PI/2)*a,u=Math.sin(s)*(i+.5)+t.rey*n+Math.sin(s-Math.PI/2)*a,0===t.dead_amt?e.globalAlpha=t.ppa*o:e.globalAlpha=t.ppa*Math.sqrt(1-t.dead_amt)*o,e.fillStyle=t.ppc,e.beginPath(),e.arc(gi+(d+l-r_)*pM,vi+(u+c-o_)*pM,t.pr*n*pM,0,Ln),e.closePath(),e.fill(),d=Math.cos(s)*i+Math.cos(s+Math.PI/2)*(a+.5),u=Math.sin(s)*i+Math.sin(s+Math.PI/2)*(a+.5),e.fillStyle=t.ec,t.eo>0&&(e.lineWidth=t.eo*pM,e.strokeStyle="#000000"),0===t.dead_amt?e.globalAlpha=t.eca*r:e.globalAlpha=t.eca*Math.sqrt(1-t.dead_amt)*r,e.beginPath(),e.arc(gi+(d+l-r_)*pM,vi+(u+c-o_)*pM,t.er*n*pM,0,Ln),e.closePath(),t.eo>0&&e.stroke(),e.fill(),d=Math.cos(s)*(i+.5)+t.rex*n+Math.cos(s+Math.PI/2)*a,u=Math.sin(s)*(i+.5)+t.rey*n+Math.sin(s+Math.PI/2)*a,0===t.dead_amt?e.globalAlpha=t.ppa*o:e.globalAlpha=t.ppa*Math.sqrt(1-t.dead_amt)*o,e.fillStyle=t.ppc,e.beginPath(),e.arc(gi+(d+l-r_)*pM,vi+(u+c-o_)*pM,t.pr*n*pM,0,Ln),e.closePath(),e.fill()}qi.setHandler((t=>{j_++;const e=performance.now();if(B_=Math.min(Math.max(.125*(e-y_),0),5),y_=e,XM||(!x_&&__&&e-w_>750&&(x_=!0),k_=x_?Math.max(.85*k_,.2):Math.min(k_+.05,1)),B_=Math.min(B_,120)*k_,m_=v_,V_=(0|(v_+=B_))-(0|m_),I_&&null!=f_&&(z_&&(O_+=V_),D_&&(R_+=V_)),f_){if((O_>0||R_>0)&&e-L_>150)if(L_=e,R_>0&&O_>R_&&(O_-=R_,R_=0),O_>0&&R_>O_&&(R_-=O_,O_=0),O_>0){let t=Math.min(O_,127);O_-=t,f_.eang-=uk*t*f_.scang*f_.spang,U_(t,!1)}else if(R_>0){let t=Math.min(R_,127);R_-=t,f_.eang+=uk*t*f_.scang*f_.spang,U_(t,!0)}f_.md!==f_.wmd&&(f_.md=f_.wmd,W_(f_.md)),Yr.enabled||Sx()||-1===kx||-1===_x||(d_=kx-xi,u_=_x-ki),d_===h_&&u_===p_||(ek=!0),ek&&(f_.eang=Math.atan2(0|u_,0|d_),e-sk>50&&(ek=!1,sk=e,h_=d_,p_=u_,H_(d_,u_,f_)))}if(q_(B_),K_(B_),X_(B_),XM){const t=v_/19;for(let e=0,s=Gx.length;e<s;e++){const s=Gx[e],n=s.pts,r=n.length;for(let e=0;e<r;e++)n[e].yy=Ux/2+15*Math.cos(e/4+t)*(1-e/r);let o=n[r-1];s.xx=o.xx,s.yy=o.yy}}Y_(B_),G_(B_,e),I_&&J_(e),f_&&C_&&!XM&&Z_(e),e-jM>=1e3&&Q_(),XM||(tM(),eM(B_,V_)),sM(B_,V_),nM(B_),Ni&&rM(),FM(),Yr.enabled&&!XM&&Vi.go(f_,Gx,Jx,Ux,Wx,a_,i_),Ni&&(Oi.getContext("2d").restore(),ux.getContext("2d").drawImage(Oi,0,0)),0===B_&&0===V_||(B_=0,V_=0)})),qi.start(),window.addEventListener("wheel",(t=>{if(null==f_||nx&&null!=t.target?.closest("#settings"))return;if(XM&&!YM&&!Jw&&!Qw){const e=ma.rcv;return void dx(t.deltaY<0?e-1:e+1)}const e=t.deltaY<0?-1:1,s=Sm(fM*da**e,.16,20);fM=ca?s:pM=s}));var NM=-1,OM=()=>{NM=-1,FM()};function RM(){Mi()&&(ux.width=ci,ux.height=di,ux.style.transform="scale("+_i+","+_i+")",ux.style.left=Math.floor(mi/2-ci/2)+"px",ux.style.top=Math.floor(yi/2-di/2)+"px"),-1!==NM&&cancelAnimationFrame(NM),NM=requestAnimationFrame(OM)}function zM(t){null==f_||nx||(f_.wmd=1==t)}window.onresize=function(){RM()},window.onmousemove=function(t){kx=t.clientX,_x=t.clientY},window.addEventListener("touchmove",(t=>{if(DM=performance.now()+1500,!f_)return;const e=t.touches[0],{clientX:s,clientY:n,pageX:r,pageY:o}=e;kx=void 0!==s?s:r,_x=void 0!==n?n:o}));var DM=0;window.onmousedown=function(t){0===t.button&&(XM||YM||Jw||Qw||Yr.enabled||(0==DM||performance.now()>DM)&&(DM=0,f_&&(window.onmousemove(t),zM(1),t.preventDefault())))},document.addEventListener("contextmenu",(function(t){t.preventDefault()})),window.addEventListener("mouseup",(function(t){zM(0)}));var LM=0,BM=null,VM=function(t){aM=t,BM.send(new Uint8Array([1])),BM.send(new Uint8Array([99,0]))},jM=performance.now(),UM=0;function WM(){BM&&(BM.close(),BM=null),E_=!1;for(var t=Gx.length-1;t>=0;t--)Tk(t);for(Gx=[],f_=null,Jx=[],Zx=0,Qx=[],rk=[],tk={},I_=!1,C_=!1,__=!1,x_=!1,nk=61;nk>=0;nk--)Zn[nk]=0,Qn[nk]=0;vk=0,l_=0,c_=0,k_=1,_k=0,Ak=!1,Yo.c1?.getContext("2d")?.reset(),Yo.c2?.getContext("2d")?.reset(),pM=fM=.8}var HM=2;function qM(){if(!In.serverAddress)return Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Please Select a valid server.",time:Date.now()}])),void nl(!1);WM(),(BM=new WebSocket(`ws://${In.serverAddress}`)).binaryType="arraybuffer",window.ws=BM,BM.onmessage=function(t){if(BM!==this)return;const e=new Uint8Array(t.data);let s=0;if(e[s]<32){const t=e.length;for(;s<t;){let t;e[s]<32?(t=e[s]<<8|e[s+1],s+=2):(t=e[s]-32,s+=1);const n=e.subarray(s,s+t);s+=t,KM(n)}}else{const t=e.subarray(s,e.length);KM(t)}},BM.onerror=function(t){nl(!1),gM=!1,F_=performance.now()-5e3,E_=!0},BM.onclose=function(t){BM===this&&(I_=!1,C_=!1)},BM.onopen=function(t){if(BM!==this)return;let e=Qo.nickname??"";g_=e;let s=Math.floor(9*Math.random());try{const t=ma.rcv;s=t>65?0:t}catch(t){}const n=[54,206,204,169,97,178,74,136,124,117,14,210,106,236,8,208,136,213,140,111];let r,o=[],i=!1,a="";try{i="1"===localStorage.want_custom_skin,a=localStorage.custom_skin}catch(t){}if(i&&a&&a.length>0){a=(""+a).split(","),o=new Uint8Array(a.length);for(let t=0;t<a.length;t++)o[t]=Number(a[t])}r=new Uint8Array(28+e.length+o.length),r[0]=115,r[1]=30,r[2]=1,r[3]=35;for(let t=0;t<20;t++)r[4+t]=n[t];r[24]=s,r[25]=e.length;let l=26;for(let t=0;t<e.length;t++)r[l]=e.charCodeAt(t),l++;r[l]=0,l++;let c=255,d=ma.rcv;if(d>65){const t=ti.custom_skin[d-va];c=t?.cosmetic??255}else c=localStorage.cosmetic||255;r[l]=Number(c),l++;for(let t=0;t<o.length;t++)r[l]=o[t],l++;VM(r),M_=!0,1===aa&&(M_=!1,$_=0),b_=performance.now()}}window.connect=qM;var KM=function(t){const e=t[0],s=String.fromCharCode(e);let n=t.length,r=n,o=n-1,i=1;switch(s){case"a":{I_=!0,C_=!0,Ux=t[i++]<<16|t[i++]<<8|t[i++];const e=t[i++]<<8|t[i++];ok=t[i++]<<8|t[i++],ik=ok/256,i+=2,ak=.1*t[i++],lk=.01*(t[i++]<<8|t[i++]),ck=.01*(t[i++]<<8|t[i++]),dk=.01*(t[i++]<<8|t[i++]),uk=.001*(t[i++]<<8|t[i++]),hk=.001*(t[i++]<<8|t[i++]),pk=.001*(t[i++]<<8|t[i++]),i<n&&(HM=t[i++]),i<n&&(fk=t[i++]),i<n&&(t[i++],t[i++]),Wx=i<n?t[i++]<<16|t[i++]<<8|t[i++]:.98*Ux,Hx=Wx;for(let t=0;t<jn;t++)Kx[t]=Wx;$k=.475,wk(),oi(e),Pk(24,!0),Ek(),nl(!1),In.grd=Ux,In.flux_grd=Wx}break;case"e":case"E":case"3":case"4":case"5":case"d":case"7":{let e,n=function(){return t[i++]*g},a=function(){const e=t[i]<<8|t[i+1];return i+=2,e*v},l=function(){const e=t[i]<<16|t[i+1]<<8|t[i+2];return i+=3,e*m},c=function(){return t[i++]/18},d=t[i]<<8|t[i+1];HM>=14&&("d"===s||"7"===s||o<=2&&["e","E","3","4","5"].includes(s))?e=f_:(i+=2,e=tk["s"+d]);let u=-1,h=-1,p=-1,f=-1;const g=2*Math.PI/256,v=2*Math.PI/65535,m=2*Math.PI/16777215;if(HM>=14){if(6===r)u="e"===s?1:2,h=n(),p=n(),f=c();else if([5,3].includes(r))switch(s){case"e":h=n(),f=c();break;case"E":u=1,p=n(),f=c();break;case"4":u=2,p=n(),f=c();break;case"3":u=1,h=n(),p=n();break;case"5":u=2,h=n(),p=n()}else if([4,2].includes(r))switch(s){case"e":h=n();break;case"E":u=1,p=n();break;case"4":u=2,p=n();break;case"3":f=c();break;case"d":u=1,h=n(),p=n(),f=c();break;case"7":u=2,h=n(),p=n(),f=c()}}else if(HM>=6){if(6===r)u="e"===s?1:2,h=n(),p=n(),f=c();else if(5===r)switch(s){case"e":h=n(),f=c();break;case"E":u=1,p=n(),f=c();break;case"4":u=2,p=n(),f=c();break;case"3":u=1,h=n(),p=n();break;case"5":u=2,h=n(),p=n()}else if(4===r)switch(s){case"e":h=n();break;case"E":u=1,p=n();break;case"4":u=2,p=n();break;case"3":f=c()}}else HM>=3?([8,7,6,5].includes(r)&&"3"!==s&&(u="e"===s?1:2),([8,7].includes(r)||5===r&&"3"===s||6===r&&"3"===s)&&(h=a()),([8,7].includes(r)||5===r&&"3"!==s||6===r&&"3"!==s)&&(p=a()),[8,6,4].includes(r)&&(f=c())):([11,8,9,6].includes(o)&&(u=t[i++]-48),[11,7,9,5].includes(o)&&(h=l()),[11,8,9,6].includes(o)&&(p=l()),[11,7,8,4].includes(o)&&(f=(t[i]<<8|t[i+1])/1e3,i+=2));if(e){if(-1!==u&&(e.dir=u),-1!==h){let t=(h-e.ang)%Ln;t<0&&(t+=Ln),t>Math.PI&&(t-=Ln);let s=e.fapos;for(let n=0;n<Gn;n++)e.fas[s]-=t*Jn[n],++s>=Gn&&(s=0);e.fatg=Gn,e.ang=h}-1!==p&&(e.wang=p,e!==f_&&(e.eang=p)),-1!==f&&(e.sp=f,e.spang=e.sp/ak,e.spang>1&&(e.spang=1))}}break;case"6":{let e="";for(;i<n;)e+=String.fromCharCode(t[i]),i++;cM(e)}break;case"h":{const e=t[i++]<<8|t[i++],s=(t[i++]<<16|t[i++]<<8|t[i++])/16777215,n=tk["s"+e];n&&(n.fam=s,zk(n))}break;case"r":{const e=t[i++]<<8|t[i++],s=tk["s"+e];if(s){o>=4&&(s.fam=(t[i++]<<16|t[i++]<<8|t[i++])/16777215);for(let t=0;t<s.pts.length;t++){const e=s.pts[t];if(!e.dying){e.dying=!0,s.sct--,s.sc=Math.min(6,1+(s.sct-2)/106),s.scang=.13+.87*Math.pow((7-s.sc)/6,2),s.ssp=lk+ck*s.sc,s.fsp=s.ssp+.1,s.wsep=6*s.sc;const t=Math.min(Yx/pM,18);s.wsep<t&&(s.wsep=t);break}}zk(s)}}break;case"R":f_.rsc=t[i];break;case"g":case"n":case"G":case"N":case"+":case"=":{if(!C_)return;const e="n"===s||"N"===s||"+"===s;let n;const r=()=>{const e=t[i]<<8|t[i+1];return i+=2,tk["s"+e]};if(n=HM>=15?"G"===s||"N"===s||"="===s&&6===o||"+"===s&&9===o?f_:r():"g"===s&&4===o||"G"===s&&2===o||"n"===s&&7===o||"N"===s&&5===o?f_:r(),!n)return;if(e)n.sct++;else for(let t=0;t<n.pts.length;t++)if(!n.pts[t].dying){n.pts[t].dying=!0;break}let a=n.pts[n.pts.length-1];const l={fxs:new Float32Array(Xn),fys:new Float32Array(Xn),fltns:new Float32Array(Xn),fsmus:new Float32Array(Xn),fpos:0,ftg:0,smu:1,fsmu:0,fx:0,fy:0,fltn:0,da:0};let c,d,u;const h=n.msl;if(HM>=15)if("+"===s||"="===s)u=t[i]<<8|t[i+1],l.iang=u,i+=2,c=t[i]<<8|t[i+1],i+=2,d=t[i]<<8|t[i+1],i+=2;else{"G"===s&&2===o||"N"===s&&5===o||"g"===s&&4===o||"n"===s&&7===o?(u=t[i]<<8|t[i+1],i+=2):u=a.iang,l.iang=u;const e=u*Bn;c=a.xx+Math.cos(e)*h,d=a.yy+Math.sin(e)*h}else HM>=3?"g"===s||"n"===s?(c=t[i]<<8|t[i+1],i+=2,d=t[i]<<8|t[i+1],i+=2):(c=a.xx+t[i]-128,i++,d=a.yy+t[i]-128,i++):(c=(t[i]<<16|t[i+1]<<8|t[i+2])/5,i+=3,d=(t[i]<<16|t[i+1]<<8|t[i+2])/5,i+=3);if(l.xx=c,l.yy=d,l.ltn=Math.sqrt((l.xx-a.xx)**2+(l.yy-a.yy)**2)/h,l.ebx=l.xx-a.xx,l.eby=l.yy-a.yy,e&&(n.fam=(t[i]<<16|t[i+1]<<8|t[i+2])/16777215,i+=3),n.pts.push(l),n.iiv){const t=n.xx+n.fx,e=n.yy+n.fy;let s=t-(a.xx+a.fx),r=e-(a.yy+a.fy),o=Math.sqrt(s*s+r*r);o>1&&(s/=o,r/=o);const i=l.ltn*h,c=o<h?o:i,d=a.xx+a.fx+s*c,u=a.yy+a.fy+r*c,p=1-c/i;s=l.xx-d,r=l.yy-u;let f=l.fpos;for(let t=0;t<Xn;t++)l.fxs[f]-=s*Yn[t],l.fys[f]-=r*Yn[t],l.fltns[f]-=p*Yn[t],f=(f+1)%Xn;l.fx=l.fxs[l.fpos],l.fy=l.fys[l.fpos],l.fltn=l.fltns[l.fpos],l.fsmu=l.fsmus[l.fpos],l.ftg=Xn}a=l;let p=3,f=n.pts.length-3;if(f>=1){let t=n.pts[f],e=0,s=0,r=0;for(let o=f-1;o>=0;o--){let i=n.pts[o];e++;const a=i.xx,l=i.yy;let c=i.smu;if(e<=4&&(s=pk*e/4),i.xx+=(t.xx-i.xx)*s,i.yy+=(t.yy-i.yy)*s,i.smu!==bk[p]?(c=i.smu,i.smu=bk[p],r=i.smu-c):r=0,p<yk&&p++,n.iiv){const t=i.xx-a,e=i.yy-l;let s=i.fpos;for(let n=0;n<Xn;n++)i.fxs[s]-=t*Yn[n],i.fys[s]-=e*Yn[n],i.fsmus[s]-=r*Yn[n],s=(s+1)%Xn;i.fx=i.fxs[i.fpos],i.fy=i.fys[i.fpos],i.fsmu=i.fsmus[i.fpos],i.ftg=Xn}t=i}}n.sc=Math.min(6,1+(n.sct-2)/106),n.scang=.13+.87*((7-n.sc)/6)**2,n.ssp=lk+ck*n.sc,n.fsp=n.ssp+.1,n.wsep=6*n.sc;const g=Math.min(Yx/pM,18);n.wsep<g&&(n.wsep=g),e&&zk(n),n.lnp=l,n===f_&&(f_.xx,f_.fx,f_.yy,f_.fy);let v=n.sp*(LM/8)/4;v*=k_;const m=n.chl-1;n.chl=v/n.msl;const y=c-n.xx,b=d-n.yy,w=n.chl-m;n.xx=c,n.yy=d;let x=n.fpos;for(let t=0;t<qn;t++)n.fxs[x]-=y*Kn[t],n.fys[x]-=b*Kn[t],n.fchls[x]-=w*Kn[t],x=(x+1)%qn;n.fx=n.fxs[n.fpos],n.fy=n.fys[n.fpos],n.fchl=n.fchls[n.fpos],n.ftg=qn,n.ehl=0}break;case"l":{if(!C_)return;const e=[];let s,r=0,o=0;xk=t[i++];let a=t[i]<<8|t[i+1];i+=2;let l=t[i]<<8|t[i+1];i+=2;let c=null;if(To){c={};for(const t of Co.values())c[t.ni+":"+t.ms]=t}for(;i<n;){let n=t[i]<<8|t[i+1];i+=2;let a=(t[i]<<16|t[i+1]<<8|t[i+2])/16777215;i+=3,s=0|ai(n,a);const l=t[i++]%9;let d,u=t[i++];o++,o===xk?(d=g_,u=d.length):1===u?d=String.fromCharCode(t[i++]):(d=String.fromCharCode.apply(null,t.subarray(i,i+u)),i+=u),r++;const h=o===xk;let p,f;if(To){const t=c?c[d+":"+o]:null;p=t?t.c:iy[l],f=!!t}else p=h?"#7715FF":iy[l],f=h;e.push({place:r,nk:d,score:s,color:p,me:f})}!To&&a>10&&e.push({place:a,nk:g_,score:0|ii(f_,!1),color:"#7715FF",me:!0}),In.rank=a,In.slitherCount=l,ba.players=e}break;case"v":{const t=performance.now();F_=Zi.instant_gameover?t-5e3:t;const e=0|ii(f_,!0);In.finalScore=e,Jo(e),To&&(xx="none",a={nick:Qo.nickname,serverIP:In.serverAddress,score:e,rank:In.rank,kills:In.kills,performanceDetails:`${In.fps} fps @ ${In.ping} (${In.maxPing}) ms`},So?.send(JSON.stringify({type:"handle-snake-death",...a}))),E_=!0}break;case"W":{const e=t[i++],s=t[i++];rk.push({xx:e,yy:s})}break;case"w":{let e,s,n;if(HM>=8?(e=2,s=t[i++],n=t[i++]):(e=t[i++],s=t[i]<<8|t[i+1],i+=2,n=t[i]<<8|t[i+1],i+=2),1===e)rk.push({xx:s,yy:n});else{let t=Zx-1;for(let e=t;e>=0;e--){const r=Jx[e];r.sx===s&&r.sy===n&&(e!==t&&(Jx[e]=Jx[t]),Jx[t]=null,Zx--,t--)}for(let t=rk.length-1;t>=0;t--){const e=rk[t];e.xx===s&&e.yy===n&&rk.splice(t,1)}}}break;case"m":t[i],t[i+1],t[i+2],i+=3,t[i],t[i+1],t[i+2],i+=3,t[i++];break;case"p":px=Math.round(performance.now()-b_),__=!1,x_&&(LM*=k_,x_=!1);break;case"U":{let e=t[i]<<8|t[i+1];if(i+=2,e>512&&(e=512),kk!==e&&Pk(e,!1),!Ak){const t=Yo.c1.getContext("2d");t.clearRect(0,0,kk,kk),t.drawImage(Yo.c2,0,0)}Mk=0,Yo.c1alpha=$k,Yo.c2alpha=0;const s=Yo.c2.getContext("2d");s.clearRect(0,0,kk,kk),s.fillStyle="#FFFFFF";let r=kk-1,o=kk-1;for(;i<n&&o>=0;){let e=t[i++];if(e>=128){e-=128;let t=e;for(;t>0&&o>=0;){let e=Math.min(t,r+1);r-=e,t-=e,r<0&&(r=kk-1,o--)}}else for(let t=0;t<7&&o>=0;t++)(e&Kk[t])>0&&s.fillRect(r,o,1,1),r--,r<0&&(r=kk-1,o--)}if(!Ak){Ak=!0;const t=Yo.c1.getContext("2d");t.clearRect(0,0,kk,kk),t.drawImage(Yo.c2,0,0)}}break;case"L":{let e=t[i]<<8|t[i+1];if(i+=2,e>512&&(e=512),kk!==e&&Pk(e,!1),Ak){const t=Yo.c1.getContext("2d");t.clearRect(0,0,kk,kk),t.drawImage(Yo.c2,0,0)}Mk=0,Yo.c1alpha=$k,Yo.c2alpha=0;const s=Yo.c2.getContext("2d");if(s.clearRect(0,0,kk,kk),s.fillStyle="#FFFFFF",!Ak){Ak=!0;const t=Yo.c1.getContext("2d");t.clearRect(0,0,kk,kk),t.drawImage(Yo.c2,0,0)}}break;case"M":{let e=t[i]<<8|t[i+1];if(i+=2,e>512&&(e=512),kk!==e&&Pk(e,!1),Sk.fill(0),Ak){const t=Yo.c1.getContext("2d");t.clearRect(0,0,kk,kk),t.drawImage(Yo.c2,0,0)}Mk=0,Yo.c1alpha=$k,Yo.c2alpha=0;const s=Yo.c2.getContext("2d");s.clearRect(0,0,kk,kk),s.fillStyle="#FFFFFF";let r=kk-1,o=kk-1;for(;i<n&&o>=0;){let e=t[i++];if(e>=128)for(255===e?e=126*t[i++]:e-=128;e-- >0&&o>=0;)r--,r<0&&(r=kk-1,o--);else for(let t=0;t<7&&o>=0;t++)(e&Kk[t])>0&&(Sk[o*kk+r]=1,s.fillRect(r,o,1,1)),r--,r<0&&(r=kk-1,o--)}if(!Ak){Ak=!0;const t=Yo.c1.getContext("2d");t.clearRect(0,0,kk,kk),t.drawImage(Yo.c2,0,0)}}break;case"V":{if(Ak){const t=Yo.c1.getContext("2d");t.clearRect(0,0,kk,kk),t.drawImage(Yo.c2,0,0)}Mk=0,Yo.c1alpha=$k,Yo.c2alpha=0;const e=Yo.c2.getContext("2d");e.fillStyle="#FFFFFF";let s=kk-1,r=kk-1;for(;i<n&&r>=0;){let n=t[i++];if(n>=128)for(255===n?n=126*t[i++]:n-=128;n-- >0&&r>=0;)s--,s<0&&(s=kk-1,r--);else for(let t=0;t<7&&r>=0;t++){if((n&Kk[t])>0){const t=r*kk+s;1===Sk[t]?(Sk[t]=0,e.clearRect(s,r,1,1)):(Sk[t]=1,e.fillRect(s,r,1,1))}s--,s<0&&(s=kk-1,r--)}}if(!Ak){Ak=!0;const t=Yo.c1.getContext("2d");t.clearRect(0,0,kk,kk),t.drawImage(Yo.c2,0,0)}}break;case"u":{Ak=!0,80!==kk&&Pk(80,!0);const e=Yo.c1.getContext("2d");e.clearRect(0,0,80,80),e.fillStyle="#FFFFFF";let s=0,r=0;for(;i<n&&r<80;){let n=t[i++];if(n>=128){n-=128;let t=n;for(;t>0&&r<80;){let e=Math.min(t,80-s);s+=e,t-=e,s>=80&&(s=0,r++)}}else for(let t=0;t<7&&r<80;t++)(n&Kk[t])>0&&e.fillRect(s,r,1,1),s++,s>=80&&(s=0,r++)}}break;case"i":{const e=t[i++],s=t[i]<<8|t[i+1];i+=2;const r=tk["s"+s];if(r)if(0===e){const e=t[i++],s=t[i++],n=t[i++],o=t[i++];(e>0||s>0||n>0||o>0)&&(r.ip=`${e}.${s}.${n}.${o}`)}else if(1===e){let e="";for(;i<n;)e+=String.fromCharCode(t[i++]);r.onk=e}}break;case"s":{if(!C_)return;const e=t[i]<<8|t[i+1];if(i+=2,o>6){const s=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215;i+=3,t[i++];const r=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215;i+=3;const o=(t[i]<<8|t[i+1])/1e3;i+=2;const a=(t[i]<<16|t[i+1]<<8|t[i+2])/16777215;i+=3;const l=t[i++],c=[],d=(t[i]<<16|t[i+1]<<8|t[i+2])/5;i+=3;const u=(t[i]<<16|t[i+1]<<8|t[i+2])/5;i+=3;const h=t[i++];let p="";for(let e=0;e<h;e++)p+=String.fromCharCode(t[i++]);let f=null;if(HM>=11){const e=t[i++];if(e>0){f=new Uint8Array(e);for(let s=0;s<e;s++)f[s]=t[i+s]}i+=e}let g=255;HM>=12&&(g=t[i++]);let v=fk,m=0,y=0,b=0,w=0,x=!1,k=1,_=null;const M=n-2;for(;i<n;){if(_={fxs:new Float32Array(Xn),fys:new Float32Array(Xn),fltns:new Float32Array(Xn),fsmus:new Float32Array(Xn)},b=m,w=y,x)if(i==M&&HM>=15){const e=t[i]<<8|t[i+1];_.iang=e,i+=2;const s=e*Bn;m+=Math.cos(s)*fk,y+=Math.sin(s)*fk}else m+=(t[i++]-127)/2,y+=(t[i++]-127)/2;else m=(t[i]<<16|t[i+1]<<8|t[i+2])/5,i+=3,y=(t[i]<<16|t[i+1]<<8|t[i+2])/5,i+=3,b=m,w=y,x=!0;_.fpos=0,_.ftg=0,_.fsmu=0,_.xx=m,_.yy=y,_.fx=0,_.fy=0,_.fltn=0,_.da=0,_.ltn=1,_.ebx=m-b,_.eby=y-w,c.push(_)}let A=0;for(let t=c.length-1;t>=0;t--)A<yk&&(k=bk[A++]),c[t].smu=k;Iy({type:"GET_TAG_COSMETIC",payload:{snakeId:String(e),serverIp:In.serverAddress}});const $=Ok(e,d,u,l,s,c,v,f,g);null==f_?(ek=!0,(f_=$).md=!1,f_.wmd=!1,$.nk=g_,Bk=-1,Vk=-1,jk=0,Uk=-1,Wk=-1,Hk=-1):$.nk=p,$.ip="",$.onk="",$.eang=$.wang=r,$.sp=o,$.spang=$.sp/ak,$.spang>1&&($.spang=1),$.fam=a,$.sc=Math.min(6,1+($.sct-2)/106),$.scang=.13+.87*Math.pow((7-$.sc)/6,2),$.ssp=lk+ck*$.sc,$.fsp=$.ssp+.1,$.wsep=6*$.sc;const S=Math.min(Yx/pM,18);$.wsep<S&&($.wsep=S),$.sep=$.wsep,zk($)}else{const s=1===t[i++];for(let t=Gx.length-1;t>=0;t--)if(Gx[t].id===e){const n=Gx[t];n.id=-1234,s?(n.dead=!0,n.dead_amt=0,n.edir=0):Tk(t),delete tk["s"+e];break}}}break;case"F":if(HM>=14){const e=t[i++],s=t[i++],r=e*ok,o=s*ok;for(;i<n;){const n=t[i++],a=t[i++],l=t[i++],c=Dk(e<<24|s<<16|a<<8|l,r+a*ik,o+l*ik,t[i++]/5,!0,n);c.sx=e,c.sy=s}}else if(HM>=4){let e,s,r=!1;for(;i<n;){const n=t[i++],o=t[i]<<8|t[i+1];i+=2;const a=t[i]<<8|t[i+1];i+=2;const l=t[i++]/5,c=Dk(a*Ux*3+o,o,a,l,!0,n);r||(r=!0,e=Math.floor(o/ok),s=Math.floor(a/ok)),c.sx=e,c.sy=s}}else{const e=t[i]<<8|t[i+1];i+=2;const s=t[i]<<8|t[i+1];for(i+=2;i<n;){const n=t[i]<<16|t[i+1]<<8|t[i+2];i+=3;const r=t[i++],o=Dk(n,ok*(e+t[i++]/255),ok*(s+t[i++]/255),t[i++]/5,!0,r);o.sx=e,o.sy=s}}break;case"b":case"f":{let e;if(HM>=14){let n,r;o>=5?(n=t[i++],r=t[i++],Bk=n,Vk=r):(n=Bk,r=Vk);const a=t[i++],l=t[i++],c=n*ok+a*ik,d=r*ok+l*ik;let u;e=n<<24|r<<16|a<<8|l,4===o||6===o?(u=t[i++],jk=u):u=jk;const h=Dk(e,c,d,t[i++]/5,"b"===s,u);h.sx=n,h.sy=r}else if(HM>=4){const n=t[i++];if(o>4){const r=t[i]<<8|t[i+1];i+=2;const o=t[i]<<8|t[i+1];i+=2,e=o*Ux*3+r;const a=Dk(e,r,o,t[i++]/5,"b"===s,n);a.sx=Math.floor(r/ok),a.sy=Math.floor(o/ok)}}else if(e=t[i]<<16|t[i+1]<<8|t[i+2],i+=3,o>4){const n=t[i++],r=t[i]<<8|t[i+1];i+=2;const o=t[i]<<8|t[i+1];i+=2;const a=Dk(e,ok*(r+t[i++]/255),ok*(o+t[i++]/255),t[i++]/5,"b"===s,n);a.sx=r,a.sy=o}}break;case"c":case"C":case"<":{let e,n,r,a,l,c=-1;if(HM>=14)"c"===s&&2===o||"<"===s&&4===o||"C"===s&&2===o?(n=Uk,r=Wk):(n=t[i++],r=t[i++],Uk=n,Wk=r),a=t[i++],l=t[i++],e=n<<24|r<<16|a<<8|l,"<"===s?(c=t[i]<<8|t[i+1],i+=2,Hk=c):"C"===s&&(c=Hk);else if(HM>=4){const s=t[i]<<8|t[i+1];i+=2;const n=t[i]<<8|t[i+1];i+=2,e=n*Ux*3+s,c=t[i]<<8|t[i+1],i+=2}else e=t[i]<<16|t[i+1]<<8|t[i+2],i+=3,c=t[i]<<8|t[i+1],i+=2;let d=Zx-1;for(let t=d;t>=0;t--){const s=Jx[t];if(s.id===e){s.eaten=!0,c>=0?(s.eaten_by=tk["s"+c],s.eaten_fr=0):t===d?(Jx[t]=null,Zx--,d--):(Jx[t]=Jx[d],Jx[d]=null,Zx--,d--),e=-1;break}}}break;case"j":{const e=t[i]<<8|t[i+1];i+=2;const s=1+3*(t[i]<<8|t[i+1]);i+=2;const n=1+3*(t[i]<<8|t[i+1]);i+=2;let r=null;for(let t=Qx.length-1;t>=0;t--)if(Qx[t].id===e){r=Qx[t];break}if(r){let e=r.sp*(LM/8)/4;e*=k_;const a=r.xx,l=r.yy;15===o?(r.dir=t[i++]-48,r.ang=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215,i+=3,r.wang=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215,i+=3,r.sp=(t[i]<<8|t[i+1])/1e3,i+=2):11===o?(r.ang=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215,i+=3,r.sp=(t[i]<<8|t[i+1])/1e3,i+=2):12===o?(r.dir=t[i++]-48,r.wang=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215,i+=3,r.sp=(t[i]<<8|t[i+1])/1e3,i+=2):13===o?(r.dir=t[i++]-48,r.ang=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215,i+=3,r.wang=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215,i+=3):9===o?(r.ang=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215,i+=3):10===o?(r.dir=t[i++]-48,r.wang=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215,i+=3):8===o&&(r.sp=(t[i]<<8|t[i+1])/1e3,i+=2),r.xx=s+Math.cos(r.ang)*e,r.yy=n+Math.sin(r.ang)*e;const c=r.xx-a,d=r.yy-l;let u=r.fpos;for(let t=0;t<qn;t++)r.fxs[u]-=c*Kn[t],r.fys[u]-=d*Kn[t],u++,u>=qn&&(u=0);r.fx=r.fxs[r.fpos],r.fy=r.fys[r.fpos],r.ftg=qn}}break;case"y":{const e=t[i]<<8|t[i+1];if(i+=2,2===o){for(let t=Qx.length-1;t>=0;t--)if(Qx[t].id===e){Qx.splice(t,1);break}}else if(4===o){const s=t[i]<<8|t[i+1];i+=2;for(let t=Qx.length-1;t>=0;t--){const n=Qx[t];if(n.id===e){n.eaten=!0,n.eaten_by=tk["s"+s],n.eaten_by?n.eaten_fr=0:Qx.splice(t,1);break}}}else{const s=t[i++],n=(t[i]<<16|t[i+1]<<8|t[i+2])/5;i+=3;const r=(t[i]<<16|t[i+1]<<8|t[i+2])/5;i+=3;const o=t[i++]/5,a=t[i++]-48,l=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215;i+=3;const c=2*(t[i]<<16|t[i+1]<<8|t[i+2])*Math.PI/16777215;i+=3;const d=(t[i]<<8|t[i+1])/1e3;i+=2,Lk(e,n,r,o,s,a,l,c,d)}}break;case"k":{const e=t[i]<<8|t[i+1];i+=2;const s=tk["s"+e];s&&(s.kill_count=t[i]<<16|t[i+1]<<8|t[i+2]),s===f_&&(In.kills=s.kill_count)}break;case"z":{Hx=t[i]<<16|t[i+1]<<8|t[i+2],i+=3;let e=Xx;for(let t=0;t<jn;t++)Kx[e]+=(Hx-Kx[e])*Un[t],e++,e>=jn&&(e=0);qx=jn}}var a},XM=!1,YM=!1,GM=!1,JM=0,ZM=0,QM=0,tA=0,eA=0,sA=0,nA=0,rA=0,oA=0;ex.focus();var iA=new class{#ir;#ar=new Map;#lr=null;#cr=0;constructor(t){this.#ir=t}#dr=t=>{const e=t.key.toLowerCase(),s=Date.now(),n=this.#lr,r=this.#cr;this.#lr=e,this.#cr=s;const o=this.#ar.get(e);if(null==o)return;const i=n===e&&s-r<=this.#ir;let a=!1;for(const e of o)e.metaKeys&&!this.#ur(t,e.metaKeys)||(e.doublePress?i&&(e.down(t),a=!0):e.down(t));return a?(this.#lr=null,void(this.#cr=0)):void 0};#hr=t=>{const e=t.key.toLowerCase(),s=this.#ar.get(e);if(s)for(const e of s)e.up&&(e.metaKeys&&!this.#ur(t,e.metaKeys)||e.up(t))};#ur(t,e){return!("shift"in e&&t.shiftKey!==e.shift||"ctrl"in e&&t.ctrlKey!==e.ctrl||"alt"in e&&t.altKey!==e.alt||"meta"in e&&t.metaKey!==e.meta)}register(t,e){const s=t.toLowerCase();this.#ar.has(s)||this.#ar.set(s,[]),this.#ar.get(s)?.push(e)}keydown=t=>this.#dr(t);keyup=t=>this.#hr(t)}(3e3);iA.register("enter",{down:()=>{if(!C_||XM||nx)XM||nx||C_||(nl(!0),Yr.enabled=!1,qM());else{const t=document.getElementById("message-input");t&&t.focus()}}}),iA.register("escape",{down:()=>{ya.close(),nl(!1),Gr.update((t=>!t))}}),iA.register("x",{down:()=>{!C_||XM||nx||(fM=.8)}}),iA.register("0",{down:()=>{!C_||XM||nx||(nl(!0),qM())},doublePress:!0}),iA.register("e",{down:()=>{XM||nx||pt(eo,!ze(eo))},doublePress:!0}),iA.register(".",{down:()=>{!C_||XM||nx||(ya.open(),Gr.set(!1))},doublePress:!0}),iA.register(",",{down:()=>{!C_||XM||nx||(Gr.set(!1),zM(0),Yr.enabled=!0,ox())},doublePress:!0}),iA.register("t",{down:()=>{!C_||XM||nx||Sx()||Ix||(Yr.enabled=!Yr.enabled,Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Bot: "+(Yr.enabled?"Enabled":"Disabled"),time:Date.now()}])))},doublePress:!0}),iA.register("8",{down:()=>{!C_||XM||nx||(gM=!gM,Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Auto respawn: "+(gM?"Enabled":"Disabled"),time:Date.now()}])))},doublePress:!0}),iA.register("9",{down:()=>{!C_||XM||nx||(gM=!1,F_=performance.now()-5e3,E_=!0)},doublePress:!0}),iA.register("g",{down:()=>{!C_||XM||nx||(In.toggleAnimation(),Yr.enabled=!0)},doublePress:!0}),iA.register(" ",{down:()=>{!C_||XM||nx||Yr.enabled&&null!=f_&&(Vi.defaultAccel=0===Vi.defaultAccel?1:0)},doublePress:!0}),iA.register(" ",{down:()=>{!C_||XM||nx||Yr.enable||zM(1)},up:()=>{Yr.enable||zM(0)}}),iA.register("w",{down:()=>{!C_||XM||nx||(Cx=!0)},up:()=>{Cx=!1}}),iA.register("r",{down:()=>{!C_||XM||nx||Yr.enabled||Sx()||(Ix=!0)},up:()=>{Ix=!1}}),iA.register("1",{down:()=>{!C_||XM||nx||To&&(wx="enemy",bx=!bx)},doublePress:!0}),iA.register("2",{down:()=>{!C_||XM||nx||To&&(wx="ally",bx=!bx)},doublePress:!0}),iA.register("s",{down:()=>{!C_||XM||nx||To&&(xx="sos"===xx?"none":"sos")},doublePress:!0}),iA.register("f",{down:()=>{!C_||XM||nx||To&&(xx="food"===xx?"none":"food")},doublePress:!0}),iA.register("d",{down:()=>{!C_||XM||nx||Yr.enabled||!Zi.snakey_rotate||$x||(Ax=!Ax,kx=-1,_x=-1,Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Rotate Right: "+(Ax?"Enabled":"Disabled"),time:Date.now()}])))}}),iA.register("a",{down:()=>{!C_||XM||nx||Yr.enabled||!Zi.snakey_rotate||Ax||($x=!$x,kx=-1,_x=-1,Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"Rotate Left: "+($x?"Enabled":"Disabled"),time:Date.now()}])))}}),iA.register("arrowleft",{down:()=>{z_=!0},up:()=>{z_=!1}}),iA.register("arrowright",{down:()=>{D_=!0},up:()=>{D_=!1}}),window.addEventListener("keydown",(t=>{const e=t.key.toLowerCase();"escape"===e&&ix();const{activeElement:s}=document;if((s===ex||s===sx)&&"enter"===e)return nl(!0),Yr.enabled=!1,void qM();if(XM&&YM)Ub.focus();else{if(C_&&!XM&&!nx&&bx&&"+"!==e&&"-"!==e){const e=mx.indexOf(t.key),s=yx[e];s&&To&&("enemy"===wx?(bx=!1,yx.length=0,Uo({snakeId:s,a_type:"enemy",serverIp:In.serverAddress})):"ally"===wx&&(bx=!1,yx.length=0,Uo({snakeId:s,a_type:"ally",serverIp:In.serverAddress})))}iA.keydown(t)}})),window.addEventListener("keyup",(t=>{iA.keyup(t)})),Vi.onSetCoordinates=(t,e)=>{null!=f_&&(d_=t-f_.xx,u_=e-f_.yy)},Vi.onAcceleration=t=>{zM(t)},RM(),(async()=>{const t=await fetch("https://slither.io/i80124.txt");if(!t.ok)throw new Error("Failed to fetch server list");Ta(await t.text()),Ia.setServerList(Ra(Ea),Oa)})(),nl(!1),function t(){Cy&&Cy.close(),(Cy=new WebSocket("wss://server.stellarslither.com/common/")).onopen=()=>{},Cy.onerror=e=>{setTimeout(t,5e3)},Cy.onclose=()=>{setTimeout(t,5e3)},Cy.onmessage=t=>{let e;try{e=JSON.parse(t.data)}catch{return}switch(e.type){case"GTC":const t=e.tag?.si;t&&$y.update((s=>{const n=s.get(t);n?.timeout&&clearTimeout(n.timeout);const r=setTimeout((()=>{$y.update((e=>(e.delete(t),e)))}),2e3);return s.set(t,{...e.tag,timeout:r}),s}));const s=e.cosmetic?.si;s&&Py.update((t=>{const n=t.get(s);n?.timeout&&clearTimeout(n.timeout);const r=setTimeout((()=>{Py.update((t=>(t.delete(s),t)))}),2e3);return t.set(s,{...e.cosmetic,timeout:r}),t}));break;case"LC":e.success||(Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"wrong cosmetic details.",time:Date.now()}])),_y("cosmetic"));break;case"LT":e.success||(Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"wrong tag details.",time:Date.now()}])),_y("tag"));break;case"VT":e.success?My({type:"tag",...e.tag}):(Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"wrong tag details.",time:Date.now()}])),_y("tag"));break;case"VC":e.success?My({type:"cosmetic",...e.cosmetic}):(Po.update((t=>[...t,{name:"STELLAR MOD",color:"#00FFFF",from:"bot",text:"wrong cosmetic details.",time:Date.now()}])),_y("cosmetic"))}}}();